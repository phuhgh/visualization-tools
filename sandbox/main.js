(()=>{var r={6125:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Array=void 0;var n=r(1371),i=r(8515),a=r(2950),o=r(7112),s=r(134),c=r(1065),l=r(6199),u=r(2991),d=r(3321),h=r(7064),p=r(6621),g=r(7319),f=r(6386),y=r(1094),v=r(5351),m=r(9972),b=r(1036),C=r(5208),E=r(4887),_=r(1927),P=r(6471),O=r(4840),w=r(2394),S=r(1745),M=r(5191),T=r(9459),r=r(7866);class R{constructor(){}}(t._Array=R).binaryIndexOf=n.arrayBinaryIndexOf,R.binaryLastIndexOf=a.arrayBinaryLastIndexOf,R.collect=f.arrayCollect,R.compact=b.arrayCompact,R.compactMap=C.arrayCompactMap,R.contains=S.arrayContains,R.copyInto=s.arrayCopyInto,R.emptyArray=P.arrayEmptyArray,R.flatMap=c.arrayFlatMap,R.forEach=l.arrayForEach,R.generateRange=O.arrayGenerateRange,R.index=u.arrayIndex,R.insertAtIndex=M.arrayInsertAtIndex,R.intersect=d.arrayIntersect,R.isArray=i.arrayIsArray,R.last=h.arrayLast,R.map=o.arrayMap,R.mapRange=w.arrayMapRange,R.normalizeEmptyToUndefined=p.arrayNormalizeEmptyToUndefined,R.normalizeNullishToEmpty=g.arrayNormalizeNullishToEmpty,R.pushUnique=_.arrayPushUnique,R.removeMany=y.arrayRemoveMany,R.removeOne=v.arrayRemoveOne,R.replaceOne=m.arrayReplaceOne,R.setDifference=r.arraySetDifference,R.symmetricDifference=T.arraySymmetricDifference,R.union=E.arrayUnion},1371:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayBinaryIndexOf=void 0;const a=r(867);function o(e,t){return t<e}t.arrayBinaryIndexOf=function(e,t,r,n,i){return i=(0,a.binaryFindInsertionIndex)(e,t,r,o,e=>e,n,i),r(e,i)===t?i:-1}},2950:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayBinaryLastIndexOf=void 0;const a=r(867);function o(e,t){return t<=e}t.arrayBinaryLastIndexOf=function(e,t,r,n,i){return i=(0,a.binaryFindInsertionIndex)(e,t,r,o,e=>e-1,n,i),r(e,i)===t?i:-1}},6386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayCollect=void 0,t.arrayCollect=function(r,n,i){for(let e=0,t=r.length;e<t;++e)i(n,r[e],e);return n}},5208:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayCompactMap=void 0,t.arrayCompactMap=function(r,n){const i=[];for(let e=0,t=r.length;e<t;++e){var a=n(r[e],e);null!==a&&i.push(a)}return i}},1036:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayCompact=void 0,t.arrayCompact=function(r){const n=[];for(let e=0,t=r.length;e<t;++e){var i=r[e];null!=i&&n.push(i)}return n}},1745:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayContains=void 0,t.arrayContains=function(e,t){return-1!==e.indexOf(t)}},134:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayCopyInto=void 0;r(6108);t.arrayCopyInto=function(t,r,n=0,e=t.length){const i=n+e;r.length=e;for(let e=0;n<i;++n,++e)r[e]=t[n]}},6471:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayEmptyArray=void 0,t.arrayEmptyArray=[]},1065:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayFlatMap=void 0,t.arrayFlatMap=function(r,n){const i=[];for(let e=0,t=r.length;e<t;++e){var a=n(r[e],e);if(null!==a){let r=i.length;i.length+=a.length;for(let e=0,t=a.length;e<t;++e)i[r++]=a[e]}}return i}},6199:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayForEach=void 0,t.arrayForEach=function(r,n){for(let e=0,t=r.length;e<t;++e)n(r[e],e)}},4840:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayGenerateRange=void 0;const n=r(2394),i=r(3666);t.arrayGenerateRange=function(e,t){return(0,n.arrayMapRange)(e,t,i.fpIdentity)}},2991:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayIndex=void 0,t.arrayIndex=function(r,n){const i=new Map;for(let e=0,t=r.length;e<t;++e){var a=r[e],o=n(a,e);null!==o&&i.set(o,a)}return i}},5191:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayInsertAtIndex=void 0,t.arrayInsertAtIndex=function(e,t,r){e.splice(r,0,t)}},3321:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayIntersect=void 0;const s=r(2991),c=r(3666);t.arrayIntersect=function(r,e,n=c.fpIdentity){const i=[],a=(0,s.arrayIndex)(e,n);for(let e=0,t=r.length;e<t;++e){var o=r[e];a.has(n(o,e))&&i.push(o)}return i}},8515:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayIsArray=void 0,t.arrayIsArray=function(e){return e instanceof Array||ArrayBuffer.isView(e)}},7064:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayLast=void 0,t.arrayLast=function(e){if(0!==e.length)return e[e.length-1]}},2394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMapRange=void 0;r(6108);t.arrayMapRange=function(t,e,r){var e=e-t,n=Math.abs(e)+1,i=Math.sign(e);const a=new Array(n);for(let e=0;e<n;++e)a[e]=r(t,e),t+=i;return a}},7112:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMap=void 0,t.arrayMap=function(r,n){const i=new Array(r.length);for(let e=0,t=r.length;e<t;++e)i[e]=n(r[e],e);return i}},6621:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayNormalizeEmptyToUndefined=void 0,t.arrayNormalizeEmptyToUndefined=function(e){if(null!=e&&0!==e.length)return e}},7319:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayNormalizeNullishToEmpty=void 0,t.arrayNormalizeNullishToEmpty=function(e){return null==e?[]:e}},1927:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayPushUnique=void 0;const a=r(3666);t.arrayPushUnique=function(r,e,n=a.fpIdentity){var i=n(e);for(let e=0,t=r.length;e<t;++e)if(n(r[e])===i)return!1;return r.push(e),!0}},1094:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayRemoveMany=void 0,t.arrayRemoveMany=function(e,t){const r=new Set(t);let n=e.length,i=0;for(;0<n--;)r.has(e[n])&&(e.splice(n,1),++i);return i}},5351:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayRemoveOne=void 0,t.arrayRemoveOne=function(e,t){return-1!==(t=e.indexOf(t))&&(e.splice(t,1),!0)}},9972:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayReplaceOne=void 0,t.arrayReplaceOne=function(e,t,r){return-1!==(t=e.indexOf(t))&&(e[t]=r,!0)}},7866:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arraySetDifference=void 0,t.arraySetDifference=function(r,n){const i=new Set;for(let e=0,t=r.length;e<t;++e){var a=r[e];n.has(a)||i.add(a)}return i}},9459:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arraySymmetricDifference=void 0,t.arraySymmetricDifference=function(r,n,i=new Set(r),a=new Set(n)){const o=new Set;for(let e=0,t=r.length;e<t;++e){var s=r[e];a.has(s)||o.add(s)}for(let e=0,t=n.length;e<t;++e){var c=n[e];i.has(c)||o.add(c)}return o}},4887:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayUnion=void 0;const s=r(3666),c=r(1188);t.arrayUnion=function(r,n=s.fpIdentity){const i=new Map;for(let e=0,t=r.length;e<t;++e){var a=r[e];for(let e=0,t=a.length;e<t;++e){var o=a[e];i.set(n(o,e),o)}}return(0,c.mapValuesToArray)(i)}},867:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.binaryFindInsertionIndex=void 0;r(6108);const d=r(6845);t.binaryFindInsertionIndex=function(e,t,r,n,i,a,o=0){let s=o,c=a;for(;s<c;){var l=s+c>>1,u=r(e,l);n(t,u)?s=1+l:c=l}return(0,d.mathBound)(i(c),o,a-1)}},6162:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMargin2dCtor=void 0;const n=r(2030),i=r(7027),a=r(2534),o=r(6201);t.getMargin2dCtor=function(e){var t=class extends(0,o.getMat2Ctor)(e){getLeft(){return this[0]}getRight(){return this[1]}getTop(){return this[2]}getBottom(){return this[3]}setLeft(e){this[0]=e}setRight(e){this[1]=e}setTop(e){this[2]=e}setBottom(e){this[3]=e}sumX(){return this[0]+this[1]}sumY(){return this[2]+this[3]}getInnerRange(e,t=this.constructor.rangeCtor.factory.createOneEmpty()){return t[0]=e[0]+this[0],t[1]=e[1]-this[1],t[2]=e[2]+this[3],t[3]=e[3]-this[2],t}mat3TransformLength(e,t=this.constructor.factory.createOneEmpty()){return t.setLeft(e.getTransformedXLength(0,this.getLeft())),t.setRight(e.getTransformedXLength(0,this.getRight())),t.setTop(e.getTransformedYLength(0,this.getTop())),t.setBottom(e.getTransformedYLength(0,this.getBottom())),t}};return t.factory=new n.Mat2Factory(t,a.NormalizedDataViewProvider.getView(e)),t.rangeCtor=i.Range2d.getCtor(e),t}},346:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Margin2d=void 0;const n=r(6162),i=r(7e3);class a extends r(7190).Mat2{static getCtor(e){return this.constructors.get(e)}getLeft(){throw new Error}getRight(){throw new Error}getTop(){throw new Error}getBottom(){throw new Error}setLeft(e){throw new Error}setRight(e){throw new Error}setTop(e){throw new Error}setBottom(e){throw new Error}update(){throw new Error}sumX(){throw new Error}sumY(){throw new Error}getInnerRange(e,t){throw new Error}mat3TransformLength(e,t){throw new Error}copyFromBuffer(e,t,r){throw new Error}copyToBuffer(e,t,r){throw new Error}castToBaseType(){throw new Error}}(t.Margin2d=a).f64=(0,n.getMargin2dCtor)(Float64Array),a.f32=(0,n.getMargin2dCtor)(Float32Array),a.u32=(0,n.getMargin2dCtor)(Uint32Array),a.i32=(0,n.getMargin2dCtor)(Int32Array),a.u16=(0,n.getMargin2dCtor)(Uint16Array),a.i16=(0,n.getMargin2dCtor)(Int16Array),a.u8c=(0,n.getMargin2dCtor)(Uint8ClampedArray),a.u8=(0,n.getMargin2dCtor)(Uint8Array),a.i8=(0,n.getMargin2dCtor)(Int8Array),a.constructors=(0,i.populateTypedArrayConstructorMap)(a)},8575:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRange2dCtor=void 0;const n=r(6201),i=r(9110),a=r(2030),o=r(2534),s=(r(6108),r(5942));t.getRange2dCtor=function(e){var t=class extends(0,n.getMat2Ctor)(e){setXMin(e){this[0]=e}setXMax(e){this[1]=e}setYMin(e){this[2]=e}setYMax(e){this[3]=e}getXMin(){return this[0]}getXMax(){return this[1]}getYMin(){return this[2]}getYMax(){return this[3]}getRange(e=this.constructor.vec2Ctor.factory.createOneEmpty()){return e.setX(this.getXRange()),e.setY(this.getYRange()),e}getXRange(){return this[1]-this[0]}getYRange(){return this[3]-this[2]}getXMaxAbs(){var e=Math.abs(this.getXMin()),t=Math.abs(this.getXMax());return t<e?e:t}getYMaxAbs(){var e=Math.abs(this.getYMin()),t=Math.abs(this.getYMax());return t<e?e:t}getCenter(e=this.constructor.vec2Ctor.factory.createOneEmpty()){return e.setX(this.getXCenter()),e.setY(this.getYCenter()),e}getXCenter(){return.5*(this[0]+this[1])}getYCenter(){return.5*(this[2]+this[3])}mat3Multiply(e,t=this.constructor.factory.createOneEmpty()){return t.setXMin(e.getVec3MultiplyX(this.getXMin())),t.setXMax(e.getVec3MultiplyX(this.getXMax())),t.setYMin(e.getVec3MultiplyY(this.getYMin())),t.setYMax(e.getVec3MultiplyY(this.getYMax())),t}unionRange(e,t=this.constructor.factory.createOneEmpty()){return t[0]=(this[0]>e[0]?e:this)[0],t[1]=(this[1]<e[1]?e:this)[1],t[2]=(this[2]>e[2]?e:this)[2],t[3]=(this[3]<e[3]?e:this)[3],t}extendRange(e,t,r=this.constructor.factory.createOneEmpty()){return r[0]=this[0]>e?e:this[0],r[1]=this[1]<e?e:this[1],r[2]=this[2]>t?t:this[2],r[3]=this[3]<t?t:this[3],r}getRangeTransform(e,t=this.constructor.mat3Ctor.factory.createOneEmpty()){var r=e.getXRange()/this.getXRange(),n=e.getYRange()/this.getYRange();return t[0]=r,t[1]=0,t[2]=0,t[3]=0,t[4]=n,t[5]=0,t[6]=e.getXMin()-this.getXMin()*r,t[7]=e.getYMin()-this.getYMin()*n,t[8]=1,t}isPointInRange(e){var t=e.getX(),e=e.getY();return t>=this.getXMin()&&t<=this.getXMax()&&e>=this.getYMin()&&e<=this.getYMax()}doesRangeIntersect(e){return Math.abs(this[0]+this[1]-(e[0]+e[1]))<this.getXRange()+e.getXRange()&&Math.abs(this[2]+this[3]-(e[2]+e[3]))<this.getYRange()+e.getYRange()}containsRange(e){return this.getXMin()<=e.getXMin()&&this.getXMax()>=e.getXMax()&&this.getYMin()<=e.getYMin()&&this.getYMax()>=e.getYMax()}scaleRelativeTo(e,t,r=this.constructor.factory.createOneEmpty()){const n=this.getCenter(this.constructor.tmpVec).subtract(t,this.constructor.tmpVec);n.setX(2*n.getX()/this.getXRange()),n.setY(2*n.getY()/this.getYRange());var i=this.getXRange()*e,a=this.getYRange()*e,t=.5*(this.getXRange()-i),e=.5*(this.getYRange()-a),t=this.getXMin()+t-t*n.getX();r.setXMin(t),r.setXMax(t+i);e=this.getYMin()+e-e*n.getY();return r.setYMin(e),r.setYMax(e+a),r}bound(e){var t,r;this.getXRange()>e.getXRange()?(this.setXMin(e.getXMin()),this.setXMax(e.getXMax())):this.getXMax()>e.getXMax()?(t=this.getXRange(),this.setXMax(e.getXMax()),this.setXMin(e.getXMax()-t)):this.getXMin()<e.getXMin()&&(t=this.getXRange(),this.setXMin(e.getXMin()),this.setXMax(e.getXMin()+t)),this.getYRange()>e.getYRange()?(this.setYMin(e.getYMin()),this.setYMax(e.getYMax())):this.getYMax()>e.getYMax()?(r=this.getYRange(),this.setYMax(e.getYMax()),this.setYMin(e.getYMax()-r)):this.getYMin()<e.getYMin()&&(r=this.getYRange(),this.setYMin(e.getYMin()),this.setYMax(e.getYMin()+r))}ensureAABB(){var e;this[0]>this[1]&&(e=this[0],this[0]=this[1],this[1]=e),this[2]>this[3]&&(e=this[2],this[2]=this[3],this[3]=e)}ensureMinRange(e,t){var r=this.getXRange();r<e&&(n=.5*(e-r),this.setXMin(this.getXMin()-n),this.setXMax(this.getXMax()+n));var n=this.getYRange();n<t&&(n=.5*(t-n),this.setYMin(this.getYMin()-n),this.setYMax(this.getYMax()+n))}translateBy(e,t){this.setXMin(this.getXMin()+e),this.setXMax(this.getXMax()+e),this.setYMin(this.getYMin()+t),this.setYMax(this.getYMax()+t)}};return t.factory=new a.Mat2Factory(t,o.NormalizedDataViewProvider.getView(e)),t.vec2Ctor=i.Vec2.getCtor(e),t.mat3Ctor=s.Mat3.getCtor(e),t.tmpVec=t.vec2Ctor.factory.createOneEmpty(),t}},7027:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Range2d=void 0;var n=r(7190);const i=r(8575),a=r(7e3);class o extends n.Mat2{static getCtor(e){return o.constructors.get(e)}setXMin(e){throw new Error}setXMax(e){throw new Error}setYMin(e){throw new Error}setYMax(e){throw new Error}getXMin(){throw new Error}getXMax(){throw new Error}getYMin(){throw new Error}getYMax(){throw new Error}update(){throw new Error}getRange(e){throw new Error}getXRange(){throw new Error}getYRange(){throw new Error}getXMaxAbs(){throw new Error}getYMaxAbs(){throw new Error}getCenter(e){throw new Error}getXCenter(){throw new Error}getYCenter(){throw new Error}mat3Multiply(e,t){throw new Error}unionRange(e,t){throw new Error}extendRange(e,t,r){throw new Error}getRangeTransform(e,t){throw new Error}isPointInRange(e){throw new Error}doesRangeIntersect(e){throw new Error}containsRange(e){throw new Error}scaleRelativeTo(e,t,r){throw new Error}bound(e){throw new Error}ensureAABB(){throw new Error}ensureMinRange(e,t){throw new Error}translateBy(e,t){throw new Error}copyFromBuffer(e,t,r){throw new Error}copyToBuffer(e,t,r){throw new Error}castToBaseType(){throw new Error}}t.Range2d=o,o.f64=(0,i.getRange2dCtor)(Float64Array),o.f32=(0,i.getRange2dCtor)(Float32Array),o.u32=(0,i.getRange2dCtor)(Uint32Array),o.i32=(0,i.getRange2dCtor)(Int32Array),o.u16=(0,i.getRange2dCtor)(Uint16Array),o.i16=(0,i.getRange2dCtor)(Int16Array),o.u8c=(0,i.getRange2dCtor)(Uint8ClampedArray),o.u8=(0,i.getRange2dCtor)(Uint8Array),o.i8=(0,i.getRange2dCtor)(Int8Array),o.constructors=(0,a.populateTypedArrayConstructorMap)(o)},3017:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ATypedArrayTuple=void 0;t.ATypedArrayTuple=class{copyWithin(e,t,r){throw new Error}every(e,t){throw new Error}fill(e,t,r){throw new Error}filter(e,t){throw new Error}find(e,t){throw new Error}findIndex(e,t){throw new Error}forEach(e,t){throw new Error}indexOf(e,t){throw new Error}join(e){throw new Error}lastIndexOf(e,t){throw new Error}map(e,t){throw new Error}reduce(e,t){throw new Error}reduceRight(e,t){throw new Error}reverse(){throw Error()}set(e,t){throw new Error}slice(e,t){throw new Error}some(e,t){throw new Error}sort(e){throw new Error}subarray(e,t){throw new Error}toLocaleString(){throw new Error}toString(){throw new Error}}},9982:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ATypedTupleFactory=void 0;r=r(1677);class s{constructor(e,t,r){this.length=e,this.bytesPerElement=t,this.dataView=r}copyFromBuffer(r,n,i=this.createOneEmpty(),a=s.littleEndian){var o=this.bytesPerElement;for(let e=0,t=this.length;e<t;++e)i[e]=this.dataView.getValue(r,n,a),n+=o;return i}copyToBuffer(r,n,i,a=s.littleEndian){var o=this.bytesPerElement;for(let e=0,t=this.length;e<t;++e)this.dataView.setValue(r,i,n[e],a),i+=o}}(t.ATypedTupleFactory=s).littleEndian=r.isLittleEndian},6201:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMat2Ctor=void 0;const n=r(2030),i=(r(6108),r(2534)),a=r(9110);t.getMat2Ctor=function(e){var t=class extends e{constructor(e=4,t,r){super(e,t,r)}update(e,t,r,n){this[0]=e,this[1]=t,this[2]=r,this[3]=n}setIdentityMatrix(){return this[0]=1,this[1]=0,this[2]=0,this[3]=1,this}getValueAt(e,t){return this[2*t+e]}setValueAt(e,t,r){this[2*t+e]=r}setScalingMatrix(e){return this[0]=e,this[1]=0,this[2]=0,this[3]=1,this}setTranslationMatrix(e){return this[0]=1,this[1]=0,this[2]=e,this[3]=1,this}multiplyMat2(e,t=this.constructor.factory.createOneEmpty()){var[r,n,i,a]=this,[o,s,c,e]=e;return t[0]=r*o+n*c,t[1]=r*s+n*e,t[2]=i*o+a*c,t[3]=i*s+a*e,t}getVec2MultiplyX(e){return this[0]*e+this[2]}getRow(e,t=this.constructor.vec2Ctor.factory.createOneEmpty()){return t[0]=this.getValueAt(0,e),t[1]=this.getValueAt(1,e),t}setRow(e,t){this.setValueAt(0,e,t[0]),this.setValueAt(1,e,t[1])}getLoggableValue(){return[[this[0],this[1]],[this[2],this[3]]]}copyFromBuffer(e,t,r){this.constructor.factory.copyFromBuffer(e,t,this,r)}copyToBuffer(e,t,r){this.constructor.factory.copyToBuffer(e,this,t,r)}castToBaseType(){return this}};return t.factory=new n.Mat2Factory(t,i.NormalizedDataViewProvider.getView(e)),t.vec2Ctor=a.Vec2.getCtor(e),t}},2030:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mat2Factory=void 0;class i extends r(9982).ATypedTupleFactory{constructor(e,t){super(4,e.BYTES_PER_ELEMENT,t),this.ctor=e}createOne(e,t,r,n){const i=this.createOneEmpty();return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}createOneEmpty(){return new this.ctor}copyFromBuffer(e,t,r=this.createOneEmpty(),n=i.littleEndian){return r[0]=this.dataView.getValue(e,t,n),r[1]=this.dataView.getValue(e,t+=this.bytesPerElement,n),r[2]=this.dataView.getValue(e,t+=this.bytesPerElement,n),r[3]=this.dataView.getValue(e,t+=this.bytesPerElement,n),r}copyToBuffer(e,t,r,n=i.littleEndian){this.dataView.setValue(e,r,t[0],n),this.dataView.setValue(e,r+=this.bytesPerElement,t[1],n),this.dataView.setValue(e,r+=this.bytesPerElement,t[2],n),this.dataView.setValue(e,r+=this.bytesPerElement,t[3],n)}}t.Mat2Factory=i},7190:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mat2=void 0;var n=r(3017);const i=r(6201),a=r(7e3);class o extends n.ATypedArrayTuple{static getCtor(e){return o.constructors.get(e)}update(){throw new Error}setIdentityMatrix(){throw new Error}getValueAt(e,t){throw new Error}setValueAt(e,t,r){throw new Error}setScalingMatrix(e){throw new Error}setTranslationMatrix(e){throw new Error}multiplyMat2(e,t){throw new Error}getVec2MultiplyX(e){throw new Error}getRow(e,t){throw new Error}setRow(e,t){throw new Error}getLoggableValue(){throw new Error}copyFromBuffer(e,t,r){throw new Error}copyToBuffer(e,t,r){throw new Error}castToBaseType(){throw new Error}}t.Mat2=o,o.f64=(0,i.getMat2Ctor)(Float64Array),o.f32=(0,i.getMat2Ctor)(Float32Array),o.u32=(0,i.getMat2Ctor)(Uint32Array),o.i32=(0,i.getMat2Ctor)(Int32Array),o.u16=(0,i.getMat2Ctor)(Uint16Array),o.i16=(0,i.getMat2Ctor)(Int16Array),o.u8c=(0,i.getMat2Ctor)(Uint8ClampedArray),o.u8=(0,i.getMat2Ctor)(Uint8Array),o.i8=(0,i.getMat2Ctor)(Int8Array),o.constructors=(0,a.populateTypedArrayConstructorMap)(o)},5949:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMat3Ctor=void 0;const n=r(9944),i=(r(6108),r(2534)),a=r(5505);t.getMat3Ctor=function(e){var t=class extends e{constructor(e=9,t,r){super(e,t,r)}setIdentityMatrix(){return this.fill(0),this[0]=1,this[4]=1,this[8]=1,this}getValueAt(e,t){return this[3*t+e]}setValueAt(e,t,r){this[3*t+e]=r}getRow(e,t=this.constructor.vec3Ctor.factory.createOneEmpty()){return t[0]=this.getValueAt(0,e),t[1]=this.getValueAt(1,e),t[2]=this.getValueAt(2,e),t}setRow(e,t){this.setValueAt(0,e,t[0]),this.setValueAt(1,e,t[1]),this.setValueAt(2,e,t[2])}setRotationMatrix(e){var t=Math.sin(e),e=Math.cos(e);return this[0]=e,this[1]=-t,this[2]=0,this[3]=t,this[4]=e,this[5]=0,this[6]=0,this[7]=0,this[8]=1,this}setScalingMatrix(e,t){return this[0]=e,this[1]=0,this[2]=0,this[3]=0,this[4]=t,this[5]=0,this[6]=0,this[7]=0,this[8]=1,this}setTranslationMatrix(e,t){return this[0]=1,this[1]=0,this[2]=0,this[3]=0,this[4]=1,this[5]=0,this[6]=e,this[7]=t,this[8]=1,this}multiplyMat3(e,t=this.constructor.factory.createOneEmpty()){var[r,n,i,a,o,s,c,l,u]=this,[d,h,p,g,f,y,v,m,e]=e;return t[0]=r*d+n*g+i*v,t[1]=r*h+n*f+i*m,t[2]=r*p+n*y+i*e,t[3]=a*d+o*g+s*v,t[4]=a*h+o*f+s*m,t[5]=a*p+o*y+s*e,t[6]=c*d+l*g+u*v,t[7]=c*h+l*f+u*m,t[8]=c*p+l*y+u*e,t}getVec3MultiplyX(e){return this[0]*e+this[3]*e+this[6]}getVec3MultiplyY(e){return this[1]*e+this[4]*e+this[7]}getTransformedXLength(e,t){return this.getVec3MultiplyX(t)-this.getVec3MultiplyX(e)}getTransformedYLength(e,t){return this.getVec3MultiplyY(t)-this.getVec3MultiplyY(e)}getLoggableValue(){return[[this[0],this[1],this[2]],[this[3],this[4],this[5]],[this[6],this[7],this[8]]]}copyFromBuffer(e,t,r){this.constructor.factory.copyFromBuffer(e,t,this,r)}copyToBuffer(e,t,r){this.constructor.factory.copyToBuffer(e,this,t,r)}castToBaseType(){return this}};return t.factory=new n.Mat3Factory(t,i.NormalizedDataViewProvider.getView(e)),t.vec3Ctor=a.Vec3.getCtor(e),t}},9944:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mat3Factory=void 0;class n extends r(9982).ATypedTupleFactory{constructor(e,t){super(9,e.BYTES_PER_ELEMENT,t),this.ctor=e}createOneEmpty(){return new this.ctor}createOne(e,t,r,n,i,a,o,s,c){const l=this.createOneEmpty();return l[0]=e,l[1]=t,l[2]=r,l[3]=n,l[4]=i,l[5]=a,l[6]=o,l[7]=s,l[8]=c,l}}t.Mat3Factory=n},5942:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mat3=void 0;var n=r(3017);const i=r(5949),a=r(7e3);class o extends n.ATypedArrayTuple{static getCtor(e){return o.constructors.get(e)}setIdentityMatrix(){throw new Error}getValueAt(e,t){throw new Error}setValueAt(e,t,r){throw new Error}getRow(e,t){throw new Error}setRow(e,t){throw new Error}setRotationMatrix(e){throw new Error}setScalingMatrix(e,t){throw new Error}setTranslationMatrix(e,t){throw new Error}multiplyMat3(e,t){throw new Error}getVec3MultiplyX(e){throw new Error}getVec3MultiplyY(e){throw new Error}getTransformedXLength(e,t){throw new Error}getTransformedYLength(e,t){throw new Error}getLoggableValue(){throw new Error}copyFromBuffer(e,t,r){throw new Error}copyToBuffer(e,t,r){throw new Error}castToBaseType(){throw new Error}}t.Mat3=o,o.f64=(0,i.getMat3Ctor)(Float64Array),o.f32=(0,i.getMat3Ctor)(Float32Array),o.u32=(0,i.getMat3Ctor)(Uint32Array),o.i32=(0,i.getMat3Ctor)(Int32Array),o.u16=(0,i.getMat3Ctor)(Uint16Array),o.i16=(0,i.getMat3Ctor)(Int16Array),o.u8c=(0,i.getMat3Ctor)(Uint8ClampedArray),o.u8=(0,i.getMat3Ctor)(Uint8Array),o.i8=(0,i.getMat3Ctor)(Int8Array),o.constructors=(0,a.populateTypedArrayConstructorMap)(o)},9104:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMat4Ctor=void 0;const n=r(4821),i=(r(6108),r(2534)),a=r(5452);t.getMat4Ctor=function(e){var t=class extends e{constructor(e=16,t,r){super(e,t,r)}setIdentityMatrix(){return this.fill(0),this[0]=1,this[5]=1,this[10]=1,this[15]=1,this}getValueAt(e,t){return this[4*t+e]}setValueAt(e,t,r){this[4*t+e]=r}getRow(e,t=this.constructor.vec4Ctor.factory.createOneEmpty()){return t[0]=this.getValueAt(0,e),t[1]=this.getValueAt(1,e),t[2]=this.getValueAt(2,e),t[3]=this.getValueAt(3,e),t}setRow(e,t){this.setValueAt(0,e,t[0]),this.setValueAt(1,e,t[1]),this.setValueAt(2,e,t[2]),this.setValueAt(3,e,t[3])}getLoggableValue(){return[[this[0],this[1],this[2],this[3]],[this[4],this[5],this[6],this[7]],[this[8],this[9],this[10],this[11]],[this[12],this[13],this[14],this[15]]]}copyFromBuffer(e,t,r){this.constructor.factory.copyFromBuffer(e,t,this,r)}copyToBuffer(e,t,r){this.constructor.factory.copyToBuffer(e,this,t,r)}castToBaseType(){return this}};return t.factory=new n.Mat4Factory(t,i.NormalizedDataViewProvider.getView(e)),t.vec4Ctor=a.Vec4.getCtor(e),t}},4821:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mat4Factory=void 0;class n extends r(9982).ATypedTupleFactory{constructor(e,t){super(16,e.BYTES_PER_ELEMENT,t),this.ctor=e}createOneEmpty(){return new this.ctor}createOne(e,t,r,n,i,a,o,s,c,l,u,d,h,p,g,f){const y=this.createOneEmpty();return y[0]=e,y[1]=t,y[2]=r,y[3]=n,y[4]=i,y[5]=a,y[6]=o,y[7]=s,y[8]=c,y[9]=l,y[10]=u,y[11]=d,y[12]=h,y[13]=p,y[14]=g,y[15]=f,y}}t.Mat4Factory=n},4184:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mat4=void 0;var n=r(3017);const i=r(9104),a=r(7e3);class o extends n.ATypedArrayTuple{static getCtor(e){return o.constructors.get(e)}setIdentityMatrix(){throw new Error}getValueAt(e,t){throw new Error}setValueAt(e,t,r){throw new Error}getRow(e,t){throw new Error}setRow(e,t){throw new Error}getLoggableValue(){throw new Error}copyFromBuffer(e,t,r){throw new Error}copyToBuffer(e,t,r){throw new Error}castToBaseType(){throw new Error}}t.Mat4=o,o.f64=(0,i.getMat4Ctor)(Float64Array),o.f32=(0,i.getMat4Ctor)(Float32Array),o.u32=(0,i.getMat4Ctor)(Uint32Array),o.i32=(0,i.getMat4Ctor)(Int32Array),o.u16=(0,i.getMat4Ctor)(Uint16Array),o.i16=(0,i.getMat4Ctor)(Int16Array),o.u8c=(0,i.getMat4Ctor)(Uint8ClampedArray),o.u8=(0,i.getMat4Ctor)(Uint8Array),o.i8=(0,i.getMat4Ctor)(Int8Array),o.constructors=(0,a.populateTypedArrayConstructorMap)(o)},2766:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Float32DataView=void 0;r=r(1677);class i{getValue(e,t,r=i.littleEndian){return e.getFloat32(t,r)}setValue(e,t,r,n=i.littleEndian){e.setFloat32(t,r,n)}}(t.Float32DataView=i).littleEndian=r.isLittleEndian},5894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Float64DataView=void 0;r=r(1677);class i{getValue(e,t,r=i.littleEndian){return e.getFloat64(t,r)}setValue(e,t,r,n=i.littleEndian){e.setFloat64(t,r,n)}}(t.Float64DataView=i).littleEndian=r.isLittleEndian},8087:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Int16DataView=void 0;r=r(1677);class i{getValue(e,t,r=i.littleEndian){return e.getInt16(t,r)}setValue(e,t,r,n=i.littleEndian){e.setInt16(t,r,n)}}(t.Int16DataView=i).littleEndian=r.isLittleEndian},207:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Int32DataView=void 0;r=r(1677);class i{getValue(e,t,r=i.littleEndian){return e.getInt32(t,r)}setValue(e,t,r,n=i.littleEndian){e.setInt32(t,r,n)}}(t.Int32DataView=i).littleEndian=r.isLittleEndian},3089:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Int8DataView=void 0;t.Int8DataView=class{getValue(e,t){return e.getInt8(t)}setValue(e,t,r){e.setInt8(t,r)}}},2534:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NormalizedDataViewProvider=void 0;const n=r(5894),i=r(2766),a=r(207),o=r(5092),s=r(8087),c=r(9754),l=r(3089),u=r(977),d=r(2680);class h{constructor(){}static getView(e){return h.views.get(e)}}t.NormalizedDataViewProvider=h,h.views=new Map([[Float64Array,new n.Float64DataView],[Float32Array,new i.Float32DataView],[Int32Array,new a.Int32DataView],[Uint32Array,new o.Uint32DataView],[Int16Array,new s.Int16DataView],[Uint16Array,new c.Uint16DataView],[Int8Array,new l.Int8DataView],[Uint8Array,new u.Uint8DataView],[Uint8ClampedArray,new d.Uint8ClampedDataView]])},9754:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uint16DataView=void 0;r=r(1677);class i{getValue(e,t,r=i.littleEndian){return e.getUint16(t,r)}setValue(e,t,r,n=i.littleEndian){e.setUint16(t,r,n)}}(t.Uint16DataView=i).littleEndian=r.isLittleEndian},5092:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uint32DataView=void 0;r=r(1677);class i{getValue(e,t,r=i.littleEndian){return e.getUint32(t,r)}setValue(e,t,r,n=i.littleEndian){e.setUint32(t,r,n)}}(t.Uint32DataView=i).littleEndian=r.isLittleEndian},2680:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uint8ClampedDataView=void 0;t.Uint8ClampedDataView=class{getValue(e,t){return e.getUint8(t)}setValue(e,t,r){e.setUint8(t,r)}}},977:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uint8DataView=void 0;t.Uint8DataView=class{getValue(e,t){return e.getUint8(t)}setValue(e,t,r){e.setUint8(t,r)}}},7e3:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.populateTypedArrayConstructorMap=void 0,t.populateTypedArrayConstructorMap=function(e){const t=new Map;return t.set(Float64Array,e.f64),t.set(Float32Array,e.f32),t.set(Int32Array,e.i32),t.set(Uint32Array,e.u32),t.set(Int16Array,e.i16),t.set(Uint16Array,e.u16),t.set(Int8Array,e.i8),t.set(Uint8Array,e.u8),t.set(Uint8ClampedArray,e.u8c),t}},6651:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVec2Ctor=void 0;const n=r(3453),i=r(2534);t.getVec2Ctor=function(e){var t=class extends e{constructor(e=2,t,r){super(e,t,r)}getX(){return this[0]}getY(){return this[1]}getMagnitude(){var e=this[0],t=this[1];return Math.sqrt(e*e+t*t)}getMagnitudeSquared(){var e=this[0],t=this[1];return e*e+t*t}update(e,t){this[0]=e,this[1]=t}setX(e){this[0]=e}setY(e){this[1]=e}add(e,t=this.constructor.factory.createOneEmpty()){return t[0]=this[0]+e[0],t[1]=this[1]+e[1],t}subtract(e,t=this.constructor.factory.createOneEmpty()){return t[0]=this[0]-e[0],t[1]=this[1]-e[1],t}vec2Multiply(e,t=this.constructor.factory.createOneEmpty()){return t[0]=this[0]*e[0],t[1]=this[1]*e[1],t}scalarMultiply(e,t=this.constructor.factory.createOneEmpty()){return t[0]=this[0]*e,t[1]=this[1]*e,t}vec2Divide(e,t=this.constructor.factory.createOneEmpty()){return t[0]=this[0]/e[0],t[1]=this[1]/e[1],t}scalarDivide(e,t=this.constructor.factory.createOneEmpty()){return t[0]=this[0]/e,t[1]=this[1]/e,t}normalize(e=this.constructor.factory.createOneEmpty()){var t=this.getMagnitude();return this.scalarDivide(t,e),e}getNormal(e=this.constructor.factory.createOneEmpty()){return e[0]=this[1],e[1]=-this[0],e}dotProduct(e){return this[0]*e[0]+this[1]*e[1]}mat3Multiply(e,t=this.constructor.factory.createOneEmpty()){return t[0]=e[0]*this[0]+e[3]*this[0]+e[6],t[1]=e[1]*this[1]+e[4]*this[1]+e[7],t}bound2d(e){this[0]<e.getXMin()?this[0]=e.getXMin():this[0]>e.getXMax()&&(this[0]=e.getXMax()),this[1]<e.getYMin()?this[1]=e.getYMin():this[1]>e.getYMax()&&(this[1]=e.getYMax())}translate2d(e,t){this[0]+=e,this[1]+=t}getLoggableValue(){return[[this[0],this[1]]]}copyFromBuffer(e,t,r){this.constructor.factory.copyFromBuffer(e,t,this,r)}copyToBuffer(e,t,r){this.constructor.factory.copyToBuffer(e,this,t,r)}castToBaseType(){return this}};return t.factory=new n.Vec2Factory(t,i.NormalizedDataViewProvider.getView(e)),t}},9850:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRange1dCtor=void 0;const n=r(2534),i=(r(6108),r(6651)),a=r(3453),o=r(7190);t.getRange1dCtor=function(e){var t=class extends(0,i.getVec2Ctor)(e){setMin(e){this[0]=e}setMax(e){this[1]=e}getMin(){return this[0]}getMax(){return this[1]}getRange(){return this[1]-this[0]}getCenter(){return.5*(this[0]+this[1])}mat2Multiply(e,t=this.constructor.factory.createOneEmpty()){return t.setMin(e.getVec2MultiplyX(this.getMin())),t.setMax(e.getVec2MultiplyX(this.getMax())),t}unionRange(e,t=this.constructor.factory.createOneEmpty()){return t[0]=(this[0]>e[0]?e:this)[0],t[1]=(this[1]<e[1]?e:this)[1],t}extendRange(e,t=this.constructor.factory.createOneEmpty()){return t[0]=this[0]>e?e:this[0],t[1]=this[1]<e?e:this[1],t}getRangeTransform(e,t=this.constructor.mat2Ctor.factory.createOneEmpty()){var r=e.getRange()/this.getRange();return t[0]=r,t[1]=0,t[2]=e.getMin()-this.getMin()*r,t[3]=1,t}isValueInRange1d(e){return e>=this.getMin()&&e<=this.getMax()}scaleRelativeTo(e,t,r=this.constructor.factory.createOneEmpty()){var n=2*(n=this.getCenter()-t)/this.getRange(),t=this.getRange()*e,e=.5*(this.getRange()-t),n=this.getMin()+e-e*n;return r.setMin(n),r.setMax(n+t),r}bound1d(e){var t;this.getRange()>e.getRange()?(this.setMin(e.getMin()),this.setMax(e.getMax())):this.getMax()>e.getMax()?(t=this.getRange(),this.setMax(e.getMax()),this.setMin(e.getMax()-t)):this.getMin()<e.getMin()&&(t=this.getRange(),this.setMin(e.getMin()),this.setMax(e.getMin()+t))}translate1d(e){this.setMin(this.getMin()+e),this.setMax(this.getMax()+e)}};return t.factory=new a.Vec2Factory(t,n.NormalizedDataViewProvider.getView(e)),t.mat2Ctor=o.Mat2.getCtor(e),t}},7235:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Range1d=void 0;const n=r(9850),i=r(7e3);class a extends r(9110).Vec2{static getCtor(e){return a.constructors.get(e)}setMin(e){throw new Error}setMax(e){throw new Error}getMin(){throw new Error}getMax(){throw new Error}getRange(){throw new Error}getCenter(){throw new Error}mat2Multiply(e,t){throw new Error}unionRange(e,t){throw new Error}extendRange(e,t){throw new Error}getRangeTransform(e,t){throw new Error}isValueInRange1d(e){throw new Error}scaleRelativeTo(e,t,r){throw new Error}bound1d(e){throw new Error}translate1d(e){throw new Error}copyFromBuffer(e,t,r){throw new Error}copyToBuffer(e,t,r){throw new Error}castToBaseType(){throw new Error}}t.Range1d=a,a.f64=(0,n.getRange1dCtor)(Float64Array),a.f32=(0,n.getRange1dCtor)(Float32Array),a.u32=(0,n.getRange1dCtor)(Uint32Array),a.i32=(0,n.getRange1dCtor)(Int32Array),a.u16=(0,n.getRange1dCtor)(Uint16Array),a.i16=(0,n.getRange1dCtor)(Int16Array),a.u8c=(0,n.getRange1dCtor)(Uint8ClampedArray),a.u8=(0,n.getRange1dCtor)(Uint8Array),a.i8=(0,n.getRange1dCtor)(Int8Array),a.constructors=(0,i.populateTypedArrayConstructorMap)(a)},3453:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vec2Factory=void 0;class i extends r(9982).ATypedTupleFactory{constructor(e,t){super(2,e.BYTES_PER_ELEMENT,t),this.ctor=e}createOneEmpty(){return new this.ctor}createOne(e,t){const r=this.createOneEmpty();return r[0]=e,r[1]=t,r}copyFromBuffer(e,t,r=this.createOneEmpty(),n=i.littleEndian){return r[0]=this.dataView.getValue(e,t,n),r[1]=this.dataView.getValue(e,t+=this.bytesPerElement,n),r}copyToBuffer(e,t,r,n=i.littleEndian){this.dataView.setValue(e,r,t[0],n),this.dataView.setValue(e,r+=this.bytesPerElement,t[1],n)}}t.Vec2Factory=i},9110:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vec2=void 0;var n=r(3017);const i=r(6651),a=r(7e3);class o extends n.ATypedArrayTuple{static getCtor(e){return o.constructors.get(e)}getX(){throw new Error}getY(){throw new Error}getMagnitude(){throw new Error}getMagnitudeSquared(){throw new Error}update(e,t){throw new Error}setX(e){throw new Error}setY(e){throw new Error}add(e,t){throw new Error}subtract(e,t){throw new Error}scalarMultiply(e,t){throw new Error}vec2Multiply(e,t){throw new Error}scalarDivide(e,t){throw new Error}vec2Divide(e,t){throw new Error}normalize(e){throw new Error}getNormal(e){throw new Error}dotProduct(e){throw new Error}mat3Multiply(e,t){throw new Error}bound2d(e){throw new Error}translate2d(e,t){throw new Error}getLoggableValue(){throw new Error}copyFromBuffer(e,t,r){throw new Error}copyToBuffer(e,t,r){throw new Error}castToBaseType(){throw new Error}}t.Vec2=o,o.f64=(0,i.getVec2Ctor)(Float64Array),o.f32=(0,i.getVec2Ctor)(Float32Array),o.u32=(0,i.getVec2Ctor)(Uint32Array),o.i32=(0,i.getVec2Ctor)(Int32Array),o.u16=(0,i.getVec2Ctor)(Uint16Array),o.i16=(0,i.getVec2Ctor)(Int16Array),o.u8c=(0,i.getVec2Ctor)(Uint8ClampedArray),o.u8=(0,i.getVec2Ctor)(Uint8Array),o.i8=(0,i.getVec2Ctor)(Int8Array),o.constructors=(0,a.populateTypedArrayConstructorMap)(o)},9999:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVec3Ctor=void 0;const n=r(3213),i=r(2534);t.getVec3Ctor=function(e){var t=class extends e{constructor(e=3,t,r){super(e,t,r)}getX(){return this[0]}getY(){return this[1]}getZ(){return this[2]}getMagnitude(){var e=this[0],t=this[1],r=this[2];return Math.sqrt(e*e+t*t+r*r)}getMagnitudeSquared(){var e=this[0],t=this[1],r=this[2];return e*e+t*t+r*r}dotProduct(e){return this[0]*e[0]+this[1]*e[1]+this[2]*e[2]}update(e,t,r){this[0]=e,this[1]=t,this[2]=r}setX(e){this[0]=e}setY(e){this[1]=e}setZ(e){this[2]=e}getLoggableValue(){return[[this[0],this[1],this[2]]]}copyFromBuffer(e,t,r){this.constructor.factory.copyFromBuffer(e,t,this,r)}copyToBuffer(e,t,r){this.constructor.factory.copyToBuffer(e,this,t,r)}castToBaseType(){return this}};return t.factory=new n.Vec3Factory(t,i.NormalizedDataViewProvider.getView(e)),t}},3213:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vec3Factory=void 0;class i extends r(9982).ATypedTupleFactory{constructor(e,t){super(3,e.BYTES_PER_ELEMENT,t),this.ctor=e}createOneEmpty(){return new this.ctor}createOne(e,t,r){const n=this.createOneEmpty();return n[0]=e,n[1]=t,n[2]=r,n}copyFromBuffer(e,t,r=this.createOneEmpty(),n=i.littleEndian){return r[0]=this.dataView.getValue(e,t,n),r[1]=this.dataView.getValue(e,t+=this.bytesPerElement,n),r[2]=this.dataView.getValue(e,t+=this.bytesPerElement,n),r}copyToBuffer(e,t,r,n=i.littleEndian){this.dataView.setValue(e,r,t[0],n),this.dataView.setValue(e,r+=this.bytesPerElement,t[1],n),this.dataView.setValue(e,r+=this.bytesPerElement,t[2],n)}}t.Vec3Factory=i},5505:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vec3=void 0;var n=r(3017);const i=r(9999),a=r(7e3);class o extends n.ATypedArrayTuple{static getCtor(e){return o.constructors.get(e)}getX(){throw new Error}getY(){throw new Error}getZ(){throw new Error}getMagnitude(){throw new Error}getMagnitudeSquared(){throw new Error}dotProduct(e){throw new Error}update(e,t,r){throw new Error}setX(e){throw new Error}setY(e){throw new Error}setZ(e){throw new Error}getLoggableValue(){throw new Error}copyFromBuffer(e,t,r){throw new Error}copyToBuffer(e,t,r){throw new Error}castToBaseType(){throw new Error}}t.Vec3=o,o.f64=(0,i.getVec3Ctor)(Float64Array),o.f32=(0,i.getVec3Ctor)(Float32Array),o.u32=(0,i.getVec3Ctor)(Uint32Array),o.i32=(0,i.getVec3Ctor)(Int32Array),o.u16=(0,i.getVec3Ctor)(Uint16Array),o.i16=(0,i.getVec3Ctor)(Int16Array),o.u8c=(0,i.getVec3Ctor)(Uint8ClampedArray),o.u8=(0,i.getVec3Ctor)(Uint8Array),o.i8=(0,i.getVec3Ctor)(Int8Array),o.constructors=(0,a.populateTypedArrayConstructorMap)(o)},9036:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVec4Ctor=void 0;const n=r(1957),i=r(2534),a=r(90);t.getVec4Ctor=function(e){var t=class extends e{constructor(e=4,t,r){super(e,t,r)}setRGBAColor(e,t=!1){return t?(this[0]=.00392156862745098*a.RgbaColorPacker.unpackR(e),this[1]=.00392156862745098*a.RgbaColorPacker.unpackG(e),this[2]=.00392156862745098*a.RgbaColorPacker.unpackB(e),this[3]=.00392156862745098*a.RgbaColorPacker.unpackA(e)):(this[0]=a.RgbaColorPacker.unpackR(e),this[1]=a.RgbaColorPacker.unpackG(e),this[2]=a.RgbaColorPacker.unpackB(e),this[3]=a.RgbaColorPacker.unpackA(e)),this}getPackedRGBAColor(e=!1){return e?a.RgbaColorPacker.packColor(255*this[0],255*this[1],255*this[2],255*this[3]):a.RgbaColorPacker.packColor(this[0],this[1],this[2],this[3])}getX(){return this[0]}getY(){return this[1]}getZ(){return this[2]}getW(){return this[3]}update(e,t,r,n){this[0]=e,this[1]=t,this[2]=r,this[3]=n}setX(e){this[0]=e}setY(e){this[1]=e}setZ(e){this[2]=e}setW(e){this[3]=e}getLoggableValue(){return[[this[0],this[1],this[2]]]}copyFromBuffer(e,t,r){this.constructor.factory.copyFromBuffer(e,t,this,r)}copyToBuffer(e,t,r){this.constructor.factory.copyToBuffer(e,this,t,r)}castToBaseType(){return this}};return t.factory=new n.Vec4Factory(t,i.NormalizedDataViewProvider.getView(e)),t}},1957:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vec4Factory=void 0;class i extends r(9982).ATypedTupleFactory{constructor(e,t){super(4,e.BYTES_PER_ELEMENT,t),this.ctor=e}createOneEmpty(){return new this.ctor}createOne(e,t,r,n){const i=this.createOneEmpty();return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}copyFromBuffer(e,t,r=this.createOneEmpty(),n=i.littleEndian){return r[0]=this.dataView.getValue(e,t,n),r[1]=this.dataView.getValue(e,t+=this.bytesPerElement,n),r[2]=this.dataView.getValue(e,t+=this.bytesPerElement,n),r[3]=this.dataView.getValue(e,t+=this.bytesPerElement,n),r}copyToBuffer(e,t,r,n=i.littleEndian){this.dataView.setValue(e,r,t[0],n),this.dataView.setValue(e,r+=this.bytesPerElement,t[1],n),this.dataView.setValue(e,r+=this.bytesPerElement,t[2],n),this.dataView.setValue(e,r+=this.bytesPerElement,t[3],n)}}t.Vec4Factory=i},5452:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vec4=void 0;var n=r(3017);const i=r(9036),a=r(7e3);class o extends n.ATypedArrayTuple{static getCtor(e){return o.constructors.get(e)}setRGBAColor(e,t){throw new Error}getPackedRGBAColor(e){throw new Error}getX(){throw new Error}getY(){throw new Error}getZ(){throw new Error}getW(){throw new Error}update(e,t,r,n){throw new Error}setX(e){throw new Error}setY(e){throw new Error}setZ(e){throw new Error}setW(e){throw new Error}getLoggableValue(){throw new Error}copyFromBuffer(e,t,r){throw new Error}copyToBuffer(e,t,r){throw new Error}castToBaseType(){throw new Error}}t.Vec4=o,o.f64=(0,i.getVec4Ctor)(Float64Array),o.f32=(0,i.getVec4Ctor)(Float32Array),o.u32=(0,i.getVec4Ctor)(Uint32Array),o.i32=(0,i.getVec4Ctor)(Int32Array),o.u16=(0,i.getVec4Ctor)(Uint16Array),o.i16=(0,i.getVec4Ctor)(Int16Array),o.u8c=(0,i.getVec4Ctor)(Uint8ClampedArray),o.u8=(0,i.getVec4Ctor)(Uint8Array),o.i8=(0,i.getVec4Ctor)(Int8Array),o.constructors=(0,a.populateTypedArrayConstructorMap)(o)},118:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircularBuffer=void 0;const n=r(134);class i{constructor(e){this.values=e,this.size=e.length}static createEmpty(e){return new i(new Array(e))}static createOne(e){return new i(e)}clone(){var e=i.createEmpty(this.size);return(0,n.arrayCopyInto)(this.values,e.values),e}getValue(e){return this.values[this.getAdjustedIndex(e)]}setValue(e,t){this.values[this.getAdjustedIndex(e)]=t}getSetValue(e,t){var r=this.getAdjustedIndex(e),e=this.values[r];return this.values[r]=t,e}getAdjustedIndex(e){var t=this.values.length,e=e%t;return 0<=e?e:t+e}}t.CircularBuffer=i},5786:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircularFIFOStack=t.ECircularStackOverflowMode=void 0;const n=r(118),i=r(7199);var a;(r=a=t.ECircularStackOverflowMode||(t.ECircularStackOverflowMode={}))[r.NoOp=1]="NoOp",r[r.Exception=2]="Exception",r[r.Overwrite=3]="Overwrite",r[r.Grow=4]="Grow";t.CircularFIFOStack=class o{constructor(e,t=a.Grow){this.start=0,this.end=0,this.capacity=e,this.mode=t,this.buffer=n.CircularBuffer.createEmpty(e)}getCapacity(){return this.capacity}push(e){if(this.start+this.buffer.size==this.end)switch(this.mode){case a.NoOp:return;case a.Exception:i._Production.error("Attempted to push to full stack.");break;case a.Overwrite:this.pop();break;case a.Grow:this.growStack();break;default:i._Production.assertValueIsNever(this.mode)}this.buffer.setValue(this.end++,e)}pop(){return this.getIsEmpty()&&i._Production.error("Attempted to pop empty stack."),this.buffer.getSetValue(this.start++,null)}getIsEmpty(){return this.start==this.end}getRemainingCapacity(){return this.start+this.capacity-this.end}growStack(){const e=new o(2*this.capacity,this.mode);let t=this.capacity;for(;t--;){var r=this.pop();e.push(r)}this.buffer=e.buffer,this.capacity*=2,this.start=e.start,this.end=e.end}}},1817:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirtyCheckedUniqueCollection=void 0;t.DirtyCheckedUniqueCollection=class i{constructor(e){this.isDirty=!0,this.itemsArray=[],this.itemsSet=new Set(e)}get size(){return this.itemsSet.size}static mapInitializeAdd(e,t,r){const n=e.get(t);if(null!=n)return n.reportingAdd(r);{const n=new i;return n.add(r),e.set(t,n),!0}}add(e){this.itemsSet.add(e),this.isDirty=!0}reportingAdd(e){return!this.itemsSet.has(e)&&(this.itemsSet.add(e),this.isDirty=!0)}delete(e){return e=this.itemsSet.delete(e),this.isDirty||(this.isDirty=e),e}has(e){return this.itemsSet.has(e)}clear(){this.isDirty||(this.isDirty=0<this.itemsSet.size),this.itemsSet.clear()}getArray(){return this.isDirty&&(this.itemsArray=Array.from(this.itemsSet),this.isDirty=!1),this.itemsArray}getSet(){return this.itemsSet}}},7688:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ERgbaMasks=t.ERgbaShift=void 0,(r=t.ERgbaShift||(t.ERgbaShift={}))[r.R=0]="R",r[r.G=8]="G",r[r.B=16]="B",r[r.A=24]="A",(t=t.ERgbaMasks||(t.ERgbaMasks={}))[t.R=255]="R",t[t.G=65280]="G",t[t.B=16711680]="B",t[t.A=-16777216]="A"},90:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RgbaColorPacker=void 0;const i=r(7688);class n{static unpackR(e){return(e&i.ERgbaMasks.R)>>>i.ERgbaShift.R}static unpackG(e){return(e&i.ERgbaMasks.G)>>>i.ERgbaShift.G}static unpackB(e){return(e&i.ERgbaMasks.B)>>>i.ERgbaShift.B}static unpackA(e){return(e&i.ERgbaMasks.A)>>>i.ERgbaShift.A}static packColor(e,t,r,n){return e<<i.ERgbaShift.R|t<<i.ERgbaShift.G|r<<i.ERgbaShift.B|n<<i.ERgbaShift.A}static makeDomColorString(e){const t=n.colorStringTmp;return t[1]=(e&i.ERgbaMasks.R)>>>i.ERgbaShift.R,t[3]=(e&i.ERgbaMasks.G)>>>i.ERgbaShift.G,t[5]=(e&i.ERgbaMasks.B)>>>i.ERgbaShift.B,t[7]=.00392156862745098*((e&i.ERgbaMasks.A)>>>i.ERgbaShift.A),t.join("")}static getHexColorString(e){return e!=e?"NaN":(e=(255&(e&=~i.ERgbaMasks.A))<<16|65280&e|(16711680&e)>>16,n.hexColorTmp[1]=e.toString(16).toUpperCase().padStart(6,"0"),n.hexColorTmp.join(""))}static generateRandomPackedRGBA(){return 255*Math.random()<<i.ERgbaShift.R|255*Math.random()<<i.ERgbaShift.G|255*Math.random()<<i.ERgbaShift.B|255*Math.random()<<i.ERgbaShift.A}}t.RgbaColorPacker=n,n.colorStringTmp=["rgba(",1,",",3,",",5,",",7,")"],n.hexColorTmp=["#",0]},6108:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Debug=void 0;const n=r(753);class i{static get label(){return i._label}static set label(e){i._label=e}static configureBreakpoint(e){i.onBreakpoint=e}static runBlock(e){return e(),!0}static conditionalBlock(e,t){return this.isFlagSet(e)&&t(),!0}static assert(e,t){if(!e)throw i.isFlagSet("DEBUG_DISABLE_BREAKPOINT")||i.breakpoint(),new Error(`assert fail: ${t}`);return!0}static error(e){throw i.isFlagSet("DEBUG_DISABLE_BREAKPOINT")||i.breakpoint(),new Error(e)}static breakpoint(){return i.onBreakpoint(),!0}static verboseLog(e,t){i.isFlagSet("DEBUG_VERBOSE")&&(null==t?console.debug(e):console.debug(e,t))}static getStackTrace(){var e=new Error;let t=e.stack;if(null==t)try{throw e}catch(e){t=e.stack}return t.toString()}static setFlag(e,t){(0,n.getGlobal)()[e]=t}static isFlagSet(e){return Boolean((0,n.getGlobal)()[e])}}t._Debug=i,i.onBreakpoint=()=>{},i._label=void 0},8410:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RcJsUtilDebugImpl=void 0;r(753),r(8328),r(6108),r(2980),r(381),r(3173);t.RcJsUtilDebugImpl||(t.RcJsUtilDebugImpl={})},6724:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugPointer=void 0;const i=r(6108),n=r(8959),a=r(5191);t.DebugPointer=class{constructor(e,t,r,n=i._Debug.label){this.pointer=e,this.objectConstructor=t,this.isStatic=r,this.instanceLabel=n,this.creationCallstack=i._Debug.getStackTrace()}toString(){const e=[`WASM address: ${(0,n.numberGetHexString)(this.pointer)}`,`Js constructor name: ${this.objectConstructor.name}`,"\nCall site stack trace follows:",this.creationCallstack];return null!=this.instanceLabel&&(0,a.arrayInsertAtIndex)(e,`Instance label : ${this.instanceLabel}`,2),e.join("\n")}}},2689:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugProtectedView=void 0;const n=r(6108),i=r(1745);class a{constructor(e,t){this.safeKeys=e,this.debugInfo=t,this.validViews=new Set}invalidate(){this.validViews.clear()}createProtectedView(r){return this.validViews.add(r),new Proxy(r,{get:(e,t)=>t===a.originalViewKey?r:t===a.isViewValidKey?this.validViews.has(r):t===a.debugMessageKey?`ProtectedView view invalidated - ${this.debugInfo}`:(this.validViews.has(r)||n._Debug.assert((0,i.arrayContains)(this.safeKeys,t),`ProtectedView view invalidated - ${this.debugInfo}`),"function"==typeof r[t]?r[t].bind(r):r[t])})}static unwrapProtectedView(e){var t=e[a.originalViewKey];return null==t?e:(e[a.isViewValidKey]||n._Debug.error(e[a.debugMessageKey]),t)}}(t.DebugProtectedView=a).createTypedArrayView=()=>new a(["BYTES_PER_ELEMENT"],"Shared Array - memory resize danger, refresh instance with getInstance"),a.isViewValidKey=Symbol("isViewValid"),a.originalViewKey=Symbol("originalView"),a.debugMessageKey=Symbol("debugMessage")},381:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSharedObjectLifeCycleChecks=void 0;const n=r(6108),i=r(6724),a=r(7199);t.DebugSharedObjectLifeCycleChecks=class{constructor(){this.finalizationRegistry=new FinalizationRegistry(e=>{var t;this.debugPointers.has(e)&&(e.isStatic?(t=["Finalization registry found unreleased wasm object allocated by:",e.toString()].join("\n"),n._Debug.error(t)):n._Debug.error(["Leaked shared static object on the JS side:",e.toString()].join("\n")))}),this.owningPointers=new Map,this.sharedObjToPtr=new WeakMap,this.debugPointers=new Set}registerFinalizationCheck(e){const t=this.owningPointers.get(e.getPtr());null!=t&&n._Debug.error(["Address has already been claimed by:",t.toString()].join("\n"));var r=new i.DebugPointer(e.getPtr(),e.constructor,e.isStatic);this.debugPointers.add(r),this.sharedObjToPtr.set(e,r),e.isStatic||this.owningPointers.set(r.pointer,r),this.finalizationRegistry.register(e,r)}markReadyForFinalize(e){e.isStatic||this.owningPointers.delete(e.getPtr());e=this.sharedObjToPtr.get(e);null==e&&a._Production.error("expected to find pointer"),this.debugPointers.delete(e)}}},2980:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugWeakBroadcastEvent=void 0;t.DebugWeakBroadcastEvent=class{constructor(e){this.key=e,this.listenersSet=new Set,this.listenersMap=new WeakMap}addListener(e){this.removeListener(e);var t=new WeakRef(e);this.listenersSet.add(t),this.listenersMap.set(e,t)}addTemporaryListener(e){return this.addListener(e),()=>this.removeListener(e)}addOneTimeListener(t){const r={[this.key]:(...e)=>(this.removeListener(r),t[this.key](...e))};return this.addListener(r),()=>this.removeListener(r)}emit(...r){this.listenersSet.forEach(e=>{const t=e.deref();null==t?this.listenersSet.delete(e):t[this.key](...r)})}removeListener(e){var t=this.listenersMap.get(e);null!=t&&(this.listenersMap.delete(e),this.listenersSet.delete(t))}getTargets(){const r=[];return this.listenersSet.forEach(e=>{var t=e.deref();null==t?this.listenersSet.delete(e):r.push(t)}),r}}},8328:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugWeakValue=void 0;r(6108);t.DebugWeakValue=class{constructor(e=new WeakMap){this.values=e}setValue(e,t){this.values.set(e,t)}deleteValue(e){this.values.delete(e)}getValue(e){return this.values.get(e)}}},3945:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Once=void 0,t.Once=function(e,t,r){const n=e[t],i=new WeakMap;e[t]=r.value=function(...e){if(i.has(this))return i.get(this);e=n.apply(this,e);return i.set(this,e),e}}},6548:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Dictionary=void 0;var n=r(2071),i=r(3864),a=r(6070),o=r(3705),s=r(3563),r=r(865);class c{constructor(){}}(t._Dictionary=c).cloneExtend=a.dictionaryCloneExtend,c.extend=i.dictionaryExtend,c.forEach=o.dictionaryForEach,c.pairs=s.dictionaryPairs,c.push=r.dictionaryPush,c.values=n.dictionaryValues},6070:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dictionaryCloneExtend=void 0;const n=r(3864);t.dictionaryCloneExtend=function(e,t){var r={};return(0,n.dictionaryExtend)(r,e),(0,n.dictionaryExtend)(r,t),r}},3864:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dictionaryExtend=void 0;r(6108),r(8515);t.dictionaryExtend=function(r,n){var i=Object.keys(n);for(let e=0,t=i.length;e<t;++e){var a=i[e];r[a]=n[a]}}},3705:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dictionaryForEach=void 0,t.dictionaryForEach=function(r,n){var i=Object.keys(r);for(let e=0,t=i.length;e<t;++e){var a=i[e];n(r[a],a,r)}}},3563:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dictionaryPairs=void 0,t.dictionaryPairs=function(r){var n=Object.keys(r);const i=new Array(n.length);for(let e=0,t=n.length;e<t;++e){var a=n[e];i[e]=[a,r[a]]}return i}},865:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dictionaryPush=void 0,t.dictionaryPush=function(e,t,r){const n=e[t];null!=n?n.push(r):e[t]=[r]}},2071:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dictionaryValues=void 0,t.dictionaryValues=function(t){var r=Object.keys(t),n=r.length;const i=new Array(n);for(let e=0;e<n;++e)i[e]=t[r[e]];return i}},3025:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NestableError=void 0;const n=r(6108);class i{constructor(e,t,r){this.message=e,this.causedBy=t,this.stringifyMessage=r,this.stack=n._Debug.getStackTrace()}static isErrorImpl(e,t,r){return r instanceof e&&t(r.message)}static normalizeErrorImpl(e,t,r){return i.isErrorImpl(i,t,e)?e:r(e)}static getRootCauseImpl(e,t,r){e=i.normalizeErrorImpl(e,t,r);return i.isErrorImpl(i,t,e.causedBy)?i.getRootCauseImpl(e.causedBy,t,r):e}toString(){return[this.stringifyMessage(this.message),this.stack].join("\n")}}t.NestableError=i},9327:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BroadcastEvent=void 0;const n=r(854);t.BroadcastEvent=class{constructor(e){this.key=e,this.listeners=new Set,this.cache=null}addListener(e){this.listeners.add(e),this.cache=null}addTemporaryListener(e){return this.listeners.add(e),this.cache=null,()=>this.removeListener(e)}addOneTimeListener(t){const r={[this.key]:(...e)=>(this.removeListener(r),t[this.key](...e))};return this.addListener(r),()=>this.removeListener(r)}removeListener(e){this.listeners.delete(e),this.cache=null}emit(...t){this.listeners.forEach(e=>e[this.key](...t))}getTargets(){return null==this.cache?this.cache=n._Set.valuesToArray(this.listeners):this.cache}}},6780:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Fp=void 0;var n=r(3666),i=r(1829),a=r(522),o=r(4539),s=r(3173),c=r(2254),l=r(2773),r=r(7886);class u{constructor(){}}(t._Fp=u).debounce=r.fpDebounce,u.identity=n.fpIdentity,u.maybeNewValue=l.fpMaybeNewValue,u.noOp=s.fpNoOp,u.normalizeToNull=i.fpNormalizeToNull,u.normalizeToUndefined=a.fpNormalizeToUndefined,u.once=o.fpOnce,u.valueOrNull=c.fpValueOrNull},7886:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fpDebounce=void 0,t.fpDebounce=function(t,r,n){let i,a,o,s;function c(){var e=Date.now()-a;e<t?i=setTimeout(c,t-e):(i=void 0,r||n.apply(s,o),null==i&&(o=s=null))}function e(...e){return s=this,o=e,a=Date.now(),null==i&&(i=setTimeout(c,t),r&&n.apply(s,o)),i}return e.cancel=function(){clearTimeout(i)},e}},3666:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fpIdentity=void 0,t.fpIdentity=function(e){return e}},2773:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fpMaybeNewValue=void 0,t.fpMaybeNewValue=function(e,t){return null!=e?e:t}},3173:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fpNoOp=void 0,t.fpNoOp=function(){}},1829:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fpNormalizeToNull=void 0,t.fpNormalizeToNull=function(e){return void 0===e?null:e}},522:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fpNormalizeToUndefined=void 0,t.fpNormalizeToUndefined=function(e){if(null!==e)return e}},4539:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fpOnce=void 0,t.fpOnce=function(t){let r,n=!1;return(...e)=>n?r:(n=!0,r=t(...e))}},2254:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fpValueOrNull=void 0,t.fpValueOrNull=function(e,t){return e?t:null}},4034:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IncrementingIdentifierFactory=void 0;t.IncrementingIdentifierFactory=class{constructor(e=0){this.id=e}getNextId(){return this.id++}}},6225:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayBinaryLastIndexOf=t.arrayBinaryIndexOf=t.DebugSharedObjectChecks=t.RawVoidPointer=t.isLittleEndian=t.SharedStaticArray=t.SharedArray=t.getEmscriptenWrapper=t.TemporaryListener=t.AReferenceCounted=t.AOnDestroy=t.ReferenceCountedPtr=t.BroadcastEvent=t.IncrementingIdentifierFactory=t.DebugProtectedView=t.RgbaColorPacker=t.ERgbaShift=t.ERgbaMasks=t.DirtyCheckedUniqueCollection=t.ECircularStackOverflowMode=t.CircularFIFOStack=t.CircularBuffer=t.NormalizedDataViewProvider=t.Vec4=t.Vec3=t.Range1d=t.Vec2=t.Mat4=t.Mat3=t.Mat2=t.Range2d=t.Margin2d=t.ATypedArrayTuple=t._String=t._Set=t._RegExp=t._Path=t._Number=t._F64=t._F32=t._Math=t._Map=t._Iterator=t._Fp=t._Production=t.NestableError=t._Dictionary=t._Debug=t._Array=t.RcJsUtilDebugImpl=void 0,t.mapDeleteFromSet=t.mapConcat=t.mapClearingDeleteFromSet=t.mapArrayMap=t.mapAddToSet=t.IncrementalUpdater=t.iteratorConsumeAll=t.iteratorEmptyIterator=t.promiseRejectNull=t.promiseRejectFalsey=t.fpValueOrNull=t.fpOnce=t.fpNormalizeToUndefined=t.fpNormalizeToNull=t.fpNoOp=t.fpMaybeNewValue=t.fpIdentity=t.fpDebounce=t.Once=t.dictionaryValues=t.dictionaryPush=t.dictionaryPairs=t.dictionaryForEach=t.dictionaryExtend=t.dictionaryCloneExtend=t.arrayUnion=t.arraySymmetricDifference=t.arraySetDifference=t.arrayReplaceOne=t.arrayRemoveOne=t.arrayRemoveMany=t.arrayPushUnique=t.arrayNormalizeNullishToEmpty=t.arrayNormalizeEmptyToUndefined=t.arrayContains=t.arrayMap=t.arrayMapRange=t.arrayLast=t.arrayIsArray=t.arrayIntersect=t.arrayInsertAtIndex=t.arrayIndex=t.arrayGenerateRange=t.arrayForEach=t.arrayFlatMap=t.arrayEmptyArray=t.arrayCopyInto=t.arrayCompactMap=t.arrayCompact=t.arrayCollect=void 0,t.stringNormalizeNullUndefinedToEmpty=t.stringNormalizeEmptyToUndefined=t.setValuesToArray=t.setSymmetricDifference=t.setSetDifference=t.setIsSetEqual=t.regexEscapeRegex=t.pathJoin=t.Mulberry32Generator=t.NotRandomGenerator=t.numberGetHexString=t.mathMin=t.mathMax=t.mathHypot2=t.mathBoundRandom=t.mathBound=t.mapValuesToArray=t.mapUnion=t.mapSymmetricDifference=t.mapSetDifference=t.mapReportingAddToSet=t.mapRemoveOneFromArray=t.mapRemoveManyFromArray=t.mapPush=t.mapKeysToArray=t.mapIntersect=t.mapInitializeGet=t.mapFirstValue=t.mapFirstKey=t.mapEntriesToArray=t.mapDeleteGet=void 0;var n=r(8410);Object.defineProperty(t,"RcJsUtilDebugImpl",{enumerable:!0,get:function(){return n.RcJsUtilDebugImpl}});var i=r(6125);Object.defineProperty(t,"_Array",{enumerable:!0,get:function(){return i._Array}});var a=r(6108);Object.defineProperty(t,"_Debug",{enumerable:!0,get:function(){return a._Debug}});var o=r(6548);Object.defineProperty(t,"_Dictionary",{enumerable:!0,get:function(){return o._Dictionary}});var s=r(3025);Object.defineProperty(t,"NestableError",{enumerable:!0,get:function(){return s.NestableError}});var c=r(7199);Object.defineProperty(t,"_Production",{enumerable:!0,get:function(){return c._Production}});var l=r(6780);Object.defineProperty(t,"_Fp",{enumerable:!0,get:function(){return l._Fp}});var u=r(7374);Object.defineProperty(t,"_Iterator",{enumerable:!0,get:function(){return u._Iterator}});var d=r(2932);Object.defineProperty(t,"_Map",{enumerable:!0,get:function(){return d._Map}});var h=r(3693);Object.defineProperty(t,"_Math",{enumerable:!0,get:function(){return h._Math}});var p=r(6098);Object.defineProperty(t,"_F32",{enumerable:!0,get:function(){return p._F32}});var g=r(4186);Object.defineProperty(t,"_F64",{enumerable:!0,get:function(){return g._F64}});var f=r(9178);Object.defineProperty(t,"_Number",{enumerable:!0,get:function(){return f._Number}});var y=r(3970);Object.defineProperty(t,"_Path",{enumerable:!0,get:function(){return y._Path}});var v=r(9889);Object.defineProperty(t,"_RegExp",{enumerable:!0,get:function(){return v._RegExp}});var m=r(854);Object.defineProperty(t,"_Set",{enumerable:!0,get:function(){return m._Set}});var b=r(9302);Object.defineProperty(t,"_String",{enumerable:!0,get:function(){return b._String}});var C=r(3017);Object.defineProperty(t,"ATypedArrayTuple",{enumerable:!0,get:function(){return C.ATypedArrayTuple}});var E=r(346);Object.defineProperty(t,"Margin2d",{enumerable:!0,get:function(){return E.Margin2d}});var _=r(7027);Object.defineProperty(t,"Range2d",{enumerable:!0,get:function(){return _.Range2d}});var P=r(7190);Object.defineProperty(t,"Mat2",{enumerable:!0,get:function(){return P.Mat2}});var O=r(5942);Object.defineProperty(t,"Mat3",{enumerable:!0,get:function(){return O.Mat3}});var w=r(4184);Object.defineProperty(t,"Mat4",{enumerable:!0,get:function(){return w.Mat4}});var S=r(9110);Object.defineProperty(t,"Vec2",{enumerable:!0,get:function(){return S.Vec2}});var M=r(7235);Object.defineProperty(t,"Range1d",{enumerable:!0,get:function(){return M.Range1d}});var T=r(5505);Object.defineProperty(t,"Vec3",{enumerable:!0,get:function(){return T.Vec3}});var R=r(5452);Object.defineProperty(t,"Vec4",{enumerable:!0,get:function(){return R.Vec4}});var A=r(2534);Object.defineProperty(t,"NormalizedDataViewProvider",{enumerable:!0,get:function(){return A.NormalizedDataViewProvider}});var x=r(118);Object.defineProperty(t,"CircularBuffer",{enumerable:!0,get:function(){return x.CircularBuffer}});var I=r(5786);Object.defineProperty(t,"CircularFIFOStack",{enumerable:!0,get:function(){return I.CircularFIFOStack}}),Object.defineProperty(t,"ECircularStackOverflowMode",{enumerable:!0,get:function(){return I.ECircularStackOverflowMode}});var j=r(1817);Object.defineProperty(t,"DirtyCheckedUniqueCollection",{enumerable:!0,get:function(){return j.DirtyCheckedUniqueCollection}});var G=r(7688);Object.defineProperty(t,"ERgbaMasks",{enumerable:!0,get:function(){return G.ERgbaMasks}}),Object.defineProperty(t,"ERgbaShift",{enumerable:!0,get:function(){return G.ERgbaShift}});var D=r(90);Object.defineProperty(t,"RgbaColorPacker",{enumerable:!0,get:function(){return D.RgbaColorPacker}});var L=r(2689);Object.defineProperty(t,"DebugProtectedView",{enumerable:!0,get:function(){return L.DebugProtectedView}});var F=r(4034);Object.defineProperty(t,"IncrementingIdentifierFactory",{enumerable:!0,get:function(){return F.IncrementingIdentifierFactory}});var V=r(9327);Object.defineProperty(t,"BroadcastEvent",{enumerable:!0,get:function(){return V.BroadcastEvent}});var B=r(8817);Object.defineProperty(t,"ReferenceCountedPtr",{enumerable:!0,get:function(){return B.ReferenceCountedPtr}});var U=r(1684);Object.defineProperty(t,"AOnDestroy",{enumerable:!0,get:function(){return U.AOnDestroy}});var k=r(3617);Object.defineProperty(t,"AReferenceCounted",{enumerable:!0,get:function(){return k.AReferenceCounted}});var z=r(2125);Object.defineProperty(t,"TemporaryListener",{enumerable:!0,get:function(){return z.TemporaryListener}});var N=r(5583);Object.defineProperty(t,"getEmscriptenWrapper",{enumerable:!0,get:function(){return N.getEmscriptenWrapper}});var Y=r(9882);Object.defineProperty(t,"SharedArray",{enumerable:!0,get:function(){return Y.SharedArray}});var X=r(5232);Object.defineProperty(t,"SharedStaticArray",{enumerable:!0,get:function(){return X.SharedStaticArray}});var H=r(1677);Object.defineProperty(t,"isLittleEndian",{enumerable:!0,get:function(){return H.isLittleEndian}});var q=r(9689);Object.defineProperty(t,"RawVoidPointer",{enumerable:!0,get:function(){return q.RawVoidPointer}});var W=r(7032);Object.defineProperty(t,"DebugSharedObjectChecks",{enumerable:!0,get:function(){return W.DebugSharedObjectChecks}});var Q=r(1371);Object.defineProperty(t,"arrayBinaryIndexOf",{enumerable:!0,get:function(){return Q.arrayBinaryIndexOf}});var $=r(2950);Object.defineProperty(t,"arrayBinaryLastIndexOf",{enumerable:!0,get:function(){return $.arrayBinaryLastIndexOf}});var Z=r(6386);Object.defineProperty(t,"arrayCollect",{enumerable:!0,get:function(){return Z.arrayCollect}});var K=r(1036);Object.defineProperty(t,"arrayCompact",{enumerable:!0,get:function(){return K.arrayCompact}});var J=r(5208);Object.defineProperty(t,"arrayCompactMap",{enumerable:!0,get:function(){return J.arrayCompactMap}});var ee=r(134);Object.defineProperty(t,"arrayCopyInto",{enumerable:!0,get:function(){return ee.arrayCopyInto}});var te=r(6471);Object.defineProperty(t,"arrayEmptyArray",{enumerable:!0,get:function(){return te.arrayEmptyArray}});var re=r(1065);Object.defineProperty(t,"arrayFlatMap",{enumerable:!0,get:function(){return re.arrayFlatMap}});var ne=r(6199);Object.defineProperty(t,"arrayForEach",{enumerable:!0,get:function(){return ne.arrayForEach}});var ie=r(4840);Object.defineProperty(t,"arrayGenerateRange",{enumerable:!0,get:function(){return ie.arrayGenerateRange}});var ae=r(2991);Object.defineProperty(t,"arrayIndex",{enumerable:!0,get:function(){return ae.arrayIndex}});var oe=r(5191);Object.defineProperty(t,"arrayInsertAtIndex",{enumerable:!0,get:function(){return oe.arrayInsertAtIndex}});var se=r(3321);Object.defineProperty(t,"arrayIntersect",{enumerable:!0,get:function(){return se.arrayIntersect}});var ce=r(8515);Object.defineProperty(t,"arrayIsArray",{enumerable:!0,get:function(){return ce.arrayIsArray}});var le=r(7064);Object.defineProperty(t,"arrayLast",{enumerable:!0,get:function(){return le.arrayLast}});var ue=r(2394);Object.defineProperty(t,"arrayMapRange",{enumerable:!0,get:function(){return ue.arrayMapRange}});var de=r(7112);Object.defineProperty(t,"arrayMap",{enumerable:!0,get:function(){return de.arrayMap}});var he=r(1745);Object.defineProperty(t,"arrayContains",{enumerable:!0,get:function(){return he.arrayContains}});var pe=r(6621);Object.defineProperty(t,"arrayNormalizeEmptyToUndefined",{enumerable:!0,get:function(){return pe.arrayNormalizeEmptyToUndefined}});var ge=r(7319);Object.defineProperty(t,"arrayNormalizeNullishToEmpty",{enumerable:!0,get:function(){return ge.arrayNormalizeNullishToEmpty}});var fe=r(1927);Object.defineProperty(t,"arrayPushUnique",{enumerable:!0,get:function(){return fe.arrayPushUnique}});var ye=r(1094);Object.defineProperty(t,"arrayRemoveMany",{enumerable:!0,get:function(){return ye.arrayRemoveMany}});var ve=r(5351);Object.defineProperty(t,"arrayRemoveOne",{enumerable:!0,get:function(){return ve.arrayRemoveOne}});var me=r(9972);Object.defineProperty(t,"arrayReplaceOne",{enumerable:!0,get:function(){return me.arrayReplaceOne}});var be=r(7866);Object.defineProperty(t,"arraySetDifference",{enumerable:!0,get:function(){return be.arraySetDifference}});var Ce=r(9459);Object.defineProperty(t,"arraySymmetricDifference",{enumerable:!0,get:function(){return Ce.arraySymmetricDifference}});var Ee=r(4887);Object.defineProperty(t,"arrayUnion",{enumerable:!0,get:function(){return Ee.arrayUnion}});var _e=r(6070);Object.defineProperty(t,"dictionaryCloneExtend",{enumerable:!0,get:function(){return _e.dictionaryCloneExtend}});var Pe=r(3864);Object.defineProperty(t,"dictionaryExtend",{enumerable:!0,get:function(){return Pe.dictionaryExtend}});var Oe=r(3705);Object.defineProperty(t,"dictionaryForEach",{enumerable:!0,get:function(){return Oe.dictionaryForEach}});var we=r(3563);Object.defineProperty(t,"dictionaryPairs",{enumerable:!0,get:function(){return we.dictionaryPairs}});var Se=r(865);Object.defineProperty(t,"dictionaryPush",{enumerable:!0,get:function(){return Se.dictionaryPush}});var Me=r(2071);Object.defineProperty(t,"dictionaryValues",{enumerable:!0,get:function(){return Me.dictionaryValues}});var Te=r(3945);Object.defineProperty(t,"Once",{enumerable:!0,get:function(){return Te.Once}});var Re=r(7886);Object.defineProperty(t,"fpDebounce",{enumerable:!0,get:function(){return Re.fpDebounce}});var Ae=r(3666);Object.defineProperty(t,"fpIdentity",{enumerable:!0,get:function(){return Ae.fpIdentity}});var xe=r(2773);Object.defineProperty(t,"fpMaybeNewValue",{enumerable:!0,get:function(){return xe.fpMaybeNewValue}});var Ie=r(3173);Object.defineProperty(t,"fpNoOp",{enumerable:!0,get:function(){return Ie.fpNoOp}});var je=r(1829);Object.defineProperty(t,"fpNormalizeToNull",{enumerable:!0,get:function(){return je.fpNormalizeToNull}});var Ge=r(522);Object.defineProperty(t,"fpNormalizeToUndefined",{enumerable:!0,get:function(){return Ge.fpNormalizeToUndefined}});var De=r(4539);Object.defineProperty(t,"fpOnce",{enumerable:!0,get:function(){return De.fpOnce}});var Le=r(2254);Object.defineProperty(t,"fpValueOrNull",{enumerable:!0,get:function(){return Le.fpValueOrNull}});var Fe=r(2444);Object.defineProperty(t,"promiseRejectFalsey",{enumerable:!0,get:function(){return Fe.promiseRejectFalsey}});var Ve=r(5053);Object.defineProperty(t,"promiseRejectNull",{enumerable:!0,get:function(){return Ve.promiseRejectNull}});var Be=r(7269);Object.defineProperty(t,"iteratorEmptyIterator",{enumerable:!0,get:function(){return Be.iteratorEmptyIterator}});var Ue=r(315);Object.defineProperty(t,"iteratorConsumeAll",{enumerable:!0,get:function(){return Ue.iteratorConsumeAll}});var ke=r(7116);Object.defineProperty(t,"IncrementalUpdater",{enumerable:!0,get:function(){return ke.IncrementalUpdater}});var ze=r(6737);Object.defineProperty(t,"mapAddToSet",{enumerable:!0,get:function(){return ze.mapAddToSet}});var Ne=r(1912);Object.defineProperty(t,"mapArrayMap",{enumerable:!0,get:function(){return Ne.mapArrayMap}});var Ye=r(3815);Object.defineProperty(t,"mapClearingDeleteFromSet",{enumerable:!0,get:function(){return Ye.mapClearingDeleteFromSet}});var Xe=r(7352);Object.defineProperty(t,"mapConcat",{enumerable:!0,get:function(){return Xe.mapConcat}});var He=r(8552);Object.defineProperty(t,"mapDeleteFromSet",{enumerable:!0,get:function(){return He.mapDeleteFromSet}});var qe=r(4042);Object.defineProperty(t,"mapDeleteGet",{enumerable:!0,get:function(){return qe.mapDeleteGet}});var We=r(9650);Object.defineProperty(t,"mapEntriesToArray",{enumerable:!0,get:function(){return We.mapEntriesToArray}});var Qe=r(8790);Object.defineProperty(t,"mapFirstKey",{enumerable:!0,get:function(){return Qe.mapFirstKey}});var $e=r(5698);Object.defineProperty(t,"mapFirstValue",{enumerable:!0,get:function(){return $e.mapFirstValue}});var Ze=r(5203);Object.defineProperty(t,"mapInitializeGet",{enumerable:!0,get:function(){return Ze.mapInitializeGet}});var Ke=r(2268);Object.defineProperty(t,"mapIntersect",{enumerable:!0,get:function(){return Ke.mapIntersect}});var Je=r(2696);Object.defineProperty(t,"mapKeysToArray",{enumerable:!0,get:function(){return Je.mapKeysToArray}});var et=r(6677);Object.defineProperty(t,"mapPush",{enumerable:!0,get:function(){return et.mapPush}});var tt=r(7312);Object.defineProperty(t,"mapRemoveManyFromArray",{enumerable:!0,get:function(){return tt.mapRemoveManyFromArray}});var rt=r(8232);Object.defineProperty(t,"mapRemoveOneFromArray",{enumerable:!0,get:function(){return rt.mapRemoveOneFromArray}});var nt=r(9873);Object.defineProperty(t,"mapReportingAddToSet",{enumerable:!0,get:function(){return nt.mapReportingAddToSet}});var it=r(7390);Object.defineProperty(t,"mapSetDifference",{enumerable:!0,get:function(){return it.mapSetDifference}});var at=r(695);Object.defineProperty(t,"mapSymmetricDifference",{enumerable:!0,get:function(){return at.mapSymmetricDifference}});var ot=r(7852);Object.defineProperty(t,"mapUnion",{enumerable:!0,get:function(){return ot.mapUnion}});var st=r(1188);Object.defineProperty(t,"mapValuesToArray",{enumerable:!0,get:function(){return st.mapValuesToArray}});var ct=r(6845);Object.defineProperty(t,"mathBound",{enumerable:!0,get:function(){return ct.mathBound}});var lt=r(5910);Object.defineProperty(t,"mathBoundRandom",{enumerable:!0,get:function(){return lt.mathBoundRandom}});var ut=r(5895);Object.defineProperty(t,"mathHypot2",{enumerable:!0,get:function(){return ut.mathHypot2}});var dt=r(9250);Object.defineProperty(t,"mathMax",{enumerable:!0,get:function(){return dt.mathMax}});var ht=r(9523);Object.defineProperty(t,"mathMin",{enumerable:!0,get:function(){return ht.mathMin}});var pt=r(8959);Object.defineProperty(t,"numberGetHexString",{enumerable:!0,get:function(){return pt.numberGetHexString}});var gt=r(2687);Object.defineProperty(t,"NotRandomGenerator",{enumerable:!0,get:function(){return gt.NotRandomGenerator}});var ft=r(2717);Object.defineProperty(t,"Mulberry32Generator",{enumerable:!0,get:function(){return ft.Mulberry32Generator}});var yt=r(2841);Object.defineProperty(t,"pathJoin",{enumerable:!0,get:function(){return yt.pathJoin}});var vt=r(8714);Object.defineProperty(t,"regexEscapeRegex",{enumerable:!0,get:function(){return vt.regexEscapeRegex}});var mt=r(8226);Object.defineProperty(t,"setIsSetEqual",{enumerable:!0,get:function(){return mt.setIsSetEqual}});var bt=r(3192);Object.defineProperty(t,"setSetDifference",{enumerable:!0,get:function(){return bt.setSetDifference}});var Ct=r(9181);Object.defineProperty(t,"setSymmetricDifference",{enumerable:!0,get:function(){return Ct.setSymmetricDifference}});var Et=r(1767);Object.defineProperty(t,"setValuesToArray",{enumerable:!0,get:function(){return Et.setValuesToArray}});var _t=r(8746);Object.defineProperty(t,"stringNormalizeEmptyToUndefined",{enumerable:!0,get:function(){return _t.stringNormalizeEmptyToUndefined}});var Pt=r(9089);Object.defineProperty(t,"stringNormalizeNullUndefinedToEmpty",{enumerable:!0,get:function(){return Pt.stringNormalizeNullUndefinedToEmpty}})},7374:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Iterator=void 0;var n=r(315),r=r(7269);class i{constructor(){}}(t._Iterator=i).emptyIterator=r.iteratorEmptyIterator,i.consumeAll=n.iteratorConsumeAll},315:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iteratorConsumeAll=void 0,t.iteratorConsumeAll=function(e){for(;!e.next().done;);}},7269:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iteratorEmptyIterator=void 0,t.iteratorEmptyIterator={[Symbol.iterator](){return this},next(){return this.result},result:{done:!0,value:null}}},7116:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IncrementalUpdater=void 0;r(6108);t.IncrementalUpdater=class{constructor(e,t=4){this.updatable=e,this.waitPeriod=t,this.isUpdating=!1,this.update=()=>{var e;null!==(e=this.currentIterator)&&void 0!==e||(this.currentIterator=this.updatable.incrementallyUpdate()),!0===this.currentIterator.next().done?(this.currentIterator=null,this.id=null,this.isUpdating=!1):this.id=setTimeout(this.update,this.waitPeriod)},this.currentIterator=null,this.id=null}cancel(){null!=this.id&&(clearTimeout(this.id),this.id=null,this.isUpdating=!1),this.currentIterator=null}suspend(){null!=this.id&&(clearTimeout(this.id),this.id=null)}beginUpdate(){this.cancel(),this.isUpdating=!0,this.update()}resume(){this.update()}}},3617:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AReferenceCounted=void 0;r(6108);t.AReferenceCounted=class{constructor(){this.references=1}claim(){0!==this.references&&++this.references}release(){0==--this.references&&this.onFree()}getIsDestroyed(){return this.references<=0}}},1684:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AOnDestroy=void 0;const n=r(2125);t.AOnDestroy=class{constructor(){this.onDestroyListener=new n.TemporaryListener}onDestroy(){this.onDestroyListener.clearingEmit()}}},8817:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReferenceCountedPtr=void 0;var n=r(3617);r(6108);const i=r(3177),a=r(6125),o=r(2125);r(8410);class s extends n.AReferenceCounted{constructor(e,t,r){super(),this.isStatic=e,this.wasmPtr=t,this.listenerObj=r,this.wrappedReferences=null,this.onFreeListener=null}getPtr(){return this.wasmPtr}onFree(){null!=this.onFreeListener&&this.onFreeListener.clearingEmit(),null!=this.listenerObj&&this.listenerObj.onFree();const r=this.wrappedReferences;if(null!=r){for(let e=0,t=r.length;e<t;++e)r[e].release();this.wrappedReferences=null}this.wasmPtr=s.nullPtr}bindLifecycle(e){this.takeOwnership(e),e.claim()}takeOwnership(e){var t;const r=this.wrappedReferences=null!==(t=this.wrappedReferences)&&void 0!==t?t:[];r.push(e)}unbindLifecycle(e){null!=this.wrappedReferences&&a._Array.removeOne(this.wrappedReferences,e)&&e.release()}unbindLifecycles(t){if(null!=this.wrappedReferences){const r=new Set(t);let e=t.length;for(;0<e--;){const n=t[e];r.has(n)&&(t.splice(e,1),n.release())}}}registerOnFreeListener(e){var t;this.onFreeListener=null!==(t=this.onFreeListener)&&void 0!==t?t:new o.TemporaryListener,this.onFreeListener.addListener(e)}static getWrappedReferences(e){return e.wrappedReferences}}t.ReferenceCountedPtr=s,s.nullPtr=i.nullPointer},2125:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemporaryListener=void 0;t.TemporaryListener=class{constructor(){this.listeners=[]}clearingEmit(...e){this.emit(...e),this.clearListeners()}emit(...r){const n=this.listeners;for(let e=0,t=n.length;e<t;++e)n[e](...r)}clearListeners(){this.listeners.length=0}initializeListener(e){this.listeners.push(e())}addListener(e){this.listeners.push(e)}getTargets(){return this.listeners}}},2932:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Map=void 0;var n=r(1912),i=r(8790),a=r(5698),o=r(5203),s=r(2696),c=r(6677),l=r(1188),u=r(9650),d=r(4042),h=r(6737),p=r(8552),g=r(9873),f=r(7312),y=r(8232),v=r(7390),m=r(695),b=r(7852),C=r(2268),E=r(7352),r=r(3815);class _{constructor(){}}(t._Map=_).addToSet=h.mapAddToSet,_.arrayMap=n.mapArrayMap,_.concat=E.mapConcat,_.deleteFromSet=p.mapDeleteFromSet,_.deleteGet=d.mapDeleteGet,_.clearingDeleteFromSet=r.mapClearingDeleteFromSet,_.entriesToArray=u.mapEntriesToArray,_.firstKey=i.mapFirstKey,_.firstValue=a.mapFirstValue,_.intersect=C.mapIntersect,_.initializeGet=o.mapInitializeGet,_.keysToArray=s.mapKeysToArray,_.push=c.mapPush,_.removeManyFromArray=f.mapRemoveManyFromArray,_.removeOneFromArray=y.mapRemoveOneFromArray,_.reportingAddToSet=g.mapReportingAddToSet,_.setDifference=v.mapSetDifference,_.symmetricDifference=m.mapSymmetricDifference,_.union=b.mapUnion,_.valuesToArray=l.mapValuesToArray},6737:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapAddToSet=void 0,t.mapAddToSet=function(e,t,r){const n=e.get(t);if(null!=n)n.add(r);else{const i=new Set;i.add(r),e.set(t,i)}}},1912:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapArrayMap=void 0,t.mapArrayMap=function(e,r){const n=new Array(e.size);let i=0;return e.forEach((e,t)=>n[i++]=r(e,t)),n}},3815:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapClearingDeleteFromSet=void 0,t.mapClearingDeleteFromSet=function(e,t,r){const n=e.get(t);return null!=n&&(n.delete(r),0===n.size&&e.delete(t),!0)}},7352:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapConcat=void 0,t.mapConcat=function(e,t,r){const n=e.get(t);null!=n?e.set(t,n.concat(r)):e.set(t,r.slice())}},8552:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapDeleteFromSet=void 0,t.mapDeleteFromSet=function(e,t,r){const n=e.get(t);return null!=n&&n.delete(r)}},4042:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapDeleteGet=void 0,t.mapDeleteGet=function(e,t){var r=e.get(t);return e.delete(t),r}},9650:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapEntriesToArray=void 0,t.mapEntriesToArray=function(e){return Array.from(e.entries())}},8790:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFirstKey=void 0,t.mapFirstKey=function(e){return e.keys().next().value}},5698:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFirstValue=void 0,t.mapFirstValue=function(e){return e.values().next().value}},2268:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapIntersect=void 0,t.mapIntersect=function(e,r){const n=new Map;return e.forEach((e,t)=>{r.has(t)&&n.set(t,e)}),n}},5203:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapInitializeGet=void 0,t.mapInitializeGet=function(e,t,r){let n=e.get(t);return void 0!==n||(n=r(t),e.set(t,n)),n}},2696:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapKeysToArray=void 0,t.mapKeysToArray=function(e){return Array.from(e.keys())}},6677:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapPush=void 0,t.mapPush=function(e,t,r){const n=e.get(t);null!=n?n.push(r):e.set(t,[r])}},7312:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapRemoveManyFromArray=void 0;const n=r(1094);t.mapRemoveManyFromArray=function(e,t,r){return null==(t=e.get(t))?0:(0,n.arrayRemoveMany)(t,r)}},8232:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapRemoveOneFromArray=void 0;const n=r(5351);t.mapRemoveOneFromArray=function(e,t,r){return null!=(t=e.get(t))&&(0,n.arrayRemoveOne)(t,r)}},9873:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapReportingAddToSet=void 0,t.mapReportingAddToSet=function(e,t,r){const n=e.get(t);if(null!=n)return!n.has(r)&&(n.add(r),!0);{const i=new Set;return i.add(r),e.set(t,i),!0}}},7390:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapSetDifference=void 0,t.mapSetDifference=function(e,r){const n=new Map;return e.forEach((e,t)=>{r.has(t)||n.set(t,e)}),n}},695:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapSymmetricDifference=void 0,t.mapSymmetricDifference=function(r,n){const i=new Map;return r.forEach((e,t)=>{n.has(t)||i.set(t,e)}),n.forEach((e,t)=>{r.has(t)||i.set(t,e)}),i}},7852:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapUnion=void 0,t.mapUnion=function(e,t){const r=new Map;return e.forEach((e,t)=>r.set(t,e)),t.forEach((e,t)=>r.set(t,e)),r}},1188:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapValuesToArray=void 0,t.mapValuesToArray=function(e){return Array.from(e.values())}},3693:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Math=void 0;var n=r(9523),i=r(9250),a=r(6845),o=r(5910),r=r(5895);class s{constructor(){}}(t._Math=s).bound=a.mathBound,s.boundRandom=o.mathBoundRandom,s.hypot2=r.mathHypot2,s.min=n.mathMin,s.max=i.mathMax},5910:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mathBoundRandom=void 0;r(6108);t.mathBoundRandom=function(e,t){return Math.random()*(t-e)+e}},6845:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mathBound=void 0;r(6108);t.mathBound=function(e,t,r){return r<e?r:e<t?t:e}},5895:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mathHypot2=void 0,t.mathHypot2=function(e,t){return Math.sqrt(e*e+t*t)}},9250:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mathMax=void 0;r(6108);t.mathMax=function(e,t){return t<e?e:t}},9523:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mathMin=void 0;r(6108);t.mathMin=function(e,t){return t<e?t:e}},9178:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Number=void 0;var n=r(8959),i=r(6098),r=r(4186);class a{constructor(){}}(t._Number=a).f32=i._F32,a.f64=r._F64,a.getHexString=n.numberGetHexString},6098:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._F32=void 0;const n=r(7027);class i{static getPrecision(e){return e*i.mantissaPrecision}static isEqual(e,t,r=i.mantissaPrecision){return Math.abs(e-t)<r}}(t._F32=i).MAX_VALUE=(2-Math.pow(2,-23))*Math.pow(2,127),i.MIN_POSITIVE_VALUE=Math.pow(2,-126),i.bounds=n.Range2d.f32.factory.createOne(-i.MAX_VALUE,i.MAX_VALUE,-i.MAX_VALUE,i.MAX_VALUE),i.mantissaBits=23,i.mantissaPrecision=1/Math.pow(2,23)},4186:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._F64=void 0;const n=r(7027);class i{static getPrecision(e){return e*i.mantissaPrecision}static isEqual(e,t,r=i.mantissaPrecision){return Math.abs(e-t)<r}}(t._F64=i).MAX_VALUE=Number.MAX_VALUE,i.MIN_POSITIVE_VALUE=Number.MIN_VALUE,i.bounds=n.Range2d.f64.factory.createOne(-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE),i.mantissaBits=52,i.mantissaPrecision=1/Math.pow(2,52)},8959:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numberGetHexString=void 0;const r=["0x",0];t.numberGetHexString=function(e){return e!=e?"NaN":(r[1]=e.toString(16).toUpperCase(),r.join(""))}},2717:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mulberry32Generator=void 0;t.Mulberry32Generator=class{constructor(e){this.seed=e}getNext(){var e=this.seed+=1831565813,e=Math.imul(e^e>>>15,1|e);return 2.3283064365386963e-10*(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)}}},2687:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotRandomGenerator=void 0;t.NotRandomGenerator=class{constructor(e){this.value=e}getNext(){return this.value}}},3970:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Path=void 0;r=r(2841);class n{constructor(){}}(t._Path=n).join=r.pathJoin},2841:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pathJoin=void 0,t.pathJoin=function(e,t,r="/"){var n=e[e.length-1]===r,i=t[0]===r;return n?i?e.concat(t.substring(1)):e.concat(t):i?e.concat(t):`${e}${r}${t}`}},7199:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Production=void 0;r(6108);class n{static error(e){throw new Error(e)}static assertValueIsNever(e){n.error("unexpected code path executed.")}}t._Production=n},2444:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promiseRejectFalsey=void 0;const n=r(1147);t.promiseRejectFalsey=function(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){if(!(yield e))return Promise.reject(t)})}},5053:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promiseRejectNull=void 0;const n=r(1147);t.promiseRejectNull=function(t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){var e=yield t;return null==e?Promise.reject(r):e})}},9889:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._RegExp=void 0;r=r(8714);class n{constructor(){}}(t._RegExp=n).escapeRegex=r.regexEscapeRegex},8714:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexEscapeRegex=void 0,t.regexEscapeRegex=function(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}},753:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobal=void 0,t.getGlobal=function(){if(void 0!==r.g)return r.g;if("undefined"!=typeof window)return window;throw new Error("unsupported environment")}},854:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Set=void 0;var n=r(1767),i=r(9181),a=r(3192),r=r(8226);class o{constructor(){}}(t._Set=o).isSetEqual=r.setIsSetEqual,o.setDifference=a.setSetDifference,o.valuesToArray=n.setValuesToArray,o.symmetricDifference=i.setSymmetricDifference},8226:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setIsSetEqual=void 0,t.setIsSetEqual=function(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}},3192:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSetDifference=void 0,t.setSetDifference=function(e,t){const r=[];return e.forEach(e=>{t.has(e)||r.push(e)}),r}},9181:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSymmetricDifference=void 0,t.setSymmetricDifference=function(t,r){const n=[];return t.forEach(e=>{r.has(e)||n.push(e)}),r.forEach(e=>{t.has(e)||n.push(e)}),n}},1767:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setValuesToArray=void 0,t.setValuesToArray=function(e){return Array.from(e.values())}},9302:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._String=void 0;var n=r(8746),r=r(9089);class i{constructor(){}}(t._String=i).normalizeEmptyToUndefined=n.stringNormalizeEmptyToUndefined,i.normalizeNullUndefinedToEmpty=r.stringNormalizeNullUndefinedToEmpty},8746:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringNormalizeEmptyToUndefined=void 0,t.stringNormalizeEmptyToUndefined=function(e){if(null!=e&&0!==e.length)return e}},9089:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringNormalizeNullUndefinedToEmpty=void 0,t.stringNormalizeNullUndefinedToEmpty=function(e){return null==e?"":e}},7032:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSharedObjectChecks=void 0;const i=r(6108),a=r(8959),o=r(9089);class n{static registerWithCleanup(e,t,r){return e.sharedObject.registerOnFreeListener(()=>n.unregister(e,r)),n.register(e,t,r)}static register(e,t,r){var n;return null==e.debugOnAllocate&&(e.debugOnAllocate=()=>t.invalidate()),RcJsUtilDebug.protectedViews.setValue(e,t),RcJsUtilDebug.sharedObjectLifeCycleChecks.registerFinalizationCheck(e.sharedObject),RcJsUtilDebug.onAllocate.addListener(e),!e.sharedObject.isStatic&&i._Debug.isFlagSet("DEBUG_VERBOSE_MEMORY_MANAGEMENT")&&(n={stack:i._Debug.getStackTrace()},e=`claimed (${e.sharedObject.isStatic?"static":"instance"}) ${r} ${(0,a.numberGetHexString)(e.sharedObject.getPtr())} - ${(0,o.stringNormalizeNullUndefinedToEmpty)(i._Debug.label)}`,i._Debug.verboseLog(e,n)),t}static unregister(e,t){var r;RcJsUtilDebug.sharedObjectLifeCycleChecks.markReadyForFinalize(e.sharedObject),RcJsUtilDebug.protectedViews.getValue(e).invalidate(),RcJsUtilDebug.protectedViews.deleteValue(e),e.debugOnAllocate=()=>{},RcJsUtilDebug.onAllocate.removeListener(e),!e.sharedObject.isStatic&&i._Debug.isFlagSet("DEBUG_VERBOSE_MEMORY_MANAGEMENT")&&(r=e.sharedObject.isStatic?"static":"instance",i._Debug.verboseLog(`released (${r}) ${t} ${(0,a.numberGetHexString)(e.sharedObject.getPtr())} - ${(0,o.stringNormalizeNullUndefinedToEmpty)(i._Debug.label)}`))}}t.DebugSharedObjectChecks=n},5583:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEmscriptenWrapper=void 0;const n=r(1147),o=r(7857),s=r(9327);r(6108),r(2980);t.getEmscriptenWrapper=function(t,r,a){return(0,n.__awaiter)(this,void 0,void 0,function*(){const n=new s.BroadcastEvent("onMemoryResize");var e=yield r(Object.assign({wasmMemory:t},a));(0,o.shimWebAssemblyMemory)(t,(e,t,r)=>{i.dataView=new DataView(i.memory.buffer),n.emit(e,t,r)});const i={memory:t,memoryResize:n,instance:e,dataView:new DataView(t.buffer)};return i})}},3177:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nullPointer=void 0,t.nullPointer=0},1677:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLittleEndian=void 0,t.isLittleEndian=1===new DataView(new Float32Array([1]).buffer).getFloat32(0,!0)},9689:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawVoidPointer=void 0;const n=r(8817),i=r(3177),a=r(7199);r(2689),r(6108),r(7032),r(9178);t.RawVoidPointer=class o{constructor(e,t,r){this.wrapper=e,this.onMemoryResize=()=>{null!=this.wrapper&&(this.dataView=this.recreateDataView())},this.pointer=t,this.byteSize=r,this.sharedObject=new n.ReferenceCountedPtr(!1,t),this.sharedObject.registerOnFreeListener(this.wrapper.memoryResize.addTemporaryListener(this)),this.sharedObject.registerOnFreeListener(()=>this.wrapper.instance._jsUtilFree(this.pointer)),this.dataView=this.recreateDataView()}static createOne(e,t,r){var n=e.instance._jsUtilMalloc(t);return n==i.nullPointer&&null!=r&&r&&a._Production.error("Failed to allocate memory for raw pointer."),new o(e,n,t)}getDataView(){return this.dataView}recreateDataView(){return new DataView(this.wrapper.memory.buffer,this.pointer,this.byteSize)}}},9882:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedArray=void 0;const a=r(8817),o=(r(6108),r(2689),r(7199)),s=r(3177);r(7032);class c{constructor(e,t,r,n,i){this.onMemoryResize=()=>{this.instance=this.createLocalInstance()},this.sharedObject=new a.ReferenceCountedPtr(!1,i),this.sharedObject.registerOnFreeListener(()=>this.wrapper.instance[this.cDelete](this.sharedObject.getPtr())),this.sharedObject.registerOnFreeListener(r.memoryResize.addTemporaryListener(this)),this.length=n,this.ctor=t,this.cDelete=`_${e}_delete`,this.cGetArrayAddress=`_${e}_getArrayAddress`,this.wrapper=r,this.elementByteSize=t.BYTES_PER_ELEMENT,this.instance=this.createLocalInstance()}static createOneF32(e,t,r=!1,n=!0){return c.createOne("f32SharedArray",e,Float32Array,t,r,n)}static createOneF64(e,t,r=!1,n=!0){return c.createOne("f64SharedArray",e,Float64Array,t,r,n)}static createOne(e,t,r,n,i=!1,a=!0){a=c.allocateMemory(e,t,n,i,a);return a!==s.nullPointer?new c(e,r,t,n,a):null}static allocateMemory(e,t,r,n,i){n=t.instance[`_${e}_createOne`](r,n);return n===s.nullPointer&&i&&o._Production.error("Failed to allocate memory for shared array."),n}getInstance(){return this.instance}createLocalInstance(){var e=this.wrapper.instance[this.cGetArrayAddress](this.sharedObject.getPtr());return new this.ctor(this.wrapper.memory.buffer,e,this.length)}}t.SharedArray=c},5232:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedStaticArray=void 0;r(6108),r(2689);const i=r(8817);r(7032);t.SharedStaticArray=class n{constructor(e,t,r,n){this.onMemoryResize=()=>{this.instance=this.createLocalInstance()},this.sharedObject=new i.ReferenceCountedPtr(!0,r),this.length=n,this.ctor=e,this.wrapper=t,this.elementByteSize=e.BYTES_PER_ELEMENT,this.sharedObject.registerOnFreeListener(t.memoryResize.addTemporaryListener(this)),this.instance=this.createLocalInstance()}static createOneF32(e,t,r){return new n(Float32Array,e,t,r)}static createOneF64(e,t,r){return new n(Float64Array,e,t,r)}getInstance(){return this.instance}createLocalInstance(){return new this.ctor(this.wrapper.memory.buffer,this.sharedObject.getPtr(),this.length)}}},7857:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shimWebAssemblyMemory=void 0,t.shimWebAssemblyMemory=function(r,n){const i=r.grow.bind(r);r.grow=e=>{var t=i(e);return n(r.buffer,t,e),t}}},1147:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__extends:()=>function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},__assign:()=>i,__rest:()=>function(e,t){var r={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r},__decorate:()=>function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,r,o):i(t,r))||o);return 3<a&&o&&Object.defineProperty(t,r,o),o},__param:()=>function(r,n){return function(e,t){n(e,t,r)}},__metadata:()=>function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:()=>function(e,o,s,c){return new(s=s||Promise)(function(r,t){function n(e){try{a(c.next(e))}catch(e){t(e)}}function i(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?r(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(n,i)}a((c=c.apply(e,o||[])).next())})},__generator:()=>function(r,n){var i,a,o,e,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(o=2&t[0]?a.return:t[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,t[1])).done)return o;switch(a=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){s.label=t[1];break}if(6===t[0]&&s.label<o[1]){s.label=o[1],o=t;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(t);break}o[2]&&s.ops.pop(),s.trys.pop();continue}t=n.call(r,s)}catch(e){t=[6,e],a=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},__createBinding:()=>a,__exportStar:()=>function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||a(t,e,r)},__values:()=>s,__read:()=>o,__spread:()=>function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e},__spreadArrays:()=>function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n},__spreadArray:()=>function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},__await:()=>d,__asyncGenerator:()=>function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,a=r.apply(e,t||[]),o=[];return i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i;function n(n){a[n]&&(i[n]=function(r){return new Promise(function(e,t){1<o.push([n,r,e,t])||s(n,r)})})}function s(e,t){try{(r=a[e](t)).value instanceof d?Promise.resolve(r.value.v).then(c,l):u(o[0][2],r)}catch(e){u(o[0][3],e)}var r}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}},__asyncDelegator:()=>function(n){var e,i;return e={},t("next"),t("throw",function(e){throw e}),t("return"),e[Symbol.iterator]=function(){return this},e;function t(t,r){e[t]=n[t]?function(e){return(i=!i)?{value:d(n[t](e)),done:"return"===t}:r?r(e):e}:r}},__asyncValues:()=>function(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=o[Symbol.asyncIterator];return t?t.call(o):(o=s(o),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(a){e[a]=o[a]&&function(i){return new Promise(function(e,t){var r,n;i=o[a](i),r=e,e=t,n=i.done,t=i.value,Promise.resolve(t).then(function(e){r({value:e,done:n})},e)})}}},__makeTemplateObject:()=>function(e,t){Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t;return e},__importStar:()=>function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return c(t,e),t},__importDefault:()=>function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:()=>function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},__classPrivateFieldSet:()=>function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var a=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]};function s(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}function d(e){return this instanceof d?(this.v=e,this):new d(e)}var c=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}},6877:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dTraceEntityConnector=void 0;const n=r(6225);class i{constructor(e,t,r){this.maxTraceCount=t,this.changeIdGenerator=r,this.xStart=0,this.xStep=0,this.yStart=0,this.yStep=0,this.xCount=0,this.yCount=0,this.dataRange=n.Range2d.getCtor(e).factory.createOneEmpty()}update(e){this.dataRange=e;var t=this.getTickSize(e.getXRange()),r=this.getTickSize(e.getYRange());return this.xStart=i.getStart(e.getXMin(),t),this.yStart=i.getStart(e.getYMin(),r),this.xCount=i.getCount(this.xStart,t,e.getXMax()),this.yCount=i.getCount(this.yStart,r,e.getYMax()),this.xStep=t,this.yStep=r,this.changeIdGenerator.getNextId()}getXTick(e){return this.xStart+this.xStep*e}getYTick(e){return this.yStart+this.yStep*e}getTraceCount(){return this.xCount+this.yCount}getXTraceCount(){return this.xCount}getYTraceCount(){return this.yCount}getTickSize(e){var t=Math.round(Math.log10(e));let r=Math.pow(10,t-1);e=Math.round(e/r);return e<=this.maxTraceCount||(.5*e<=this.maxTraceCount?r*=2:.2*e<=this.maxTraceCount?r*=5:r*=10),r}static getStart(e,t){var r=(e/t|0)*t;return r<e?r+t:r}static getCount(e,t,r){return 1+(r-e)/t|0}}t.Cartesian2dTraceEntityConnector=i},1843:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasCartesian2dAxisLabelGraphicsComponent=void 0;const C=r(9547),n=r(3662);t.CanvasCartesian2dAxisLabelGraphicsComponent=class{constructor(e,t=new n.Cartesian2dAxisLabelGenerator(e)){this.axisLabelGenerator=t,this.specification={}}getCacheId(){return"CanvasAxisGraphicsComponent"}initialize(){}onBeforeUpdate(){}update(r,e,t){const n=e.context,i=t.drawTransforms.dataToInteractiveArea;var a=this.axisLabelGenerator.update(r,t.canvasDimensions.dpr),o=this.axisLabelGenerator.getCanvas(),s=r.graphicsSettings.axisOptions.padding*t.canvasDimensions.dpr;const c=i.getVec3MultiplyY(t.plotRange.getYMin());for(let e=0,t=r.data.getXTraceCount();e<t;++e){const g=i.getVec3MultiplyX(r.data.getXTick(e));var l=C.SpriteLookup.getXAtIndex(a,e),u=C.SpriteLookup.getYAtIndex(a,e),d=C.SpriteLookup.getWidthAtIndex(a,e),h=C.SpriteLookup.getHeightAtIndex(a,e);n.drawImage(o,l,u,d,h,g-.5*d,c+s,d,h)}var p=r.data.getXTraceCount();const g=i.getVec3MultiplyX(t.plotRange.getXMin());var f=r.graphicsSettings.axisOptions.padding*t.canvasDimensions.dpr;for(let e=0,t=r.data.getYTraceCount();e<t;++e){var y=p+e;const c=i.getVec3MultiplyY(r.data.getYTick(e));var v=C.SpriteLookup.getXAtIndex(a,y),m=C.SpriteLookup.getYAtIndex(a,y),b=C.SpriteLookup.getWidthAtIndex(a,y),y=C.SpriteLookup.getHeightAtIndex(a,y);n.drawImage(o,v,m,b,y,g-b-f,c-.5*y,b,y)}}}},3662:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dAxisLabelGenerator=void 0;const h=r(9547);class p{constructor(e,t=new h.SpriteProvider(e)){this.spriteProvider=t}getCanvas(){return this.spriteProvider.getCanvas()}update(e,t){const r=e.graphicsSettings.axisOptions;r.isDirty&&r.regenerate(t);const n=e.data;var i=r.maxWidth*t,a=r.fontSize*t;this.spriteProvider.upscaleCanvas(i,n.getTraceCount()*a);var o=p.generateSpriteLookup(e,t);const s=this.spriteProvider.getContext();s.clearRect(0,0,s.canvas.width,s.canvas.height),s.font=r.fontString,s.textBaseline="middle",s.textAlign="center";var c=n.getXTraceCount(),l=.5*a+.5;for(let e=0;e<c;++e){var u=h.SpriteLookup.getYAtIndex(o,e);s.fillText(r.formatNumber(n.getXTick(e)),.5*i,u+l,i)}s.textAlign="right";for(let e=0,t=n.getYTraceCount();e<t;++e){var d=h.SpriteLookup.getYAtIndex(o,c+e);s.fillText(r.formatNumber(n.getYTick(e)),i,d+l,i)}return o}static generateSpriteLookup(e,t){var r=e.data.getTraceCount(),e=e.graphicsSettings.axisOptions,n=h.SpriteLookup.createOne(r),i=e.fontSize*t,a=e.maxWidth*t;for(let e=0;e<r;++e)h.SpriteLookup.setSpriteAtIndex(n,e,0,i*e,a,i);return n}}t.Cartesian2dAxisLabelGenerator=p},8591:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlCartesian2dAxisGraphicsComponent=void 0;const i=r(3662),a=r(6225),o=r(9547);t.GlCartesian2dAxisGraphicsComponent=class{constructor(e,t,r,n=new i.Cartesian2dAxisLabelGenerator(e)){this.traceBinder=t,this.cameraBinder=r,this.axisLabelGenerator=n,this.config=new a.Mat2.f32,this.bindings={textureMappingAttribute:new o.GlFloatAttribute("axisGc_texMapping",new o.GlBuffer(null),4),spriteGeometryAttribute:new o.GlFloatAttribute("axisGc_spriteGeometry",new o.GlBuffer(new Float32Array([0,0,1,0,0,1,1,1])),2),configUniform:new o.GlMat2Uniform("axisGc_config",this.config),canvasToClipSizeUniform:new o.GlMat3Uniform("traceGc_screenToClipSize",new a.Mat3.f32),labelSpriteTexture2d:new o.GlTexture2d("axisGc_texture",null)},this.specification=o.GlProgramSpecification.mergeProgramSpecifications([t.specification,r.specification,new o.GlProgramSpecification(o.GlShader.combineShaders([o.mat3MultiplyVec2Shader,s]),c)])}getCacheId(){return"GlAxisGraphicsComponent"}initialize(e){this.cameraBinder.initialize(e),this.traceBinder.initialize(e),this.bindings.canvasToClipSizeUniform.initialize(e),this.bindings.configUniform.initialize(e),this.bindings.textureMappingAttribute.initialize(e),this.bindings.spriteGeometryAttribute.initialize(e),this.bindings.labelSpriteTexture2d.initialize(e)}onBeforeUpdate(e,t){this.bindings.spriteGeometryAttribute.bind(e),this.bindings.canvasToClipSizeUniform.setData(t.canvasDimensions.pixelToClipSize),this.bindings.canvasToClipSizeUniform.bind(e)}update(e,t,r){this.cameraBinder.setZ(e),this.cameraBinder.update(r.drawTransforms,t),this.traceBinder.updateData(e),this.traceBinder.bindInstanced(t,1);r=this.axisLabelGenerator.update(e,r.canvasDimensions.dpr);this.bindings.textureMappingAttribute.setData(o.SpriteLookup.toTypedArray(r),e.changeId),this.bindings.textureMappingAttribute.bindInstanced(t,1);r=this.axisLabelGenerator.getCanvas();this.updateConfig(e,r.width,r.height),this.bindings.configUniform.bind(t),this.bindings.labelSpriteTexture2d.updateData(r),this.bindings.labelSpriteTexture2d.bind(t),t.drawInstancedArrays(t.context.TRIANGLE_STRIP,0,4,e.data.getTraceCount())}updateConfig(e,t,r){this.config[0]=e.graphicsSettings.axisOptions.padding,this.config[1]=e.graphicsSettings.axisOptions.padding,this.config[2]=1/t,this.config[3]=1/r}};const s=new o.GlShader(`

ATTRIBUTE mediump vec4 axisGc_texMapping;
ATTRIBUTE lowp vec2 axisGc_spriteGeometry;
uniform mediump mat2 axisGc_config;
uniform highp mat3 traceGc_screenToClipSize;
VARYING mediump vec2 axisGc_texCoord;

vec2 axisGc_getTexDims()
{
    return axisGc_texMapping.zw;
}

vec2 axisGc_getTexOffset()
{
    return axisGc_texMapping.xy;
}

vec2 axisGc_getPadding()
{
    return axisGc_config[0];
}

vec2 axisGc_getTexScaleFactor()
{
    return axisGc_config[1];
}

vec2 axisGc_getTexCoord()
{
    float invertedY = mix(1., 0., axisGc_spriteGeometry.y);
    vec2 texPos = axisGc_getTexOffset() + axisGc_getTexDims() * vec2(axisGc_spriteGeometry.x, invertedY);
    return texPos * axisGc_getTexScaleFactor();
}

vec4 getPosition()
{
    vec2 near = traceConnector_getPosition()[0];
    vec2 far = traceConnector_getPosition()[1];
    vec3 nearTrace = v_2dCamera_getClipspaceCoords2d(near);

    vec2 offsetDir = sign(near - far);
    vec2 adjustedDimensions = mat3MultiplyVec2(traceGc_screenToClipSize, axisGc_getTexDims() * 0.5);
    adjustedDimensions = mix(-adjustedDimensions, adjustedDimensions, axisGc_spriteGeometry) + offsetDir * adjustedDimensions;
    vec2 labelPadding = mat3MultiplyVec2(traceGc_screenToClipSize, axisGc_getPadding()) * offsetDir.xy;

    return vec4(nearTrace.xy + adjustedDimensions + labelPadding, nearTrace.z, 1);
}

void main()
{
    vec2 texCoord = axisGc_getTexCoord();
    axisGc_texCoord = texCoord;
    gl_Position = getPosition();
}`),c=new o.GlShader(`
uniform highp sampler2D axisGc_texture;
VARYING mediump vec2 axisGc_texCoord;

void main()
{
    setFragmentColor(TEXTURE2D(axisGc_texture, axisGc_texCoord));
}`)},6359:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.populateCartesian2dTraceBindings=void 0,t.populateCartesian2dTraceBindings=function(n){const i=n.data,a=n.graphicsSettings.traces;var o=i.dataRange.getYMin(),s=i.dataRange.getYMax(),n=i.getXTraceCount();for(let e=0,t=n,r=0;e<t;++e){var c=i.getXTick(e);a[r]=c,a[r+1]=o,a[r+2]=c,a[r+3]=s,r+=4}var l=i.dataRange.getXMin(),u=i.dataRange.getXMax();for(let e=0,t=i.getYTraceCount(),r=4*n;e<t;++e){var d=i.getYTick(e);a[r]=l,a[r+1]=d,a[r+2]=u,a[r+3]=d,r+=4}}},4347:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasCartesian2dTraceGraphicsComponent=void 0;const d=r(6225);t.CanvasCartesian2dTraceGraphicsComponent=class{constructor(){this.specification={}}getCacheId(){return"CanvasTraceGraphicsComponent"}initialize(){}onBeforeUpdate(){}update(r,n,e){n.context.beginPath();const i=e.drawTransforms.dataToInteractiveArea;n.context.strokeStyle=d.RgbaColorPacker.getHexColorString(r.graphicsSettings.traceColor),n.context.lineWidth=r.graphicsSettings.traceLinePixelSize;var a=i.getVec3MultiplyY(e.plotRange.getYMin()),o=i.getVec3MultiplyY(e.plotRange.getYMax());for(let e=0,t=r.data.getXTraceCount();e<t;++e){var s=i.getVec3MultiplyX(r.data.getXTick(e));n.context.moveTo(s,a),n.context.lineTo(s,o)}var c=i.getVec3MultiplyX(e.plotRange.getXMin()),l=i.getVec3MultiplyX(e.plotRange.getXMax());for(let e=0,t=r.data.getYTraceCount();e<t;++e){var u=i.getVec3MultiplyY(r.data.getYTick(e));n.context.moveTo(c,u),n.context.lineTo(l,u)}n.context.closePath(),n.context.stroke()}}},3696:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlCartesian2dTraceBinder=void 0;const n=r(6225),i=r(9547);class a extends i.AGlInstancedBinder{constructor(){super(),this.specification=new i.GlProgramSpecification(o,s),this.config=n.Mat4.f32.factory.createOneEmpty(),this.colorCache=n.Vec4.f32.factory.createOneEmpty(),this.bindings={positionAttribute:new i.GlFloatAttribute("traceConnector_position",new i.GlBuffer(null),4),configUniform:new i.GlMat4Uniform("traceConnector_config",this.config)}}getCacheId(){return"GlTrace"}mergeBuffers(r){var n=i.GlFloatAttribute.extractBuffer(this.bindings.positionAttribute);for(let e=0,t=r.length;e<t;++e)i.GlFloatAttribute.setBuffer(r[e].bindings.positionAttribute,n)}initialize(e){this.bindings.positionAttribute.initialize(e),this.bindings.configUniform.initialize(e)}updateData(e){this.bindings.positionAttribute.setData(e.graphicsSettings.traces,e.changeId),this.config.setRow(1,this.colorCache.setRGBAColor(e.graphicsSettings.traceColor,!0)),this.config[0]=e.graphicsSettings.traceLinePixelSize}updatePointers(){}bindUniforms(e){this.bindings.configUniform.bind(e)}bindAttributes(e){this.bindings.positionAttribute.bind(e)}bindInstanced(e,t,r){this.bindings.positionAttribute.bindInstanced(e,t,r)}}t.GlCartesian2dTraceBinder=a;const o=new i.GlShader(`
ATTRIBUTE highp vec4 traceConnector_position;
uniform lowp mat4 traceConnector_config;

mat2 traceConnector_getPosition()
{
    return mat2(traceConnector_position);
}

float traceConnector_getWidth()
{
    return traceConnector_config[0][0];
}
`),s=new i.GlShader(`
uniform lowp mat4 traceConnector_config;

lowp vec4 traceConnector_getColor()
{
    return traceConnector_config[1];
}
`)},6351:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlCartesian2dTraceGraphicsComponent=void 0;const n=r(1147),i=r(6225),a=r(9547);class o{constructor(e,t){this.traceBinder=e,this.cameraBinder=t,this.specification=a.GlProgramSpecification.mergeProgramSpecifications([e.specification,t.specification,new a.GlProgramSpecification(a.GlShader.combineShaders([a.mat3MultiplyVec2Shader,s]),c,["ANGLE_instanced_arrays"])]),this.bindings={lineGeometryAttribute:new a.GlFloatAttribute("traceGc_lineGeometry",new a.GlBuffer(new Float32Array([0,0,1,0,0,1,1,1])),2),screenToClipSizeUniform:new a.GlMat3Uniform("traceGc_screenToClipSize",new i.Mat3.f32)}}getCacheId(){return["GlTraceGraphicsComponent",this.traceBinder.getCacheId()].join("_")}initialize(e){this.traceBinder.initialize(e),this.cameraBinder.initialize(e),this.bindings.lineGeometryAttribute.initialize(e),this.bindings.screenToClipSizeUniform.initialize(e)}onBeforeUpdate(e,t){this.bindings.lineGeometryAttribute.bind(e,e.context.STATIC_DRAW),this.bindings.screenToClipSizeUniform.setData(t.canvasDimensions.pixelToClipSize),this.bindings.screenToClipSizeUniform.bind(e)}update(e,t,r){this.cameraBinder.setZ(e),this.cameraBinder.update(r.drawTransforms,t),this.traceBinder.updateInstanced(e,t,1),t.drawInstancedArrays(t.context.TRIANGLE_STRIP,0,4,e.data.getTraceCount())}}(0,n.__decorate)([i.Once],o.prototype,"getCacheId",null),t.GlCartesian2dTraceGraphicsComponent=o;const s=new a.GlShader(`
ATTRIBUTE lowp vec2 traceGc_lineGeometry;
uniform highp mat3 traceGc_screenToClipSize;

vec2 traceGc_getWidth(float width, vec2 rangeSign, vec2 trianglePosition)
{
    vec2 widthOffset = width * rangeSign.yx * (trianglePosition - 0.5);

    return mat3MultiplyVec2(traceGc_screenToClipSize, widthOffset);
}

// tracePosition [xMin, yMin, xMax, yMax]
vec3 traceGc_getPosition(mat2 tracePosition, float width, vec2 trianglePosition)
{
    vec2 min = tracePosition[0];
    vec2 range = tracePosition[1] - min;
    vec3 basePosition = v_2dCamera_getClipspaceCoords2d(range * trianglePosition + min);
    return basePosition + vec3(traceGc_getWidth(width, sign(range), trianglePosition), 0);
}

void main()
{
    vec3 position = traceGc_getPosition(traceConnector_getPosition(), traceConnector_getWidth(), traceGc_lineGeometry);
    gl_Position = vec4(position, 1);
}
`),c=new a.GlShader(`

void main()
{
    setFragmentColor(traceConnector_getColor());
}
`)},7495:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlCartesian2dCameraBinder=void 0;const n=r(6225),i=r(9547);class a extends i.AGlBinder{constructor(){super(...arguments),this.specification=o,this.bindings=a.getBindings()}initialize(e){this.bindings.cameraWorld.initialize(e),this.bindings.z.initialize(e)}updatePointers(){}setZ(e){this.bindings.z.setData(e.graphicsSettings.zIndexAbs)}updateData(e){this.bindings.cameraWorld.setData(e.dataToInteractiveArea)}bindUniforms(e){this.bindings.cameraWorld.bind(e),this.bindings.z.bind(e)}bindAttributes(){}getCacheId(){return"GlCamera2d"}static getBindings(){return{cameraWorld:new i.GlMat3Uniform("u_2dCamera_dataToCanvas",new n.Mat3.f32),z:new i.GlFloatUniform("u_2dCamera_z",0)}}}t.GlCartesian2dCameraBinder=a;const o=new i.GlProgramSpecification(i.GlShader.combineShaders([i.mat3MultiplyVec2Shader,new i.GlShader(`
/* === camera2d === */
uniform highp mat3 u_2dCamera_dataToCanvas;
uniform highp float u_2dCamera_z;

vec3 v_2dCamera_getClipspaceCoords2d(vec2 coords)
{
    return vec3(mat3MultiplyVec2(u_2dCamera_dataToCanvas, coords), u_2dCamera_z);
}
`)]),i.emptyShader)},7341:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dFloatPrecisionRangeBounder=void 0;const n=r(6225);t.Cartesian2dFloatPrecisionRangeBounder=class{constructor(e,t){this.numberUtil=e,this.maxBounds=this.numberUtil.bounds.scaleRelativeTo(t,n.Vec2.u8.factory.createOne(0,0)),this.maxZoom=Math.pow(2,this.numberUtil.mantissaBits)}boundRange(e,t,r=this.maxBounds){var n=this.numberUtil.getPrecision(e.getXMaxAbs())*t.getXRange(),t=this.numberUtil.getPrecision(e.getYMaxAbs())*t.getYRange();e.ensureMinRange(n,t),e.bound(r)}}},3415:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dInteractionHandler=void 0;const n=r(6225),i=r(665),a=r(9547);t.Cartesian2dInteractionHandler=class{constructor(e,t,r){this.chart=e,this.plot=t,this.interactiveClipToData=n.Mat3.f32.factory.createOneEmpty(),this.pinchZoomHandler=new i.PinchZoomHandlerCartesian2d(this.plot,this.chart.attachPoint.canvasDims,n.Vec2.f32.factory.createOneEmpty(),0),this.userCallbacks=new a.UserEventHandlerCallbacks(r),this.tmpRange=t.plotRange.dataRange.slice()}onEntityRequiresUpdate(e){a.OnPlotRequiresUpdate.emit(this.plot,e)}onCanvasResized(){}onClick(e,t){this.userCallbacks.onClick(e,t)}onDoubleClick(e,t){this.userCallbacks.onDoubleClick(e,t)}onHover(e,t,r,n){this.userCallbacks.onHover(e,t,r,n)}onDragStart(e,t){return this.userCallbacks.onDragStart(e,t)}onDragEnd(e){this.userCallbacks.onDragEnd(e)}onDrag(e){this.userCallbacks.onDrag(e)}onPan(e,t,r){const n=this.plot.plotRange,i=this.plot.plotDimensionsOBL.pixelArea.interactiveRange;var a=-n.dataRange.getXRange()*t/i.getXRange(),o=-n.dataRange.getYRange()*r/i.getYRange();this.tmpRange.set(n.dataRange),this.tmpRange.translateBy(a,o),n.updateDataRange(this.tmpRange,this.chart.attachPoint.canvasDims),this.userCallbacks.onPan(e,t,r),this.chart.updateOnNextFrame(this.plot)}onPanZoomStart(e,t){this.pinchZoomHandler=new i.PinchZoomHandlerCartesian2d(this.plot,this.chart.attachPoint.canvasDims,e.slice(),t)}onPanZoomChange(e,t,r){this.pinchZoomHandler.onPanZoomChange(t,r),this.userCallbacks.onPanZoomChange(e,t,r),this.chart.updateOnNextFrame(this.plot)}onWheel(e,t){const r=this.plot.plotRange,n=this.plot.plotDimensionsOBL.clipSpaceArea.interactiveRange;n.getRangeTransform(r.dataRange,this.interactiveClipToData);var i=e.pointerClipPosition.mat3Multiply(this.interactiveClipToData);this.tmpRange.set(r.dataRange),this.tmpRange.scaleRelativeTo(1-.001*t,i,this.tmpRange),r.updateDataRange(this.tmpRange,this.chart.attachPoint.canvasDims),this.userCallbacks.onWheel(e,t),this.chart.updateOnNextFrame(this.plot)}}},4011:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dPlotSharedQuadTree=void 0;const n=r(6225),i=r(3415),a=r(9547);t.Cartesian2dPlotSharedQuadTree=class{constructor(e,t){this.plot=e,this.options=t,this.temporaryListeners=new n.TemporaryListener,this.interactionGroups=new a.DefaultInteractionGroups(e.updateArgProvider,e)}setQuadTreeInteractionHandler(e,t,r={}){const n=new a.SharedEntityQuadTree(e,12,4);this.populateTree(n),this.configureListeners(n),this.plot.setInteractionHandler(new a.PlotInteractionConnector(()=>new i.Cartesian2dInteractionHandler(t,this.plot,r)),()=>new a.QuadTreeEventTargetProvider(n,this.plot,this.interactionGroups,this.options),a.getChartInitialState)}populateTree(r){var n=this.plot.getEntitiesInGroup(this.interactionGroups.hitTestable);for(let e=0,t=n.length;e<t;++e)r.addEntity(n[e])}configureListeners(t){a.OnPlotDetached.registerOneTimeListener(this.plot,()=>{t.sharedObject.release(),this.temporaryListeners.clearListeners()}),this.temporaryListeners.addListener(a.OnEntityAddedToGroup.registerListener(this.plot,e=>{this.interactionGroups.hitTestable.isEntityInGroup(e)&&t.addEntity(e)})),this.temporaryListeners.addListener(a.OnEntityRemovedFromGroup.registerListener(this.plot,e=>{this.interactionGroups.hitTestable.isEntityInGroup(e)&&t.removeEntity(e)})),this.temporaryListeners.addListener(a.OnEntityRemoved.registerListener(this.plot,e=>{this.interactionGroups.hitTestable.isEntityInGroup(e)&&t.removeEntity(e)}))}}},665:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PinchZoomHandlerCartesian2d=void 0;const i=r(6225);t.PinchZoomHandlerCartesian2d=class{constructor(e,t,r,n){this.plot=e,this.canvasDims=t,this.prevWidth=n,this.scaleAbout=new i.Vec2.f32,this.canvasToDataTransform=i.Mat3.f32.factory.createOneEmpty(),this.dataRangeTmp=this.plot.plotRange.dataRange.slice(),this.previousCenterPoint=r.slice()}onPanZoomChange(e,t){const r=this.plot.plotRange.dataRange,n=this.plot.plotDimensionsOBL.pixelArea.interactiveRange,i=this.previousCenterPoint;var a=r.getXRange()*(i.getX()-e.getX())/n.getXRange(),o=r.getYRange()*(i.getY()-e.getY())/n.getYRange();i.set(e),this.dataRangeTmp.set(r),this.plot.plotDimensionsOBL.cssArea.interactiveRange.getRangeTransform(this.dataRangeTmp,this.canvasToDataTransform),e.mat3Multiply(this.canvasToDataTransform,this.scaleAbout),this.scaleAbout.bound2d(this.dataRangeTmp),this.dataRangeTmp.scaleRelativeTo(this.prevWidth/t,this.scaleAbout,this.dataRangeTmp),this.dataRangeTmp.translateBy(a*this.canvasDims.dpr,o*this.canvasDims.dpr),this.plot.plotRange.updateDataRange(this.dataRangeTmp,this.canvasDims),this.prevWidth=t}}},7665:(e,t,r)=>{"use strict";t.ZP=t.k$=t.sp=t.nM=t.Gh=t.eF=t.yY=t.m=t.fl=t.os=t.oJ=t.er=t.Li=t.TG=t.Yx=t.w1=t.Do=t.ae=t.OV=t.u6=t.O=t.tu=void 0;r(8720);r(2331);var n=r(7863);Object.defineProperty(t,"tu",{enumerable:!0,get:function(){return n.Point2dDisplaySettings}});r(3662);r(1843);r(4347);r(8591);r(3696);r(6351);r(6359);r(6877);var i=r(5735);Object.defineProperty(t,"O",{enumerable:!0,get:function(){return i.CanvasCartesian2dUpdateArgProvider}});r(8705);var a=r(4755);Object.defineProperty(t,"u6",{enumerable:!0,get:function(){return a.GlCartesian2dUpdateArgProvider}});r(3415);r(665);var o=r(2197);Object.defineProperty(t,"OV",{enumerable:!0,get:function(){return o.GlInterleaved2dPointBinder}});var s=r(8479);Object.defineProperty(t,"ae",{enumerable:!0,get:function(){return s.SharedInterleavedPoint2dHitTestComponent}});r(8394);var c=r(8392);Object.defineProperty(t,"Do",{enumerable:!0,get:function(){return c.CanvasLineGraphicsComponent}});var l=r(7230);Object.defineProperty(t,"w1",{enumerable:!0,get:function(){return l.GlCaplessLineGraphicsComponent}});var u=r(626);Object.defineProperty(t,"Yx",{enumerable:!0,get:function(){return u.GlLineFlatCapGraphicsComponent}});r(3672);r(1632);r(3389);var d=r(1975);Object.defineProperty(t,"TG",{enumerable:!0,get:function(){return d.CanvasCartesian2dPlotFactory}});r(7387);r(5940);var h=r(4154);Object.defineProperty(t,"Li",{enumerable:!0,get:function(){return h.Cartesian2dPlotRange}});var p=r(4011);Object.defineProperty(t,"er",{enumerable:!0,get:function(){return p.Cartesian2dPlotSharedQuadTree}});r(8856);r(7494);r(5567);r(2224);r(4188);var g=r(7495);Object.defineProperty(t,"oJ",{enumerable:!0,get:function(){return g.GlCartesian2dCameraBinder}});var f=r(5335);Object.defineProperty(t,"os",{enumerable:!0,get:function(){return f.GlCartesian2dPlotFactory}});r(8947);var y=r(9439);Object.defineProperty(t,"fl",{enumerable:!0,get:function(){return y.hoverHighlightLineSegment}});var v=r(3466);Object.defineProperty(t,"m",{enumerable:!0,get:function(){return v.CartesianPlotConstructionOptions}});var m=r(2186);Object.defineProperty(t,"yY",{enumerable:!0,get:function(){return m.Point2dSubcategory}});var b=r(5490);Object.defineProperty(t,"eF",{enumerable:!0,get:function(){return b.Scene2dCategorySorted}});var C=r(650);Object.defineProperty(t,"Gh",{enumerable:!0,get:function(){return C.Sorted2dUpdateStrategy}});var E=r(5626);Object.defineProperty(t,"nM",{enumerable:!0,get:function(){return E.Update2dGroup}});var _=r(7591);Object.defineProperty(t,"sp",{enumerable:!0,get:function(){return _.SharedInterleavedLine2dQuadIndexerFactory}});var P=r(9170);Object.defineProperty(t,"k$",{enumerable:!0,get:function(){return P.EScreenUnit}});var O=r(4599);Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return O.Cartesian2dAxisLabelConfig}});r(7341)},4188:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRangeFromIndexedConnector=void 0;const a=r(6225);t.getRangeFromIndexedConnector=function(r,n=new a.Range1d.f64){var i=r.offsets.size;if(null==i)return null;for(let e=r.getStart(),t=r.getEnd();e<t;++e)n.extendRange(r.getValue(e,i),n);return n}},4289:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndexablePointEntityLineHitTester=void 0;const n=r(6225);class d{static hitTestEntity(e,t,r,n){var i=e.data.offsets.x,a=e.data.offsets.y;const o=n.interactionTransforms.dataToInteractiveArea;d.a.update(o.getVec3MultiplyX(e.data.getValue(t,i)),o.getVec3MultiplyY(e.data.getValue(t,a))),d.b.update(o.getVec3MultiplyX(e.data.getValue(t+1,i)),o.getVec3MultiplyY(e.data.getValue(t+1,a)));const s=r.subtract(d.a,d.ap);i=r.subtract(d.b,d.bp);const c=d.b.subtract(d.a,d.ab);a=d.getPerpendicularDistanceToLineSegment(c,i,s),r=e.data.offsets.size;let l;if(null!=r){const u=e.graphicsSettings.pointSizeNormalizer.getSizeToPixelTransform();i=u.getVec2MultiplyX(e.data.getValue(t,r)),t=(u.getVec2MultiplyX(e.data.getValue(t+1,r))-i)/c.getMagnitude(),r=s.getMagnitude(),r=Math.sqrt(r*r-a*a);l=.5*(i+t*r)}else l=.5*e.graphicsSettings.pointDisplay.getPixelSize();return a*n.canvasDimensions.dpr<=l}static getPerpendicularDistanceToLineSegment(e,t,r){if(0<e.dotProduct(t))return 1/0;if(e.dotProduct(r)<0)return 1/0;t=e.getX(),e=e.getY();return Math.abs(t*r.getY()-e*r.getX())/Math.sqrt(t*t+e*e)}}t.IndexablePointEntityLineHitTester=d,d.a=n.Vec2.f64.factory.createOneEmpty(),d.b=n.Vec2.f64.factory.createOneEmpty(),d.ab=n.Vec2.f64.factory.createOneEmpty(),d.ap=n.Vec2.f64.factory.createOneEmpty(),d.bp=n.Vec2.f64.factory.createOneEmpty()},2197:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlInterleaved2dPointBinder=void 0;const n=r(1147),c=r(6225),l=r(9547);class i extends l.AGlInstancedBinder{constructor(e,t={pointsToBind:1}){super(),this.bindingDescriptor=e,this.binderConfig=t,this.uniformsToBind=i.getUniformsToBind(e.offsets),this.bindings=this.getBindings(e,t),this.specification=i.generateProgram(e,t),this.pointsBound=t.pointsToBind}getCacheId(){var e;const t=["PC",this.binderConfig.pointsToBind,"interleavedPoint",this.bindingDescriptor.offsets.x,this.bindingDescriptor.offsets.y,null!==(e=this.bindingDescriptor.offsets.color)&&void 0!==e?e:"nco",null!==(e=this.bindingDescriptor.offsets.size)&&void 0!==e?e:"nso"];return t.join("_")}mergeTracePositionBuffers(r){var n=l.GlFloatAttribute.extractBuffer(this.bindings.pointAttributes[0]);for(let e=0,t=r.length;e<t;++e){var i=r[e].bindings.pointAttributes;for(let e=0,t=i.length;e<t;++e)l.GlFloatAttribute.setBuffer(i[e],n)}}initialize(r){const n=this.bindings.pointAttributes;for(let e=0,t=n.length;e<t;++e)n[e].initialize(r);this.uniformsToBind&s.BindDisplaySettings&&this.bindings.displayConfigUniform.initialize(r),this.uniformsToBind&s.BindSizeTransform&&this.bindings.sizeTransformUniform.initialize(r)}updateData(e){this.bindings.pointAttributes[0].setData(e.data.getInterleavedBuffer(),e.changeId),this.uniformsToBind&s.BindDisplaySettings&&this.bindings.displayConfigUniform.setData(e.graphicsSettings.pointDisplay),this.uniformsToBind&s.BindSizeTransform&&this.bindings.sizeTransformUniform.setData(e.graphicsSettings.pointSizeNormalizer.getSizeToPixelTransform())}overrideColors(r,e){var n=e.graphicsSettings.pointDisplay.colorOverrides,t=e.data.offsets.color;if(null!=n&&null!=t){const c=this.bindings.pointAttributes[0];var i=e.changeId,a=e.data.getBlockByteSize(),o=t*Float32Array.BYTES_PER_ELEMENT;for(let e=0,t=n.length;e<t;++e){var s=n[e];c.overrideValues(r,s[0]*a+o,s[1],i,e)}}}updatePointers(e){this.setPointers(e.data.getStart(),e.data.getBlockByteSize())}setPointers(e,r){const n=this.bindings.pointAttributes;var i=e*r;for(let e=0,t=n.length;e<t;++e)n[e].setOffset(i+r*e)}bindUniforms(e){this.uniformsToBind&s.BindDisplaySettings&&this.bindings.displayConfigUniform.bind(e),this.uniformsToBind&s.BindSizeTransform&&this.bindings.sizeTransformUniform.bind(e)}bindAttributes(r){const n=this.bindings.pointAttributes;for(let e=0,t=n.length;e<t;++e)n[e].bind(r)}bindInstanced(r,n,i){const a=this.bindings.pointAttributes;for(let e=0,t=a.length;e<t;++e)a[e].bindInstanced(r,n,i)}getBindings(e,r){var n=e.blockElementCount,i=e.byteOffset,a=this.binderConfig.byteStride,o=new l.GlBuffer(null);const s=[new l.GlFloatAttribute("interleavedPoint_point",o,n,i,a)];for(let e=1,t=r.pointsToBind;e<t;++e)s.push(new l.GlFloatAttribute(`interleavedPoint_point${e}`,o,n,i*e,a));return{pointAttributes:s,displayConfigUniform:new l.GlMat4Uniform("interleavedPoint_config",c.Mat4.f32.factory.createOneEmpty()),sizeTransformUniform:new l.GlMat2Uniform("interleavedPoint_sizeTransform",c.Mat2.f32.factory.createOneEmpty())}}static generateProgram(e,r){const n=[i.getPreprocessorConstants(e),l.unpackColorShader,l.mat2MultiplyValueShader,a,o(void 0)];for(let e=1,t=r.pointsToBind;e<t;++e)n.push(o(e));return new l.GlProgramSpecification(l.GlShader.combineShaders(n),l.emptyShader)}static getPreprocessorConstants(e){const t=[l.GlShader.getShaderInt("X_OFFSET",e.offsets.x),l.GlShader.getShaderInt("Y_OFFSET",e.offsets.y)];return null!=e.offsets.color&&t.push(l.GlShader.getShaderInt("COLOR_OFFSET",e.offsets.color)),null!=e.offsets.size&&t.push(l.GlShader.getShaderInt("SIZE_OFFSET",e.offsets.size)),new l.GlShader(t.join("\n"))}static getUniformsToBind(e){return(null==e.color||null==e.size?s.BindDisplaySettings:0)|(null!=e.size?s.BindSizeTransform:0)}}(0,n.__decorate)([c.Once],i.prototype,"getCacheId",null),t.GlInterleaved2dPointBinder=i;const a=new l.GlShader(`
/* === interleaved point connector === */
uniform highp mat4 interleavedPoint_config;
uniform highp mat2 interleavedPoint_sizeTransform;

#define GET_POSITION(NAME, SOURCE) vec2 NAME (void) \\
{ \\
    return vec2( SOURCE [X_OFFSET], SOURCE [Y_OFFSET]); \\
}
#define GET_SIZE_FROM_UNIFORM(NAME) float NAME (void) \\
{ \\
    return interleavedPoint_config[0][0]; \\
}
#define GET_SIZE_FROM_ATTRIBUTE(NAME, SOURCE) float NAME (void) \\
{ \\
    return mat2MultiplyValue(interleavedPoint_sizeTransform, SOURCE [SIZE_OFFSET]); \\
}
# define GET_COLOR_FROM_UNIFORM(NAME) vec4 NAME (void) \\
{ \\
    return vec4(interleavedPoint_config[1]); \\
}
# define GET_COLOR_FROM_ATTRIBUTE(NAME, SOURCE) vec4 NAME (void) \\
{ \\
 return unpackColor( SOURCE [COLOR_OFFSET]); \\
}
`);function o(e){e=null==e?"":e.toString();return new l.GlShader(`
ATTRIBUTE highp vec4 interleavedPoint_point${e};

GET_POSITION(pointConnector_getPosition${e}, interleavedPoint_point${e})

#ifdef SIZE_OFFSET
GET_SIZE_FROM_ATTRIBUTE(pointConnector_getSize${e}, interleavedPoint_point${e})
#else
GET_SIZE_FROM_UNIFORM(pointConnector_getSize${e})
#endif

#ifdef COLOR_OFFSET
GET_COLOR_FROM_ATTRIBUTE(pointConnector_getColor${e}, interleavedPoint_point${e})
#else
GET_COLOR_FROM_UNIFORM(pointConnector_getColor${e})
#endif
`)}var s;(t=s=s||{})[t.BindDisplaySettings=1]="BindDisplaySettings",t[t.BindSizeTransform=2]="BindSizeTransform"},8394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InterleavedLine2dHitTestComponent=void 0;const n=r(6225),i=r(4289);class u{hitTest(e,t,r,n){return i.IndexablePointEntityLineHitTester.hitTestEntity(e,t,r,n)}index(e,r,n){const i=u.aabb,a=e.data;var o=e.data.offsets.x,s=e.data.offsets.y,c=e.groupMask,l=e.hitTestId;for(let e=a.getStart(),t=a.getEnd()-1;e<t;++e)i[0]=r.interactionTransforms.dataToInteractiveArea.getVec3MultiplyX(a.getValue(e,o)),i[1]=r.interactionTransforms.dataToInteractiveArea.getVec3MultiplyX(a.getValue(e+1,o)),i[2]=r.interactionTransforms.dataToInteractiveArea.getVec3MultiplyY(a.getValue(e,s)),i[3]=r.interactionTransforms.dataToInteractiveArea.getVec3MultiplyY(a.getValue(e+1,s)),i.ensureAABB(),n.sharedTree.addBoundingBox(i,l,e,c)}}(t.InterleavedLine2dHitTestComponent=u).aabb=new n.Range2d.f32},8720:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedInterleavedCircle2dQuadIndexerFactory=void 0;const n=r(2331);t.SharedInterleavedCircle2dQuadIndexerFactory=class{static createOneF32(e){return n.SharedInterleavedPoint2dQuadIndexer.createOne(e,"f32Interleaved2dCircleQuadIndexer",Float32Array)}static createOneF64(e){return n.SharedInterleavedPoint2dQuadIndexer.createOne(e,"f32Interleaved2dCircleQuadIndexer",Float64Array)}}},7591:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedInterleavedLine2dQuadIndexerFactory=void 0;const n=r(2331);t.SharedInterleavedLine2dQuadIndexerFactory=class{static createOneF32(e){return n.SharedInterleavedPoint2dQuadIndexer.createOne(e,"f32Interleaved2dLineQuadIndexer",Float32Array)}static createOneF64(e){return n.SharedInterleavedPoint2dQuadIndexer.createOne(e,"f32Interleaved2dLineQuadIndexer",Float64Array)}}},8479:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedInterleavedPoint2dHitTestComponent=void 0;const i=r(4289);t.SharedInterleavedPoint2dHitTestComponent=class{constructor(e){this.indexer=e}hitTest(e,t,r,n){return i.IndexablePointEntityLineHitTester.hitTestEntity(e,t,r,n)}index(e,t,r){this.indexer.update(r,e,t.interactionTransforms.dataToInteractiveArea)}}},2331:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedInterleavedPoint2dQuadIndexer=void 0;const n=r(6225);class a{constructor(e,t,r){this.wrapper=e,this.cIndex=`_${t}_index`;t=BigInt.asUintN(64,BigInt(this.wrapper.instance[r]())),r=Number(t&BigInt(255));this.connectorOffset=Number(t>>BigInt(8)&BigInt(255)),this.displayConfigOffset=Number(t>>BigInt(16)&BigInt(255)),this.offsetsOffset=Number(t>>BigInt(24)&BigInt(255)),this.sizeTransformOffset=Number(t>>BigInt(32)&BigInt(255)),this.worldTransformOffset=Number(t>>BigInt(40)&BigInt(255)),this.rvp=n.RawVoidPointer.createOne(e,r,!0),this.sharedObject=this.rvp.sharedObject}static createOne(e,t,r){r=4===r.BYTES_PER_ELEMENT?"_f32Interleaved2dQuadIndexer_getOffsets":"_f64Interleaved2dQuadIndexer_getOffsets";return new a(e,t,r)}update(e,t,r){const n=t.data,i=this.rvp.getDataView();i.setUint32(0,e.sharedObject.getPtr(),a.littleEndian),i.setUint32(this.connectorOffset,n.sharedObject.getPtr(),a.littleEndian),i.setUint16(this.displayConfigOffset,t.graphicsSettings.pointDisplay.getPixelSize(),a.littleEndian),i.setInt8(this.offsetsOffset,n.offsets.x),i.setInt8(this.offsetsOffset+1,n.offsets.y),i.setInt8(this.offsetsOffset+2,null==n.offsets.size?-1:n.offsets.size),i.setInt8(this.offsetsOffset+3,null==n.offsets.color?-1:n.offsets.color),t.graphicsSettings.pointSizeNormalizer.getSizeToPixelTransform().copyToBuffer(i,this.sizeTransformOffset),r.copyToBuffer(i,this.worldTransformOffset),this.wrapper.instance[this.cIndex](this.rvp.sharedObject.getPtr(),t.hitTestId,t.groupMask)}}(t.SharedInterleavedPoint2dQuadIndexer=a).littleEndian=n.isLittleEndian},1975:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasCartesian2dPlotFactory=void 0;const n=r(7387),i=r(5940),a=r(6877),o=r(5567),s=r(1843),c=r(4347),l=r(9547);class u{static createOne(e,t){var r=t.getPlotArea(e.attachPoint),r=new i.Cartesian2dPlotCtorArg(e,t,r);return new d(r)}static setDefaultAxis(e,t,r){var n=new a.Cartesian2dTraceEntityConnector(Float64Array,t.traceOptions.maxTraceCount,e.changeIdFactory),r=l.CompositeGraphicsComponent.createOne({},new c.CanvasCartesian2dTraceGraphicsComponent).addComponent(new s.CanvasCartesian2dAxisLabelGraphicsComponent(r));e.metaCategory.addEntity(new l.ChartDataEntity(n,{traceColor:t.traceOptions.traceColor,traceLinePixelSize:t.traceOptions.traceLinePixelSize,axisOptions:t.axisConfig,zIndexRel:0,zIndexAbs:0},e.changeIdFactory,function(e){this.changeId=this.data.update(e.plotRange)}),r)}}t.CanvasCartesian2dPlotFactory=u;const d=(0,o.createCartesianPlotCtor)(u,new n.CanvasCartesianUpdateHooks(e=>e.plotDimensionsOTL.pixelArea.wholeRange),new n.CanvasCartesianUpdateHooks(e=>e.plotDimensionsOTL.pixelArea.interactiveRange))},5940:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dPlotCtorArg=void 0;t.Cartesian2dPlotCtorArg=class{constructor(e,t,r){this.chart=e,this.plotOptions=t,this.plotArea=r}}},5567:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCartesianPlotCtor=void 0;const i=r(6225),a=r(2224),o=r(9547);t.createCartesianPlotCtor=function(e,t,r){var n=class extends o.Plot{constructor(e){super(e),this.plotListeners=new i.TemporaryListener;var t=this.constructor;this.updateArgProvider=e.plotOptions.updateGroup.updateArgProvider,this.metaCategory=new a.EntityCategory2d(this,e.chart.renderer,e.plotOptions.updateGroup,t.metaUpdateHooks),this.dataCategory=new a.EntityCategory2d(this,e.chart.renderer,e.plotOptions.updateGroup,t.dataUpdateHooks),this.configureDefaults(e.plotOptions,e.chart.attachPoint),this.registerEventHandlers(e.plotOptions)}configureDefaults(e,t){e.useDefaultAxis&&this.constructor.axisFactory.setDefaultAxis(this,e,t)}registerEventHandlers(t){o.OnPlotDetached.registerListener(this,()=>this.plotListeners.clearingEmit()),this.plotListeners.addListener(o.OnCanvasResized.registerListener(this.eventService,()=>{this.setPlotArea(t.getPlotArea(this.attachPoint))})),this.plotListeners.addListener(o.OnDprChanged.registerListener(this.eventService,e=>{t.axisConfig.regenerate(e)}))}};return n.axisFactory=e,n.metaUpdateHooks=t,n.dataUpdateHooks=r,n}},5335:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlCartesian2dPlotFactory=void 0;const a=r(9547),n=r(5940),o=r(3696),s=r(6877),i=r(5567),c=r(7495),l=r(6351),u=r(6359),d=r(8591),h=r(8947);class p{static createOne(e,t){var r=t.getPlotArea(e.attachPoint),r=new n.Cartesian2dPlotCtorArg(e,t,r);return new g(r)}static setDefaultAxis(e,t){const r=new o.GlCartesian2dTraceBinder;var n=new o.GlCartesian2dTraceBinder;r.mergeBuffers([n]);var i=new s.Cartesian2dTraceEntityConnector(Float32Array,t.traceOptions.maxTraceCount,e.changeIdFactory),n=a.CompositeGraphicsComponent.createOne(a.dummyGlProgramSpecification,new l.GlCartesian2dTraceGraphicsComponent(r,new c.GlCartesian2dCameraBinder)).addComponent(new d.GlCartesian2dAxisGraphicsComponent(e.attachPoint,n,new c.GlCartesian2dCameraBinder));e.metaCategory.addEntity(new a.ChartDataEntity(i,{traceColor:t.traceOptions.traceColor,traceLinePixelSize:t.traceOptions.traceLinePixelSize,zIndexAbs:0,zIndexRel:0,axisOptions:t.axisConfig,traces:new Float32Array(8*(t.traceOptions.maxTraceCount+3))},e.changeIdFactory,function(e){this.changeId=this.data.update(e.plotRange),(0,u.populateCartesian2dTraceBindings)(this)}),n)}}t.GlCartesian2dPlotFactory=p;const g=(0,i.createCartesianPlotCtor)(p,new h.GlCartesianUpdateHooks(e=>e.plotDimensionsOBL.pixelArea.wholeRange),new h.GlCartesianUpdateHooks(e=>e.plotDimensionsOBL.pixelArea.interactiveRange))},4599:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dAxisLabelConfig=void 0;class r{constructor(e){this.isDirty=!0,Object.assign(this,e),this.fontString=r.createFontString(this,0)}regenerate(e){this.fontString=r.createFontString(this,e),this.isDirty=!1}static createFontString(e,t){return r.tmp[0]=e.fontSize*t,r.tmp[2]=e.fontFamilies.join(" "),r.tmp.join("")}}t.Cartesian2dAxisLabelConfig=r,r.tmp=[12,'px "',"Times new roman",'"']},3466:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CartesianPlotConstructionOptions=void 0;const n=r(6225),i=r(9547),a=r(9170);t.CartesianPlotConstructionOptions=class{constructor(e){this.useDefaultAxis=!0,Object.assign(this,e)}getPlotArea(e){var t=e.canvasDims,r=this.gutterOptions.margins.slice();switch(this.gutterOptions.unit){case a.EScreenUnit.ActualPixel:this.gutterOptions.margins.mat3TransformLength(t.transforms.pixelToClip,r);break;case a.EScreenUnit.Clip:break;case a.EScreenUnit.CssPixel:this.gutterOptions.margins.mat3TransformLength(t.transforms.cssToClip,r);break;default:n._Production.assertValueIsNever(this.gutterOptions.unit)}return i.PlotArea.createOneWithMargins(this.plotPosition,r)}}},9170:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EScreenUnit=void 0,(t=t.EScreenUnit||(t.EScreenUnit={}))[t.Clip=1]="Clip",t[t.ActualPixel=2]="ActualPixel",t[t.CssPixel=3]="CssPixel"},8392:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasLineGraphicsComponent=void 0;const E=r(6225);class _{constructor(){this.specification={}}getCacheId(){return"CanvasLine"}initialize(){}onBeforeUpdate(){}update(e,t,r){e.data.getLength()<2||(t.context.save(),e.data.getLength()<3||null==e.data.offsets.size?_.drawConstantSizeLine(e,t.context,r):_.drawLineWithPointSize(e,t.context,r,e.data.offsets.size),t.context.restore())}static drawLineWithPointSize(e,r,t,n){r.fillStyle=E.RgbaColorPacker.makeDomColorString(e.graphicsSettings.pointDisplay.getColor().getPackedRGBAColor(!0));const i=e.data,a=i.offsets.x,o=i.offsets.y;var s=i.offsets.color;const c=t.drawTransforms.dataToInteractiveArea,l=e.graphicsSettings.pointSizeNormalizer.getSizeToPixelTransform();var u=i.getStart(),d=e=>E.Vec2.f64.factory.createOne(c.getVec3MultiplyX(i.getValue(e,a)),c.getVec3MultiplyY(i.getValue(e,o)));let h=d(u);t=.5*l.getVec2MultiplyX(i.getValue(u,n));let p=d(u+1),g=.5*l.getVec2MultiplyX(i.getValue(u+1,n)),f=d(u+2),y=_.getLineNormal(h,p,E.Vec2.f64.factory.createOneEmpty()),v=_.getLineNormal(p,f,E.Vec2.f64.factory.createOneEmpty());var m=_.normalOfAddition(y,v,E.Vec2.f64.factory.createOneEmpty());r.beginPath(),_.moveTo(r,h,y,-t),_.lineTo(r,h,y,t);for(let e=u+2,t=i.getEnd()-1;e<t;++e){_.lineTo(r,p,m,g),_.lineTo(r,p,m,-g),_.closeSegment(i,r,s,e),_.moveTo(r,p,m,-g),_.lineTo(r,p,m,g);const C=h;h=p,p=f,g=.5*l.getVec2MultiplyX(i.getValue(e,n));var b=y;y=v,C[0]=c.getVec3MultiplyX(i.getValue(e+1,a)),C[1]=c.getVec3MultiplyY(i.getValue(e+1,o)),f=C,v=_.getLineNormal(p,f,b),_.normalOfAddition(y,v,m)}_.lineTo(r,p,m,g),_.lineTo(r,p,m,-g),_.closeSegment(i,r,s,i.getEnd()-2);u=i.getEnd()-1;f=d(u);u=.5*l.getVec2MultiplyX(i.getValue(u,n));v=_.getLineNormal(p,f,v),_.moveTo(r,p,m,g),_.lineTo(r,p,m,-g),_.lineTo(r,f,v,-u),_.lineTo(r,f,v,u),_.closeSegment(i,r,s,i.getEnd()-1),null==s&&(r.fillStyle=E.RgbaColorPacker.makeDomColorString(e.graphicsSettings.pointDisplay.getColor().getPackedRGBAColor()),r.fill())}static closeSegment(e,t,r,n){t.closePath(),null!=r&&(t.fillStyle=E.RgbaColorPacker.makeDomColorString(e.getValue(n,r)),t.fill(),t.beginPath())}static normalOfAddition(e,t,r){return e.add(t,_.tmp).normalize(r)}static getLineNormal(e,t,r){return t.subtract(e,_.tmp).normalize(_.tmp).getNormal(r)}static moveTo(e,t,r,n){r.scalarMultiply(n,_.tmp),t.add(_.tmp,_.tmp),e.moveTo(_.tmp.getX(),_.tmp.getY())}static lineTo(e,t,r,n){r.scalarMultiply(n,_.tmp),t.add(_.tmp,_.tmp),e.lineTo(_.tmp.getX(),_.tmp.getY())}static drawConstantSizeLine(e,r,n){const i=_.getLineColorFromData,a=e.data;var o=a.offsets.x,s=a.offsets.y,c=a.offsets.color;const l=n.drawTransforms.dataToInteractiveArea;var n=a.getStart(),u=l.getVec3MultiplyX(a.getValue(n,o)),d=l.getVec3MultiplyY(a.getValue(n,s)),e=E.RgbaColorPacker.makeDomColorString(e.graphicsSettings.pointDisplay.getColor().getPackedRGBAColor(!0));null==c&&(r.strokeStyle=e),r.beginPath(),r.moveTo(u,d);for(let e=n+1,t=a.getEnd();e<t;++e)u=l.getVec3MultiplyX(a.getValue(e,o)),d=l.getVec3MultiplyY(a.getValue(e,s)),null!=c?(r.strokeStyle=i(a,e,c),r.lineTo(u,d),r.stroke(),r.beginPath(),r.moveTo(u,d)):r.lineTo(u,d);null!=c&&r.stroke()}static getLineColorFromData(e,t,r){return E.RgbaColorPacker.makeDomColorString(e.getValue(t,r))}}t.CanvasLineGraphicsComponent=_,_.tmp=new E.Vec2.f64},7230:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlCaplessLineGraphicsComponent=void 0;const n=r(1147),i=r(6225),a=r(9547);class o{constructor(e,t){this.cameraBinder=e,this.indexedDataBinder=t,this.specification=a.GlProgramSpecification.mergeProgramSpecifications([e.specification,t.specification,s]),this.bindings=o.getBindings()}getCacheId(){return["CaplessLine",this.cameraBinder.getCacheId(),this.indexedDataBinder.getCacheId()].join("_")}initialize(e){this.cameraBinder.initialize(e),this.indexedDataBinder.initialize(e),this.bindings.trianglePositionAttribute.initialize(e),this.bindings.canvasToClipUniform.initialize(e)}onBeforeUpdate(e,t){this.bindings.trianglePositionAttribute.bind(e,e.context.STATIC_DRAW),this.bindings.canvasToClipUniform.setData(t.canvasDimensions.pixelToClipSize),this.bindings.canvasToClipUniform.bind(e)}update(e,t,r){e.data.getLength()<2||(this.cameraBinder.setZ(e),this.cameraBinder.update(r.drawTransforms,t),this.indexedDataBinder.updateInstanced(e,t,1),this.indexedDataBinder.overrideColors(t,e),t.drawInstancedArrays(t.context.TRIANGLE_STRIP,0,4,.5*e.data.getLength()|0),this.indexedDataBinder.setPointers(e.data.getStart()+1,e.data.getBlockByteSize()),this.indexedDataBinder.bindInstanced(t,1),t.drawInstancedArrays(t.context.TRIANGLE_STRIP,0,4,.5*(e.data.getLength()-1)|0))}static getBindings(){return{trianglePositionAttribute:new a.GlFloatAttribute("caplessLine_trianglePosition",new a.GlBuffer(new Float32Array([0,0,1,0,0,1,1,1])),2),canvasToClipUniform:new a.GlMat3Uniform("caplessLine_canvasToClipSize",new i.Mat3.f32)}}}(0,n.__decorate)([i.Once],o.prototype,"getCacheId",null),t.GlCaplessLineGraphicsComponent=o;r=new a.GlShader(`
/* === capless line === */
ATTRIBUTE lowp vec2 caplessLine_trianglePosition;
uniform highp mat3 caplessLine_canvasToClipSize;
VARYING lowp vec4 caplessLine_lineColor;

float caplessLine_getSize(vec2 sizes)
{
    return mix(sizes[0], sizes[1], caplessLine_trianglePosition.y);
}

vec2 caplessLine_getAdjustedPoistion(vec2 p1, vec2 p2, vec2 sizes)
{
    vec2 normal = generate2dLineNormal(p1, p2, vec2(1));
    vec2 position = mix(p1, p2, caplessLine_trianglePosition.y);

    float xSign = caplessLine_trianglePosition.x * 2. - 1.;
    vec2 pixelWidthOffset = xSign * caplessLine_getSize(sizes) * normal;

    return position + mat3MultiplyVec2(caplessLine_canvasToClipSize, pixelWidthOffset);
}

vec4 caplessLine_getColor(vec4 p1Color, vec4 p2Color)
{
    return mix(p1Color, p2Color, caplessLine_trianglePosition.y);
}

void main()
{
    vec3 p1 = v_2dCamera_getClipspaceCoords2d(pointConnector_getPosition());
    vec3 p2 = v_2dCamera_getClipspaceCoords2d(pointConnector_getPosition1());
    vec2 sizes = vec2(pointConnector_getSize(), pointConnector_getSize1()) * 0.5;

    gl_Position = vec4(caplessLine_getAdjustedPoistion(p1.xy, p2.xy, sizes), p1.z, 1);
    
    vec4 p1Color = pointConnector_getColor();
    vec4 p2Color = pointConnector_getColor1();
    caplessLine_lineColor = caplessLine_getColor(p1Color, p2Color);
}
`),t=new a.GlShader(`
VARYING lowp vec4 caplessLine_lineColor;

void main()
{
    setFragmentColor(caplessLine_lineColor);
}
`);const s=new a.GlProgramSpecification(a.GlShader.combineShaders([a.generate2LinedNormalShader,a.mat3MultiplyVec2Shader,r]),t,["ANGLE_instanced_arrays"])},626:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlLineFlatCapGraphicsComponent=void 0;const n=r(1147),i=r(6225),a=r(9547);class o{constructor(e,t){this.cameraBinder=e,this.indexedDataBinder=t,this.specification=a.GlProgramSpecification.mergeProgramSpecifications([e.specification,t.specification,s]),this.bindings=o.getBindings()}getCacheId(){return["GlFlatCapLine",this.cameraBinder.getCacheId(),this.indexedDataBinder.getCacheId()].join("_")}initialize(e){this.cameraBinder.initialize(e),this.indexedDataBinder.initialize(e),this.bindings.capGeometryAttribute.initialize(e),this.bindings.canvasToClipUniform.initialize(e)}onBeforeUpdate(e,t){this.bindings.capGeometryAttribute.bind(e,e.context.STATIC_DRAW),this.bindings.canvasToClipUniform.setData(t.canvasDimensions.pixelToClipSize),this.bindings.canvasToClipUniform.bind(e)}update(e,t,r){var n=e.data.getLength();n<3||(this.cameraBinder.setZ(e),this.cameraBinder.update(r.drawTransforms,t),this.indexedDataBinder.updateInstanced(e,t,1),this.indexedDataBinder.overrideColors(t,e),t.drawInstancedArrays(t.context.TRIANGLE_STRIP,0,4,.3333333333333333*n|0),r=e.data.getStart(),this.indexedDataBinder.setPointers(r+1,e.data.getBlockByteSize()),this.indexedDataBinder.bindInstanced(t,1),t.drawInstancedArrays(t.context.TRIANGLE_STRIP,0,4,.3333333333333333*(n-1)|0),this.indexedDataBinder.updatePointers(e),this.indexedDataBinder.setPointers(r+2,e.data.getBlockByteSize()),this.indexedDataBinder.bindInstanced(t,1),t.drawInstancedArrays(t.context.TRIANGLE_STRIP,0,4,.3333333333333333*(n-2)|0))}static getBindings(){return{capGeometryAttribute:new a.GlFloatAttribute("caplessLine_trianglePosition",new a.GlBuffer(new Float32Array([1,0,0,0,1,1,0,1])),2),canvasToClipUniform:new a.GlMat3Uniform("caplessLine_canvasToClipSize",new i.Mat3.f32)}}}(0,n.__decorate)([i.Once],o.prototype,"getCacheId",null),t.GlLineFlatCapGraphicsComponent=o;r=new a.GlShader(`
/* === capless line === */
ATTRIBUTE lowp vec2 caplessLine_trianglePosition;
uniform highp mat3 caplessLine_canvasToClipSize;
VARYING lowp vec4 caplessLine_lineColor;

vec2 caplessLine_getAdjustedPoistion(vec2 p1, vec2 p2, vec2 p3, float p2Size)
{
    vec2 l1Normal = generate2dLineNormal(p1, p2, vec2(1));
    vec2 l2Normal = generate2dLineNormal(p2, p3, vec2(1));
    vec2 normal = mix(l2Normal, l1Normal, caplessLine_trianglePosition.y);

    float xSign = caplessLine_trianglePosition.x * 2. - 1.;
    vec2 pixelWidthOffset = xSign * p2Size * normal;

    return p2 + mat3MultiplyVec2(caplessLine_canvasToClipSize, pixelWidthOffset);
}

void main()
{
    vec3 p1 = v_2dCamera_getClipspaceCoords2d(pointConnector_getPosition());
    vec3 p2 = v_2dCamera_getClipspaceCoords2d(pointConnector_getPosition1());
    vec3 p3 = v_2dCamera_getClipspaceCoords2d(pointConnector_getPosition2());
    float p2Size =  pointConnector_getSize1() * 0.5;

    gl_Position = vec4(caplessLine_getAdjustedPoistion(p1.xy, p2.xy, p3.xy, p2Size), p1.z, 1);
    
    vec4 p2Color = pointConnector_getColor1();
    caplessLine_lineColor = p2Color;
}
`),t=new a.GlShader(`
    VARYING highp vec4 caplessLine_lineColor;

    void main()
    {
        setFragmentColor(caplessLine_lineColor);
    }
    `);const s=new a.GlProgramSpecification(a.GlShader.combineShaders([a.generate2LinedNormalShader,a.mat3MultiplyVec2Shader,r]),t,["ANGLE_instanced_arrays"])},3672:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlPointGraphicsComponent=void 0;const n=r(1147),i=r(6225),a=r(9547);class o{constructor(e,t){this.cameraBinder=e,this.pointBinder=t,this.outerVertices=40,this.specification=this.getSpec(),this.bindings=this.getBindings()}getCacheId(){return["Point",this.cameraBinder.getCacheId(),this.pointBinder.getCacheId()].join("_")}initialize(e){this.pointBinder.initialize(e),this.cameraBinder.initialize(e),this.bindings.circleGeometryAttribute.initialize(e),this.bindings.canvasToClipSizeUniform.initialize(e)}onBeforeUpdate(e,t){this.bindings.circleGeometryAttribute.bind(e),this.bindings.canvasToClipSizeUniform.setData(t.canvasDimensions.pixelToClipSize),this.bindings.canvasToClipSizeUniform.bind(e)}update(e,t,r){this.pointBinder.updateInstanced(e,t,1),this.pointBinder.overrideColors(t,e),this.cameraBinder.setZ(e),this.cameraBinder.update(r.drawTransforms,t),t.drawInstancedArrays(t.context.TRIANGLE_FAN,0,this.outerVertices+1,e.data.getLength())}static generateCircleGeometry(e){var t=Math.PI/(e-1),r=2*e+2;const n=new Float32Array(r);for(let e=2;e<r;e+=2){var i=t*e;n[e]=Math.cos(i),n[e+1]=Math.sin(i)}return n}getSpec(){return a.GlProgramSpecification.mergeProgramSpecifications([this.cameraBinder.specification,this.pointBinder.specification,new a.GlProgramSpecification(a.GlShader.combineShaders([a.mat2MultiplyValueShader,s]),c,["ANGLE_instanced_arrays"])])}getBindings(){var e=o.generateCircleGeometry(this.outerVertices);return{circleGeometryAttribute:new a.GlFloatAttribute("pointGc_position",new a.GlBuffer(e),2),canvasToClipSizeUniform:new a.GlMat3Uniform("pointGc_canvasToClipSize",new i.Mat3.f32)}}}(0,n.__decorate)([i.Once],o.prototype,"getCacheId",null),t.GlPointGraphicsComponent=o;const s=new a.GlShader(`
ATTRIBUTE lowp vec2 pointGc_position;
uniform highp mat3 pointGc_canvasToClipSize;
VARYING lowp vec4 pointGc_color;

vec2 pointGc_getOffset()
{
    return mat3MultiplyVec2(pointGc_canvasToClipSize, pointGc_position * pointConnector_getSize()) * 0.5;
}

void main()
{
    vec3 position = v_2dCamera_getClipspaceCoords2d(pointConnector_getPosition());
    gl_Position = vec4(pointGc_getOffset() + position.xy, position.z, 1);
    pointGc_color = pointConnector_getColor();
}
`),c=new a.GlShader(`
VARYING highp vec4 pointGc_color;

void main()
{
    setFragmentColor(pointGc_color);
}
`)},1632:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestCartesian2dUpdateArgProvider=void 0;const n=r(9547),i=r(6225),a=r(8705);t.TestCartesian2dUpdateArgProvider=class{constructor(e,t,r=1){this.ctor=e,this.dims=t;e=i.Range2d.f32.factory.createOne(0,this.dims.getX(),0,this.dims.getY()),t=i.Range2d.f32.factory.createOne(0,this.dims.getX()*r,0,this.dims.getY()*r);this.canvasDims=new n.CanvasDimensions(r,e,t,new i.Range2d.f32)}createTestCartesian2dUpdateArg(){const e=new a.Cartesian2dUpdateArg(this.ctor);e.plotRange.update(0,4,0,4),e.canvasDimensions=this.canvasDims;var t=n.PlotArea.createDefault();return e.plotDimensionsOBL=n.PlotDimensions.createOneOBL(t,this.canvasDims),e.plotDimensionsOTL=n.PlotDimensions.createOneOTL(t,this.canvasDims),e.interactionTransforms.update(e.plotRange,e.plotDimensionsOBL.cssArea.wholeRange,e.plotDimensionsOBL.cssArea.interactiveRange),e.drawTransforms.update(e.plotRange,e.plotDimensionsOBL.clipSpaceArea.wholeRange,e.plotDimensionsOBL.clipSpaceArea.interactiveRange),e}}},7863:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Point2dDisplaySettings=void 0;const n=r(6225);class i extends n.Mat4.f32{constructor(e,t,r=t){super(),this.colorOverrides=null,this.color=null,this.highlight=null,this.setSize(e),this.setColor(t),this.setHighlightColor(r)}setSize(e){this[0]=e}setColor(e){this.setColorImpl(e,4)}getColor(){return null==this.color&&(this.color=new n.Vec4.f32),this.getRow(1,this.color)}setHighlightColor(e){this.setColorImpl(e,8)}getHighlightColor(){return null==this.highlight&&(this.highlight=new n.Vec4.f32),this.getRow(2,this.highlight)}getPixelSize(){return this[0]}setColorImpl(e,t){this[t]=.00392156862745098*n.RgbaColorPacker.unpackR(e),this[t+1]=.00392156862745098*n.RgbaColorPacker.unpackG(e),this[t+2]=.00392156862745098*n.RgbaColorPacker.unpackB(e),this[t+3]=.00392156862745098*n.RgbaColorPacker.unpackA(e)}}t.Point2dDisplaySettings=i},3389:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Point2dSizeNormalizer=void 0;t.Point2dSizeNormalizer=class{constructor(e){this.pixelSizeRange=e,this.tmpRange=e.slice(),this.sizeRange=e.slice(),this.sizeRange.update(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY),this.transform=this.sizeRange.getRangeTransform(this.pixelSizeRange),this.requiresInitialization=!0}getSizeToPixelTransform(){return this.requiresInitialization&&(this.sizeRange.getRangeTransform(this.pixelSizeRange,this.transform),this.requiresInitialization=!1),this.transform}extendDataRange(e,t){this.tmpRange.update(e,t),this.sizeRange.unionRange(this.tmpRange,this.sizeRange)}}},7387:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasCartesianUpdateHooks=void 0;t.CanvasCartesianUpdateHooks=class{constructor(e){this.getDrawRange=e}onAfterUpdate(e){e.sharedState.updateScissorRange(null)}onBeforeUpdate(e,t){e.sharedState.updateScissorRange(this.getDrawRange(t))}}},5735:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasCartesian2dUpdateArgProvider=void 0;const n=r(8705),i=r(6225);class a{constructor(){this.reverseWholeRange=new i.Range2d.f32,this.reverseInteractiveRange=new i.Range2d.f32,this.updateArg=new n.Cartesian2dUpdateArg(Float64Array)}getUpdateArg(e,t){return a.copyReverseY(this.reverseWholeRange,e.plotDimensionsOTL.pixelArea.wholeRange),a.copyReverseY(this.reverseInteractiveRange,e.plotDimensionsOTL.pixelArea.interactiveRange),this.updateArg.drawTransforms.update(e.plotRange.dataRange,this.reverseWholeRange,this.reverseInteractiveRange),this.updateArg.update(e,t),this.updateArg}static copyReverseY(e,t){e[0]=t[0],e[1]=t[1],e[2]=t[3],e[3]=t[2]}}t.CanvasCartesian2dUpdateArgProvider=a},4154:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dPlotRange=void 0;const i=r(6225),a=r(7341);t.Cartesian2dPlotRange=class o{constructor(e,t,r,n,i){this.interactionBounder=i,this.maxBounds=e,this.dataRange=t,this.minRange=t.slice().fill(0),this.updateBounds(e,r),this.updateDataRange(t,n)}static createOneF32(e,t,r,n){return new o(e,t,r,n,new a.Cartesian2dFloatPrecisionRangeBounder(i._F32,.1))}static createOneF64(e,t,r,n){return new o(e,t,r,n,new a.Cartesian2dFloatPrecisionRangeBounder(i._F64,.1))}updateDataRange(e,t){this.dataRange.set(e),this.dataRange.ensureMinRange(this.minRange.getXMax(),this.minRange.getYRange()),this.interactionBounder.boundRange(this.dataRange,t.pixelDims,this.maxBounds)}updateBounds(e,t){t=i._Math.bound(t,1,this.interactionBounder.maxZoom),this.maxBounds.set(e),this.maxBounds.bound(this.interactionBounder.maxBounds),this.minRange.update(0,e.getXRange()/t,0,e.getYRange()/t),this.minRange.setXMax(e.getXRange()/t),this.minRange.setYMax(e.getYRange()/t)}}},8856:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dTransforms=void 0;const n=r(6225);t.Cartesian2dTransforms=class{constructor(e){const t=n.Mat3.getCtor(e);this.dataToPlotArea=new t,this.dataToInteractiveArea=new t,this.dataToPlotSize=new t,this.dataToInteractiveSize=new t,this.tmp=n.Range2d.getCtor(e).factory.createOneEmpty()}update(e,t,r){e.getRangeTransform(t,this.dataToPlotArea),e.getRangeTransform(r,this.dataToInteractiveArea);const n=this.tmp;n.setXMax(t.getXRange()),n.setYMax(t.getYRange()),e.getRangeTransform(n,this.dataToPlotSize),n.setXMax(r.getXRange()),n.setYMax(r.getYRange()),e.getRangeTransform(n,this.dataToInteractiveSize)}}},8705:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dUpdateArg=void 0;const n=r(6225),i=r(8856),a=r(9547);t.Cartesian2dUpdateArg=class{constructor(e){this.plotRange=n.Range2d.getCtor(e).factory.createOneEmpty(),this.drawTransforms=new i.Cartesian2dTransforms(e),this.interactionTransforms=new i.Cartesian2dTransforms(e),this.canvasDimensions=a.CanvasDimensions.createDefault(),this.plotDimensionsOBL=a.PlotDimensions.createDefault(),this.plotDimensionsOTL=a.PlotDimensions.createDefault()}update(e,t){this.plotRange=e.plotRange.dataRange,this.plotDimensionsOBL=e.plotDimensionsOBL,this.plotDimensionsOTL=e.plotDimensionsOTL,this.canvasDimensions=t,this.interactionTransforms.update(e.plotRange.dataRange,e.plotDimensionsOBL.cssArea.wholeRange,e.plotDimensionsOBL.cssArea.interactiveRange)}}},7494:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CategoryStack2d=void 0;const n=r(6225);t.CategoryStack2d=class{constructor(e){this.category=e,this.entities=new n.DirtyCheckedUniqueCollection}addEntity(e){this.entities.add(e)}update(){if(this.entities.isDirty){const r=this.entities.getArray();this.category.entityZIndexRange=r.length;for(let e=0,t=r.length;e<t;++e)r[e].graphicsSettings.zIndexRel=e}}}},2224:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntityCategory2d=void 0;class i extends r(9547).EntityCategory{constructor(e,t,r,n){super(e,t,r,n),this.entityZIndexRange=0,this.zIndex=i.counter++,r.categories.addCategory(this)}}t.EntityCategory2d=i,i.counter=0},8947:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlCartesianUpdateHooks=void 0;t.GlCartesianUpdateHooks=class{constructor(e){this.getDrawRange=e}onBeforeUpdate(e,t){e.sharedState.updateScissorRange(this.getDrawRange(t))}onAfterUpdate(){}}},4755:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlCartesian2dUpdateArgProvider=void 0;const n=r(8705);t.GlCartesian2dUpdateArgProvider=class{constructor(){this.updateArg=new n.Cartesian2dUpdateArg(Float32Array)}getUpdateArg(e,t){return this.updateArg.drawTransforms.update(e.plotRange.dataRange,e.plotDimensionsOBL.clipSpaceArea.wholeRange,e.plotDimensionsOBL.clipSpaceArea.interactiveRange),this.updateArg.update(e,t),this.updateArg}}},9439:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hoverHighlightLineSegment=void 0;const o=r(9547),s=r(6225);t.hoverHighlightLineSegment=function(t,e,r){switch(t.updateChangeId(),e){case o.EHoverState.Left:t.graphicsSettings.pointDisplay.colorOverrides=null;break;case o.EHoverState.Entered:case o.EHoverState.SegmentChange:{var n=t.graphicsSettings.pointDisplay.getHighlightColor().getPackedRGBAColor(!0);const i=t.graphicsSettings.pointDisplay.colorOverrides=new Array(2*r.size);let e=0;for(const a of r)i[e]=[a,new Float32Array([n])],i[e+1]=[a+1,new Float32Array([n])],e+=2;break}default:s._Production.assertValueIsNever(e)}}},2186:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Point2dSubcategory=void 0;const n=r(4188),i=r(3389);t.Point2dSubcategory=class{constructor(e){this.normalization=new i.Point2dSizeNormalizer(e)}onEntityAdded(e){const t=(0,n.getRangeFromIndexedConnector)(e.data);null!=t&&this.normalization.extendDataRange(t.getMin(),t.getMax())}onEntityRemoved(){}}},5490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene2dCategorySorted=void 0;const c=r(6225);t.Scene2dCategorySorted=class{constructor(e){this.update2dGroup=e}getSortedCategories(e){return e.categories.toArray().slice().sort((e,t)=>e.zIndex-t.zIndex)}getEntitiesByComponents(e){const t=c._Array.collect(e.getEntities(),new Map,(e,t)=>{var r=this.update2dGroup.graphicsComponents.getComponent(t);this.collectComponents(e,r,t)});return Array.from(t.entries())}collectComponents(r,e,n){const t=e.subComponents;if(null!=t&&!0!==e.groupUpdatesByEntity){var i=t.getSubComponents();for(let e=0,t=i.length;e<t;++e)this.collectComponents(r,i[e],n)}else c._Map.push(r,e,n)}update(){var e=this.getZRange(this.update2dGroup),r=-1/c._Math.max(e,1);let n=0;var i=this.getSortedCategories(this.update2dGroup);for(let e=0,t=i.length;e<t;e++){const o=i[e];var a=o.getEntities();for(let e=0,t=a.length;e<t;e++){const s=a[e].graphicsSettings;s.zIndexAbs=(n+s.zIndexRel)*r}n+=o.entityZIndexRange+1}}getZRange(e){let r=0;var n=e.categories.toArray();for(let e=0,t=n.length;e<t;e++){const i=n[e];0!==i.getEntities().length&&(r+=i.entityZIndexRange+1)}return r}}},650:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sorted2dUpdateStrategy=void 0;const h=r(9547),p=r(6225);class g{constructor(e,t,r){this.plot=e,this.scene=r,this.renderLists=[],this.isDirty=!0,this.updateGroup=t,h.OnEntityAddedToGroup.registerListener(this.plot,()=>this.isDirty=!0),h.OnEntityRemovedFromGroup.registerListener(this.plot,()=>this.isDirty=!0),h.OnEntityModified.registerListener(this.plot,()=>this.isDirty=!0)}update(e,t){this.isDirty&&(this.scene.update(),this.updateRenderList(t),this.isDirty=!1),this.draw(t,e)}updateRenderList(r){var n=this.scene.getSortedCategories(this.updateGroup),i=this.renderLists=p._Array.map(n,e=>new h.RenderList(e.updateHooks));const a=g.createEntityGrouping;for(let e=0,t=n.length;e<t;++e){var o=n[e];const d=i[e];var s=this.scene.getEntitiesByComponents(o);for(let e=0,t=s.length;e<t;++e){var c=s[e],l=c[0],u=c[1];d.addGrouping(a(l,r));for(let e=0,t=u.length;e<t;++e)d.addEntity(u[e])}d.build()}}static createEntityGrouping(e,t){return new h.EntityUpdateGrouping(e,t.entityRendererProvider.getRenderer(e))}draw(r,e){var n=this.updateGroup.updateArgProvider.getUpdateArg(this.plot,e),i=this.renderLists;const a=g.drawEntityGrouping;for(let e=0,t=i.length;e<t;++e){const c=i[e];c.updateGroupHooks.onBeforeUpdate(r,n);const l=c.entitiesInGroup;for(let e=0,t=l.length;e<t;++e)l[e].onBeforeUpdate(n);var o=c.groupings;for(let e=0,t=o.length;e<t;++e){var s=o[e];a(s[0],s[1],n)}c.updateGroupHooks.onAfterUpdate(r,n)}}static drawEntityGrouping(e,t,r){var n=e.graphicsComponent;!0===n.groupUpdatesByEntity?g.drawPerEntity(n,t,r):g.drawEntitiesByComponent(e,t,r)}static drawEntitiesByComponent(e,r,n){const i=e.entityRenderer,a=e.graphicsComponent;i.onBeforeDraw(),a.onBeforeUpdate(i,n);for(let e=0,t=r.length;e<t;++e)a.update(r[e],i,n);i.onAfterDraw()}static drawPerEntity(n,i,a){const e=n.subComponents;var o=e.getSubComponents(),s=e.entityRenderers;for(let r=0,e=i.length;r<e;++r)for(let e=0,t=o.length;e<t;++e){const n=o[e],c=s[e];c.onBeforeDraw(),n.onBeforeUpdate(c,a),n.update(i[r],c,a),c.onAfterDraw()}}}t.Sorted2dUpdateStrategy=g},5626:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Update2dGroup=void 0;const n=r(9547);class i extends n.AEntityGroup{constructor(e,t=new n.CategoryStore){super(),this.updateArgProvider=e,this.categories=t,this.entitiesInGroup=new Set,this.graphicsComponents=new n.EntityComponentStore}onEntityAdded(e,t){this.graphicsComponents.setComponent(e,t.graphicsComponent),this.entitiesInGroup.add(e)}onEntityRemoved(r){this.graphicsComponents.deleteComponent(r),this.entitiesInGroup.delete(r);const n=this.categories.toArray();for(let e=0,t=n.length;e<t;++e)n[e].removeEntity(r)}}t.Update2dGroup=i},1228:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasChartFactory=void 0;const a=r(5018),o=r(1780),s=r(9513),c=r(9693),l=r(9145),u=r(451);t.CanvasChartFactory=class{static createOne(e,t){var r=new c.EventService,n=new a.GraphAttachPoint(new o.GraphAttachPointProvider(e),r,t);const i=new u.CanvasContextAdapter(n.canvasElement);e=s.CanvasRenderer.createOne(i.getContext());return null==e?null:new l.ChartComponent(n,e,r,t,i)}}},9145:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChartComponent=void 0;const o=r(6225),n=r(1004),i=r(2241),a=r(9048),s=r(9583),c=r(9720),l=r(9555),u=r(7018);class d extends o.AOnDestroy{constructor(e,t,r,n,i,a){super(),this.plotCollection=new o.DirtyCheckedUniqueCollection,this.contextLost=!1,this.contextAdapter=i,this.renderer=t,this.eventService=r,this.updateOptions=n.updateOptions,this.attachPoint=e,this.changeIdFactory=n.changeIdFactory,this.frameProvider=null!=a?a:this.createDefaultFrameProvider(n),this.registerEventHandlers()}cancelNextFrame(){this.frameProvider.cancelNextFrame()}updateOnNextFrame(e,r=!0){if(r=Boolean(r),null==e||this.updateOptions.updateAllPlotsOnDraw){var n=this.plotCollection.getArray();for(let e=0,t=n.length;e<t;++e)this.frameProvider.updateOnNextFrame(n[e],r)}else this.frameProvider.updateOnNextFrame(e,r)}updateImmediate(r){if(!this.contextLost){this.updateOptions.updateDimsOnDraw&&this.resize();var n=this.attachPoint.canvasDims;if(null!=r)this.plotCollection.has(r)&&this.draw(r,n);else{var i=this.plotCollection.getArray();for(let e=0,t=i.length;e<t;++e){const r=i[e];this.draw(r,n)}}}}draw(e,t){this.renderer.onBeforePlotDraw(e,t),e.updateStrategy.update(t,this.renderer),this.renderer.onAfterPlotDraw()}updateInteractionHandlers(e){o._Iterator.consumeAll(this.updateInteractionHandlersIncremental(e))}*updateInteractionHandlersIncremental(r){var e,n,i=performance.now(),a=this.attachPoint.canvasDims;if(null!=r){if(this.plotCollection.has(r)){const t=d.updateInteractionHandler(r,a,i);for(;null===(e=t.next().done)||void 0===e||!e;)yield}}else{var o=this.plotCollection.getArray();for(let e=0,t=o.length;e<t;++e){const r=o[e];if(this.plotCollection.has(r)){const s=d.updateInteractionHandler(r,a,i);for(;null===(n=s.next().done)||void 0===n||!n;)yield}}}}resize(){var e=this.attachPoint.canvasDims,t=this.attachPoint.resizeCanvas();return e==t||(this.contextAdapter.onResize(t),s.OnCanvasResized.emit(this.eventService,t)),t}addPlot(e){return this.plotCollection.has(e)||(this.plotCollection.add(e),this.eventService.getCategory(s.OnCanvasResized).addListener(e),i.OnPlotAttached.emit(e,this)),e}removePlot(e){this.eventService.getCategory(s.OnCanvasResized).removeListener(e),e.clearInteractionHandler(),this.plotCollection.delete(e),a.OnPlotDetached.emit(e,this)}static updateInteractionHandler(e,t,r){const n=e.getInteractionHandler();return null==n?o._Iterator.emptyIterator:n.update(t,r)}createDefaultFrameProvider(e){return new n.FrameProvider(e=>this.updateImmediate(e),e=>this.updateInteractionHandlersIncremental(e),e.updateOptions.interactionRollupTime)}registerEventHandlers(){this.contextAdapter.graphContextChangeHooks.registerCallbacks(()=>{this.contextLost=!0},()=>{var e=this.contextAdapter.getContext();null!=e&&(this.contextLost=!1,this.renderer.onContextRegained(e))}),c.OnPlotRequiresUpdate.registerListener(this.eventService,(e,t)=>{var r=0!=(t&u.EEntityUpdateFlag.InteractionHandlerUpdateRequired);t&u.EEntityUpdateFlag.DrawRequired?this.frameProvider.updateOnNextFrame(e,r):r&&this.updateInteractionHandlers(e)}),s.OnCanvasResized.registerListener(this.eventService,r=>{var n=this.plotCollection.getArray();const i=s.OnCanvasResized.emit;for(let e=0,t=n.length;e<t;++e)i(n[e].eventService,r)}),l.OnDprChanged.registerListener(this.eventService,r=>{var n=this.plotCollection.getArray();const i=l.OnDprChanged.emit;for(let e=0,t=n.length;e<t;++e)i(n[e].eventService,r)})}}t.ChartComponent=d},8811:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChartConfig=void 0;const i=r(6225);t.ChartConfig=class{constructor(e={disableLongPressContext:!0,scrollZooms:!0,disableAllInteraction:!1},t={updateDimsOnDraw:!0,updateAllPlotsOnDraw:!1,interactionRollupTime:500},r=a,n=new i.IncrementingIdentifierFactory){this.interactionOptions=e,this.updateOptions=t,this.changeDetectionConfig=r,this.changeIdFactory=n}};const a={runOutsideOfChangeDetection:e=>e(),runInsideOfChangeDetection:e=>e()}},26:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlChartFactory=void 0;const o=r(9145),s=r(9693),c=r(5018),l=r(1780),u=r(8811),d=r(7625);t.GlChartFactory=class{static createOne(e,t,r,n){var i=new s.EventService,r=new c.GraphAttachPoint(new l.GraphAttachPointProvider(e),i,r);const a=new t(r.canvasElement,n.onCreate.contextAttributes);t=new u.ChartConfig,n=d.GlRenderer.createOne(a.getContext(),n);return null==n?null:new o.ChartComponent(r,n,i,t,a)}}},5612:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CategoryStore=void 0;const n=r(6225);t.CategoryStore=class{constructor(e=[]){this.categories=e}addCategory(e){return this.categories.push(e),e}toArray(){return this.categories}removeCategory(e){n._Array.removeOne(this.categories,e)}}},8348:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntityCategory=void 0;const a=r(6225),o=r(8017);function s(e,t){const r=e.entityRendererProvider.initializeRenderer(t,()=>e.entityRendererFactory.createRenderer(t.specification));return r.onBeforeInitialization(),t.initialize(r),r.onAfterInitialization(),r}t.EntityCategory=class{constructor(e,t,r,n){this.plot=e,this.renderer=t,this.updateGroup=r,this.entities=[],this.hooks=new WeakMap,this.updateHooks=n}addEntity(e,t,r){const n=this.plot;var i=this.renderer.graphicsComponents.get(t.getCacheId());t=null==i?t:i,n.addEntity(e),n.addToGroup(e,this.updateGroup,{graphicsComponent:t}),this.entities.push(e),null!=r&&r.onEntityAdded(e),null==i&&function(t,e){{var r;null!=e.subComponents?(r=e.subComponents.getSubComponents(),r=a._Array.map(r,e=>s(t,e)),e.subComponents.setEntityRenderers(r),t.entityRendererProvider.initializeRenderer(e,()=>new o.DummyEntityRenderer(t.sharedState))):s(t,e)}t.graphicsComponents.set(e.getCacheId(),e)}(this.renderer,t)}removeEntity(e){if(a._Array.removeOne(this.entities,e)){const t=this.hooks.get(e);null!=t&&t.onEntityRemoved(e)}}getEntities(){return this.entities}}},4540:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChartDataEntity=void 0;const i=r(6225);t.ChartDataEntity=class{constructor(e,t,r,n=i._Fp.noOp){this.data=e,this.graphicsSettings=t,this.changeIdFactory=r,this.beforeUpdate=n,this.groupMask=0,this.hitTestId=-1,this.changeId=this.changeIdFactory.getNextId()}onBeforeUpdate(e){this.beforeUpdate(e)}updateChangeId(){this.changeId=this.changeIdFactory.getNextId()}}},3569:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChartEntity=void 0;t.ChartEntity=class{constructor(e){this.identifierFactory=e,this.changeId=this.identifierFactory.getNextId()}onBeforeUpdate(){}updateChangeId(){this.changeId=this.identifierFactory.getNextId()}}},533:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasNoOpGraphicsComponent=void 0;t.CanvasNoOpGraphicsComponent=class{constructor(){this.specification={}}getCacheId(){return"NoOpGraphicsComponent"}initialize(){}onBeforeUpdate(){}update(){}}},9600:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompositeGraphicsComponent=void 0;const n=r(1147),i=r(7917),a=r(6225);class o{constructor(e,t){this.specification=e,this.graphicsComps=[t],this.subComponents=new i.GraphicsSubComponents(this.graphicsComps)}static createOne(e,t){return new o(e,t)}addComponent(e){return this.graphicsComps.push(e),this}getCacheId(){return a._Array.map(this.graphicsComps,e=>e.getCacheId()).join("_")}initialize(){const r=this.graphicsComps;var n=this.subComponents.entityRenderers;for(let e=0,t=r.length;e<t;++e)r[e].initialize(n[e])}onBeforeUpdate(){}update(){}}(0,n.__decorate)([a.Once],o.prototype,"getCacheId",null),t.CompositeGraphicsComponent=o},7446:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlNoOpGraphicsComponent=void 0;const n=r(6952);t.GlNoOpGraphicsComponent=class{constructor(){this.specification=n.dummyGlProgramSpecification}getCacheId(){return"NoOpGraphicsComponent"}initialize(){}onBeforeUpdate(){}update(){}}},9469:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AInterleavedConnector=void 0;t.AInterleavedConnector=class{constructor(e,t,r){this.offsets=e.offsets,this.blockElementCount=e.blockElementCount,this.startIndex=this.getInitialStartIndex(e),this.length=this.getInitialLength(e,t,this.startIndex),this.blockByteSize=r*this.blockElementCount}static getDescriptor(e,t){var r;return{offsets:e.offsets,byteOffset:(null!==(r=e.startIndex)&&void 0!==r?r:0)*e.blockElementCount*t.BYTES_PER_ELEMENT,blockElementCount:e.blockElementCount,blockByteSize:e.blockElementCount*t.BYTES_PER_ELEMENT}}getDescriptor(){return{offsets:this.offsets,byteOffset:this.getStart()*this.getBlockByteSize(),blockElementCount:this.getBlockElementCount(),blockByteSize:this.getBlockByteSize()}}getValue(e,t){return this.getData()[e*this.blockElementCount+t]}setValue(e,t,r){this.getData()[e*this.blockElementCount+t]=r}getStart(){return this.startIndex}setStart(e){this.startIndex=e}getLength(){return this.length}setLength(e){this.length=e}getMaximumLength(){return this.getData().length/this.blockElementCount}getBlockElementCount(){return this.blockElementCount}getBlockByteSize(){return this.blockByteSize}getInterleavedBuffer(){return this.getData()}getEnd(){return this.getStart()+this.getLength()}getLoggableValue(){var r=this.getData(),n=this.getBlockElementCount();const i=new Array(r.length/n);for(let t=0,e=i.length;t<e;++t){const a=i[t]=new Array(n);for(let e=0;e<n;++e)a[e]=r[t*n+e]}return i}getInitialStartIndex(e){return null==e.startIndex?0:e.startIndex}getInitialLength(e,t,r){return null==e.length?(t-r*this.blockElementCount)/this.blockElementCount|0:e.length}}},5200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InterleavedConnector=void 0;class n extends r(9469).AInterleavedConnector{constructor(e,t){super(t,e.length,e.BYTES_PER_ELEMENT),this.data=e}getData(){return this.data}}t.InterleavedConnector=n},3111:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedInterleavedConnector=void 0;const i=r(6225);class a extends r(9469).AInterleavedConnector{constructor(e,t,r,n){super(n,r.length,r.elementByteSize),this.cSetStart=`_${e}_setStart`,this.cSetLength=`_${e}_setLength`,this.wrapper=t,this.sharedArray=r;r=this.initialize(e,t,r.sharedObject.getPtr());this.sharedObject=new i.ReferenceCountedPtr(!1,r),this.sharedObject.registerOnFreeListener(()=>this.wrapper.instance._f32InterleavedConnector_delete(this.sharedObject.getPtr())),this.sharedObject.bindLifecycle(this.sharedArray.sharedObject)}static createOneExistingF32SharedArray(e,t,r,n){r=new a("f32InterleavedConnector",e,t,r);return n&&t.sharedObject.release(),r}static createOneF32(e,t,r){t=i.SharedArray.createOneF32(e,t,!0);return a.createOneExistingF32SharedArray(e,t,r,!0),new a("f32InterleavedConnector",e,t,r)}static createOneExistingF64SharedArray(e,t,r,n){r=new a("f64InterleavedConnector",e,t,r);return n&&t.sharedObject.release(),r}static createOneF64(e,t,r){t=i.SharedArray.createOneF64(e,t,!0);return a.createOneExistingF64SharedArray(e,t,r,!0),new a("f64InterleavedConnector",e,t,r)}getInterleavedBuffer(){return this.sharedArray.getInstance()}getData(){return this.sharedArray.getInstance()}setStart(e){super.setStart(e),this.wrapper.instance[this.cSetStart](this.sharedObject.getPtr(),e)}setLength(e){super.setLength(e),this.wrapper.instance[this.cSetLength](this.sharedObject.getPtr(),e)}initialize(e,t,r){const n=new o(t,this,r);e=t.instance[`_${e}_createOne`](n.sharedObject.getPtr());return n.sharedObject.release(),e}}t.SharedInterleavedConnector=a;class o{constructor(e,t,r){this.rvp=i.RawVoidPointer.createOne(e,5*Uint32Array.BYTES_PER_ELEMENT,!0),this.sharedObject=this.rvp.sharedObject;const n=this.rvp.getDataView();n.setUint32(0,r,o.littleEndian),n.setUint32(Uint32Array.BYTES_PER_ELEMENT,t.getStart(),o.littleEndian),n.setUint32(2*Uint32Array.BYTES_PER_ELEMENT,t.getLength(),o.littleEndian),n.setUint32(3*Uint32Array.BYTES_PER_ELEMENT,t.getMaximumLength(),o.littleEndian),n.setUint32(4*Uint32Array.BYTES_PER_ELEMENT,t.getBlockElementCount(),o.littleEndian)}}o.littleEndian=i.isLittleEndian},199:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntityComponentStore=void 0;r(6225);t.EntityComponentStore=class{constructor(){this.components=new WeakMap}getComponent(e){return this.components.get(e)}setComponent(e,t){this.components.set(e,t)}deleteComponent(e){this.components.delete(e)}}},4459:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AEntityGroup=void 0;t.AEntityGroup=class{isEntityInGroup(e){return this.entitiesInGroup.has(e)}}},9651:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HitTestableGroup=void 0;var n=r(4459);const i=r(6225);class a extends n.AEntityGroup{constructor(e,t){super(),this.argProvider=e,this.plot=t,this.entitiesByHitTester=new Map,this.hitTesterByEntity=new WeakMap,this.referenceCounts=new WeakMap,this.isDirty=!0,this.entitiesInGroup=new Set,this.cache=[]}getHitTester(e){return this.hitTesterByEntity.get(e)}getEntitiesByHitTester(){return this.isDirty?(this.isDirty=!1,this.cache=i._Map.arrayMap(this.entitiesByHitTester,(e,t)=>[t,e.getArray()])):this.cache}refCountingAddEntity(e,t){var r=1+(null!==(r=this.referenceCounts.get(e))&&void 0!==r?r:0);this.referenceCounts.set(e,r),1<r||this.plot.addToGroup(e,this,t)}refCountingRemoveEntity(e){var t=null!==(t=this.referenceCounts.get(e))&&void 0!==t?t:0;1===t?(this.plot.removeFromGroup(e,this),this.referenceCounts.delete(e)):this.referenceCounts.set(e,t-1)}onEntityAdded(e,t){i.DirtyCheckedUniqueCollection.mapInitializeAdd(this.entitiesByHitTester,t.hitTestComponent,e),this.hitTesterByEntity.set(e,t.hitTestComponent),this.entitiesInGroup.add(e),this.isDirty=!0}onEntityRemoved(e){var t=this.hitTesterByEntity.get(e);null!=t&&(this.hitTesterByEntity.delete(e),i._Map.clearingDeleteFromSet(this.entitiesByHitTester,t,e),this.entitiesInGroup.delete(e),this.isDirty=!0)}}t.HitTestableGroup=a},9069:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionGroup=void 0;var n=r(4459);const i=r(199);class a extends n.AEntityGroup{constructor(e,t,r){super(),this.plot=r,this.entitiesInGroup=new Set,this.hitAllowedComponentStore=new i.EntityComponentStore,this.groupMask=e,this.hitTestableGroup=t}addToGroup(e,t){this.plot.addToGroup(e,this,t)}onEntityAdded(e,t){this.hitTestableGroup.refCountingAddEntity(e,t),this.hitAllowedComponentStore.setComponent(e,t.hitAllowedComponent),e.groupMask|=this.groupMask,this.entitiesInGroup.add(e)}onEntityRemoved(e){e.groupMask&=~this.groupMask,this.entitiesInGroup.delete(e),this.hitTestableGroup.refCountingRemoveEntity(e),this.hitAllowedComponentStore.deleteComponent(e)}}t.InteractionGroup=a},5916:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EHoverState=void 0,(t=t.EHoverState||(t.EHoverState={}))[t.Left=1]="Left",t[t.SegmentChange=2]="SegmentChange",t[t.Entered=3]="Entered"},611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.developerErrorLocalization=void 0,t.developerErrorLocalization={getTx:e=>e,glCompileError:"Failed to compile program, errors / warnings follow:"}},5139:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlCompileError=void 0;class n extends r(6225).NestableError{}t.GlCompileError=n},9693:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventService=void 0;const n=r(6225);t.EventService=class{constructor(){this.categories=new WeakMap}getCategory(e){let t=this.categories.get(e);return null==t&&(t=new n.BroadcastEvent(e.callbackKey),this.categories.set(e,t)),t}}},4026:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnCanvasMouseEvent=void 0;class a{constructor(e){this.onMouseEvent=e}static registerListener(e,t){return e.getCategory(a).addTemporaryListener(new a(t))}static emit(e,r,n){const i=e.getCategory(a).getTargets();for(let e=0,t=i.length;e<t;++e)i[e].onMouseEvent(r,n)}}(t.OnCanvasMouseEvent=a).callbackKey="onMouseEvent"},3288:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnCanvasPointerEvent=void 0;class a{constructor(e){this.onPointerEvent=e}static registerListener(e,t){return e.getCategory(a).addTemporaryListener(new a(t))}static emit(e,r,n){const i=e.getCategory(a).getTargets();for(let e=0,t=i.length;e<t;++e)i[e].onPointerEvent(r,n)}}(t.OnCanvasPointerEvent=a).callbackKey="onPointerEvent"},9583:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnCanvasResized=void 0;class i{constructor(e){this.onCanvasResized=e}static registerListener(e,t){return e.getCategory(i).addTemporaryListener(new i(t))}static emit(e,r){const n=e.getCategory(i).getTargets();for(let e=0,t=n.length;e<t;++e)n[e].onCanvasResized(r)}}(t.OnCanvasResized=i).callbackKey="onCanvasResized"},9555:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnDprChanged=void 0;class i{constructor(e){this.onDprChanged=e}static registerListener(e,t){return e.getCategory(i).addTemporaryListener(new i(t))}static emit(e,r){const n=e.getCategory(i).getTargets();for(let e=0,t=n.length;e<t;++e)n[e].onDprChanged(r)}}(t.OnDprChanged=i).callbackKey="onDprChanged"},9720:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnPlotRequiresUpdate=void 0;const a=r(7529);class o{constructor(e){this.onPlotRequiresUpdate=e}static registerListener(e,t){return e.getCategory(o).addTemporaryListener(new o(t))}static emit(r,n){const i=a.Plot.getChartEventService(r).getCategory(o).getTargets();for(let e=0,t=i.length;e<t;++e)i[e].onPlotRequiresUpdate(r,n)}}(t.OnPlotRequiresUpdate=o).callbackKey="onPlotRequiresUpdate"},9533:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultInteractionGroups=void 0;const n=r(9651),i=r(9069);t.DefaultInteractionGroups=class{constructor(e,t){this.hitTestable=new n.HitTestableGroup(e,t),this.draggable=new i.InteractionGroup(1,this.hitTestable,t),this.clickable=new i.InteractionGroup(2,this.hitTestable,t),this.hoverable=new i.InteractionGroup(4,this.hitTestable,t)}}},391:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultInteractionSharedState=void 0;const s=r(6225),c=r(5916),l=r(7018);function u(r,n){let i=l.EEntityUpdateFlag.NoUpdateRequired;for(let e=0,t=n.length;e<t;++e){const a=n[e];null!=a.entity.onHoverChange&&(i|=a.entity.onHoverChange(c.EHoverState.Left,a.segmentIds,r))}return i}t.DefaultInteractionSharedState=class{constructor(e){this.providers=e,this.dragTargets=null,this.hoveredEntities=new Map}clearAllHoveredEntities(e){e=u(e,s._Map.valuesToArray(this.hoveredEntities));this.hoveredEntities.clear(),e!==l.EEntityUpdateFlag.NoUpdateRequired&&this.providers.callbacks.onEntityRequiresUpdate(e)}onHover(e){var t=this.providers.eventTargets.hoverTargetProvider.hitTestPlot(e),r=s._Array.index(t,e=>e.entity),n=s._Map.setDifference(r,this.hoveredEntities),i=s._Map.setDifference(this.hoveredEntities,r);const a=s._Map.intersect(r,this.hoveredEntities);var o=s._Map.valuesToArray(n),t=s._Map.valuesToArray(i);a.forEach((e,t)=>{var r=this.hoveredEntities.get(t);s._Set.isSetEqual(r.segmentIds,e.segmentIds)&&a.delete(t)});n=s._Map.valuesToArray(a),i=u(e,t);i|=function(r,n){let i=l.EEntityUpdateFlag.NoUpdateRequired;for(let e=0,t=n.length;e<t;++e){const a=n[e];null!=a.entity.onHoverChange&&(i|=a.entity.onHoverChange(c.EHoverState.Entered,a.segmentIds,r))}return i}(e,o),i|=function(r,n){let i=l.EEntityUpdateFlag.NoUpdateRequired;for(let e=0,t=n.length;e<t;++e){const a=n[e];null!=a.entity.onHoverChange&&(i|=a.entity.onHoverChange(c.EHoverState.SegmentChange,a.segmentIds,r))}return i}(e,n),this.hoveredEntities=r,(0<o.length||0<n.length||0<t.length)&&this.providers.callbacks.onHover(o,n,t,e),i!==l.EEntityUpdateFlag.NoUpdateRequired&&this.providers.callbacks.onEntityRequiresUpdate(i)}onClick(e){var t=this.providers.eventTargets.clickTargetProvider.hitTestPlot(e),r=function(r,n){let i=l.EEntityUpdateFlag.NoUpdateRequired;for(let e=0,t=r.length;e<t;++e){const a=r[e];null!=a.entity.onClick&&(i|=a.entity.onClick(n,a.segmentIds))}return i}(t,e);this.providers.callbacks.onClick(t,e),r!==l.EEntityUpdateFlag.NoUpdateRequired&&this.providers.callbacks.onEntityRequiresUpdate(r)}onDblClick(e){var t=this.providers.eventTargets.clickTargetProvider.hitTestPlot(e),r=function(r,n){let i=l.EEntityUpdateFlag.NoUpdateRequired;for(let e=0,t=r.length;e<t;++e){const a=r[e];null!=a.entity.onDblClick&&(i|=a.entity.onDblClick(n,a.segmentIds))}return i}(t,e);this.providers.callbacks.onDoubleClick(t,e),r!==l.EEntityUpdateFlag.NoUpdateRequired&&this.providers.callbacks.onEntityRequiresUpdate(r)}}},4893:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DraggingState=void 0;const n=r(6225),i=r(4767);t.DraggingState=class{constructor(e,t,r,n){this.startEvent=e,this.options=t,this.providers=r,this.sharedState=n,this.handlePointerEvent(i.EPointerEventType.Move,this.startEvent)}handleMouseEvent(){return null}handlePointerEvent(e,t){switch(e){case i.EPointerEventType.Out:case i.EPointerEventType.Up:return this.startEvent.$event.pointerId===t.$event.pointerId?(this.providers.callbacks.onDragEnd(t),this.providers.stateFactories.getIdleState(null,this.options,this.providers,this.sharedState)):null;case i.EPointerEventType.Down:return null;case i.EPointerEventType.Move:return this.startEvent.$event.pointerId===t.$event.pointerId&&this.providers.callbacks.onDrag(t),null}return n._Production.assertValueIsNever(e)}}},8322:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChartInitialState=void 0;const n=r(4234),i=r(391);t.getChartInitialState=function(e,t){return new n.IdleState(null,e,t,new i.DefaultInteractionSharedState(t))}},4234:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdleState=void 0;const i=r(6225),a=r(4767),n=r(7287),o=r(7363);t.IdleState=class{constructor(e,t,r,n){this.lastClick=e,this.options=t,this.providers=r,this.sharedState=n,null!=this.lastClick&&null!=this.options.doubleClickOptions&&setTimeout(()=>this.lastClick=null,this.options.doubleClickOptions.timeout)}handleMouseEvent(e,t){return e===n.EMouseEventType.Wheel?(this.providers.callbacks.onWheel(t,-t.$event.deltaY),null):i._Production.assertValueIsNever(e)}handlePointerEvent(e,n){switch(e){case a.EPointerEventType.Down:if(n.$event.button!==o.EPointerEventButton.LeftMouse)return n.$event.button===o.EPointerEventButton.RightMouse&&this.sharedState.onClick(n),null;{const t=this.providers.eventTargets.dragTargetProvider.hitTestPlot(n);return 0<t.length&&(this.sharedState.dragTargets=this.providers.callbacks.onDragStart(t,n)?t.filter(e=>{var t,r;return null===(r=(t=e.entity).onDragStart)||void 0===r?void 0:r.call(t,n,e.segmentIds)}):null,null!=this.sharedState.dragTargets)?this.providers.stateFactories.getDraggingState(n,this.options,this.providers,this.sharedState):this.providers.stateFactories.getIndeterminateState(n,this.options,this.providers,this.sharedState,this.lastClick)}case a.EPointerEventType.Move:return this.sharedState.onHover(n),null;case a.EPointerEventType.Out:case a.EPointerEventType.Up:return this.sharedState.clearAllHoveredEntities(n),null}return i._Production.assertValueIsNever(e)}}},4438:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndeterminateState=void 0;const n=r(6225),i=r(4767),a=r(4723);t.IndeterminateState=class{constructor(e,t,r,n,i){this.downEvent=e,this.options=t,this.providers=r,this.sharedState=n,this.lastClick=i}handleMouseEvent(){return null}handlePointerEvent(e,t){switch(e){case i.EPointerEventType.Down:return t.$event.pointerId!==this.downEvent.$event.pointerId?(this.sharedState.clearAllHoveredEntities(t),this.providers.stateFactories.getPinchZoomingState(this.downEvent,t,this.options,this.providers,this.sharedState)):null;case i.EPointerEventType.Move:return this.downEvent.$event.pointerId!==t.$event.pointerId?null:this.providers.stateFactories.getPanningState(t,this.options,this.providers,this.sharedState);case i.EPointerEventType.Out:return this.providers.stateFactories.getIdleState(null,this.options,this.providers,this.sharedState);case i.EPointerEventType.Up:return this.isDoubleClick(t.$event)?(this.sharedState.onDblClick(t),this.providers.stateFactories.getIdleState(null,this.options,this.providers,this.sharedState)):(this.sharedState.onClick(t),this.providers.stateFactories.getIdleState({chartEvent:t,timestamp:performance.now()},this.options,this.providers,this.sharedState))}return n._Production.assertValueIsNever(e)}isDoubleClick(e){return null!=this.options.doubleClickOptions&&(null!=this.lastClick&&this.downEvent.$event.pointerId===e.pointerId&&(!(performance.now()>this.lastClick.timestamp+this.options.doubleClickOptions.timeout)&&!((0,a.getDistanceBetweenPointerEvents)(this.lastClick.chartEvent.$event,e)>this.options.doubleClickOptions.maxRadius)))}}},6156:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PanningState=void 0;const a=r(6225),o=r(4767);t.PanningState=class{constructor(e,t,r,n){this.startEvent=e,this.options=t,this.providers=r,this.sharedState=n,this.previousClientX=e.$event.clientX,this.previousClientY=e.$event.clientY,this.handlePointerEvent(o.EPointerEventType.Move,this.startEvent)}handleMouseEvent(){return null}handlePointerEvent(e,t){switch(e){case o.EPointerEventType.Out:case o.EPointerEventType.Up:return this.startEvent.$event.pointerId!==t.$event.pointerId?null:this.providers.stateFactories.getIdleState(null,this.options,this.providers,this.sharedState);case o.EPointerEventType.Down:return a._Fp.valueOrNull(t.$event.pointerId!==this.startEvent.$event.pointerId,this.providers.stateFactories.getPinchZoomingState(this.startEvent,t,this.options,this.providers,this.sharedState));case o.EPointerEventType.Move:var r,n,i;return this.startEvent.$event.pointerId===t.$event.pointerId&&(r=t.$event.clientX-this.previousClientX,n=t.$event.clientY-this.previousClientY,i=this.providers.attachPoint.canvasDims,this.providers.callbacks.onPan(t,r*i.dpr,-n*i.dpr),this.previousClientX=t.$event.clientX,this.previousClientY=t.$event.clientY),null}return a._Production.assertValueIsNever(e)}}},6290:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PinchZoomingState=void 0;const a=r(6225),n=r(4767),o=r(4723),s=r(9812);t.PinchZoomingState=class{constructor(e,t,r,n,i){this.firstFingerDownEvent=e,this.secondFingerDownEvent=t,this.options=r,this.providers=n,this.sharedState=i,this.centerPoint=new a.Vec2.f32;i=(0,o.getDistanceBetweenPointerEvents)(e.$event,t.$event);this.initialDistance=a._Math.max(i,1),(0,s.getCenterBetweenPointerEvents)(e,t,this.centerPoint),this.providers.callbacks.onPanZoomStart(this.centerPoint,this.initialDistance)}handleMouseEvent(){return null}handlePointerEvent(e,t){switch(this.updateEvents(t),(0,s.getCenterBetweenPointerEvents)(this.firstFingerDownEvent,this.secondFingerDownEvent,this.centerPoint),e){case n.EPointerEventType.Out:case n.EPointerEventType.Up:return a._Fp.valueOrNull(this.isInitialPointer(t),this.providers.stateFactories.getPanningState(this.getRemainingEvent(t),this.options,this.providers,this.sharedState));case n.EPointerEventType.Down:return null;case n.EPointerEventType.Move:var r;return this.isInitialPointer(t)&&(r=(0,o.getDistanceBetweenPointerEvents)(this.firstFingerDownEvent.$event,this.secondFingerDownEvent.$event),r=a._Math.max(r,1),this.providers.callbacks.onPanZoomChange(t,this.centerPoint,r)),null}return a._Production.assertValueIsNever(e)}updateEvents(e){this.firstFingerDownEvent.$event.pointerId===e.$event.pointerId?this.firstFingerDownEvent=e.clone():this.secondFingerDownEvent.$event.pointerId===e.$event.pointerId&&(this.secondFingerDownEvent=e.clone())}isInitialPointer(e){return this.firstFingerDownEvent.$event.pointerId===e.$event.pointerId||this.secondFingerDownEvent.$event.pointerId===e.$event.pointerId}getRemainingEvent(e){return this.firstFingerDownEvent.$event.pointerId===e.$event.pointerId?this.secondFingerDownEvent:this.firstFingerDownEvent}}},80:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlotStateFactories=void 0;const i=r(4893),a=r(4234),o=r(4438),s=r(6156),c=r(6290);t.PlotStateFactories=class{getDraggingState(e,t,r,n){return new i.DraggingState(e.clone(),t,r,n)}getIdleState(e,t,r,n){return new a.IdleState(e,t,r,n)}getIndeterminateState(e,t,r,n,i){return new o.IndeterminateState(e.clone(),t,r,n,i)}getPanningState(e,t,r,n){return new s.PanningState(e.clone(),t,r,n)}getPinchZoomingState(e,t,r,n,i){return new c.PinchZoomingState(e.clone(),t.clone(),r,n,i)}}},5897:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HitAlwaysAllowedComponent=void 0;t.HitAlwaysAllowedComponent=class{isHitAllowed(){return!0}}},4735:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HitTestResult=void 0;t.HitTestResult=class{constructor(e,t,r,n){this.entity=e,this.segmentIds=t,this.hitTestArg=r,this.filterMask=n}}},9727:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChartPointerEvent=void 0;const n=r(6225),i=r(3460);t.ChartPointerEvent=class a{constructor(e,t,r,n){this.canvasDims=e,this.pointerCssPosition=t,this.pointerClipPosition=r,this.$event=n}static createOneEmpty(){return new a(i.CanvasDimensions.createDefault(),n.Vec2.f32.factory.createOneEmpty(),n.Vec2.f32.factory.createOneEmpty(),new PointerEvent("dummy"))}clone(){return new a(this.canvasDims.clone(),this.pointerCssPosition.slice(),this.pointerClipPosition.slice(),this.$event)}}},7287:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EMouseEventTypeNames=t.EMouseEventType=void 0,(r=t.EMouseEventType||(t.EMouseEventType={}))[r.Wheel=0]="Wheel";class n{}(t.EMouseEventTypeNames=n)[r.Wheel]="Wheel"},7363:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EPointerEventButton=void 0,(t=t.EPointerEventButton||(t.EPointerEventButton={}))[t.LeftMouse=0]="LeftMouse",t[t.TouchContact=0]="TouchContact",t[t.PenContact=0]="PenContact",t[t.MiddleMouse=1]="MiddleMouse",t[t.RightMouse=2]="RightMouse",t[t.PenBarrelButton=2]="PenBarrelButton",t[t.MouseBack=3]="MouseBack",t[t.MouseForward=4]="MouseForward",t[t.PenEraser=5]="PenEraser"},4767:(e,t)=>{"use strict";var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.EPointerEventTypeNames=t.EPointerEventType=void 0,(i=n=t.EPointerEventType||(t.EPointerEventType={}))[i.Move=0]="Move",i[i.Up=1]="Up",i[i.Down=2]="Down",i[i.Out=3]="Out";class a{}t.EPointerEventTypeNames=a,r=n.Move,i=n.Up,t=n.Down,n=n.Out,a[r]="Mouse move",a[i]="Mouse up",a[t]="Mouse down",a[n]="Mouse out"},6175:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PointerEventProvider=void 0;const n=r(3460);t.PointerEventProvider=class{constructor(e){this.attachPoint=e,this.canvasDimensions=n.CanvasDimensions.createDefault()}updatePointerEvent(e,t){var r=(t.$event=e).clientX-this.attachPoint.canvasDims.boundingRect.getXMin(),e=e.clientY-this.attachPoint.canvasDims.boundingRect.getYMin();t.pointerCssPosition.update(r,this.canvasDimensions.cssDims.getYRange()-e),t.pointerCssPosition.mat3Multiply(this.canvasDimensions.transforms.cssToClip,t.pointerClipPosition),t.canvasDims=this.canvasDimensions}setCanvasDims(e){this.canvasDimensions=e}}},1225:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlotEventHandler=void 0;const n=r(4767),i=(r(6225),r(7287),r(6175)),a=r(9727);t.PlotEventHandler=class{constructor(e,t){this.plot=t,this.pointerEvent=a.ChartPointerEvent.createOneEmpty(),this.currentState=e,this.pointerEventProvider=new i.PointerEventProvider(t.attachPoint)}onCanvasResized(e){this.pointerEventProvider.setCanvasDims(e)}onPointerEvent(e,t){this.pointerEventProvider.updatePointerEvent(t,this.pointerEvent),this.plot.plotDimensionsOBL.clipSpaceArea.interactiveRange.isPointInRange(this.pointerEvent.pointerClipPosition)||(e=n.EPointerEventType.Out);const r=this.currentState.handlePointerEvent(e,this.pointerEvent);null!=r&&(this.currentState=r)}onMouseEvent(e,t){if(this.pointerEventProvider.updatePointerEvent(t,this.pointerEvent),this.plot.plotDimensionsOBL.clipSpaceArea.interactiveRange.isPointInRange(this.pointerEvent.pointerClipPosition)){const r=this.currentState.handleMouseEvent(e,this.pointerEvent);null!=r&&(this.currentState=r)}}}},7490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlotInteractionProviders=void 0;const n=r(80);t.PlotInteractionProviders=class{constructor(e,t,r){this.callbacks=e,this.eventTargets=t,this.attachPoint=r,this.stateFactories=new n.PlotStateFactories}}},4499:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuadEventTargetProvider=void 0;const h=r(4735),p=r(4646),g=r(6225);t.QuadEventTargetProvider=class{constructor(e,t){this.hitTestableEntities=e,this.quadTree=t}hitTestPlot(r){var n=this.quadTree.sharedTree.queryPoint(r.pointerCssPosition,this.hitTestableEntities.groupMask),i=this.quadTree.entities,a=this.quadTree.sharedTree.getResults(),o=this.quadTree.hitTestArg;const s=new Map;null==o&&g._Production.error("updateArg must be set before query");for(let e=0,t=n*p.QuadElementSharedObject.elementCount;e<t;e+=p.QuadElementSharedObject.elementCount){var c=i[a[e]];if(this.hitTestableEntities.hitAllowedComponentStore.getComponent(c).isHitAllowed(c,r,o)){var l=a[e+1];if(this.hitTestableEntities.hitTestableGroup.getHitTester(c).hitTest(c,l,r.pointerCssPosition,o)){const u=s.get(c);if(null==u){const d=new Set;d.add(l),s.set(c,new h.HitTestResult(c,d,o,a[e+2]))}else u.segmentIds.add(l)}}}return g._Map.valuesToArray(s)}}},2481:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuadTreeEventTargetProvider=void 0;const i=r(4499),d=r(6225);t.QuadTreeEventTargetProvider=class{constructor(e,t,r,n){this.entityTree=e,this.plot=t,this.interactiveGroups=r,this.options=n,this.dragTargetProvider=new i.QuadEventTargetProvider(this.interactiveGroups.draggable,this.entityTree),this.clickTargetProvider=new i.QuadEventTargetProvider(this.interactiveGroups.clickable,this.entityTree),this.hoverTargetProvider=new i.QuadEventTargetProvider(this.interactiveGroups.hoverable,this.entityTree)}*update(e,r){const t=this.plot.plotDimensionsOBL.cssArea.wholeRange;var n=d._Math.min(t.getXRange(),t.getYRange());this.entityTree.sharedTree.setOptions(Math.floor(Math.log2(n)),4),this.entityTree.sharedTree.setTopLevel(t);var i=this.interactiveGroups.hitTestable.getEntitiesByHitTester(),a=this.interactiveGroups.hitTestable.argProvider.getUpdateArg(this.plot,e);this.entityTree.update(a);var o=this.entityTree,s=this.options.yieldTime;for(let e=0,t=i.length;e<t;++e){const u=i[e][0];var c=i[e][1];for(let e=0,t=c.length;e<t;++e){performance.now()-r>s&&(yield,r=performance.now());var l=c[e];u.index(l,a,o)}}}}},7758:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserEventHandlerCallbacks=void 0;const n=r(6225);t.UserEventHandlerCallbacks=class{onEntityRequiresUpdate(){}onDragStart(){return!0}onDrag(){}onDragEnd(){}onPan(){}onWheel(){}onPanZoomStart(){}onPanZoomChange(){}onClick(){}onDoubleClick(){}onHover(){}onCanvasResized(){}constructor(e){n._Dictionary.extend(this,e)}}},9812:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCenterBetweenPointerEvents=void 0;const n=r(6225);t.getCenterBetweenPointerEvents=function(e,t,r=new n.Vec2.f32){return e.pointerCssPosition.add(t.pointerCssPosition,r).scalarMultiply(.5,r),r}},4723:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDistanceBetweenPointerEvents=void 0,t.getDistanceBetweenPointerEvents=function(e,t){var r=e.clientX-t.clientX,t=e.clientY-t.clientY;return Math.hypot(r,t)}},6899:()=>{},4646:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuadElementSharedObject=void 0;const n=r(6225);class i{constructor(e){this.rvp=n.RawVoidPointer.createOne(e,i.byteSize,!0),this.sharedObject=this.rvp.sharedObject}update(e,t,r){const n=this.rvp.getDataView();n.setUint32(0,e,i.littleEndian),n.setUint32(Uint32Array.BYTES_PER_ELEMENT,t,i.littleEndian),n.setUint32(2*Uint32Array.BYTES_PER_ELEMENT,r,i.littleEndian)}}(t.QuadElementSharedObject=i).elementCount=3,i.byteSize=Uint32Array.BYTES_PER_ELEMENT*i.elementCount,i.littleEndian=n.isLittleEndian},8668:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Range2dSharedObject=void 0;const n=r(6225);class i{constructor(e,t){this.byteSize=t,this.rvp=n.RawVoidPointer.createOne(e,t,!0),this.sharedObject=this.rvp.sharedObject}static createOneF32(e){return new i(e,4*Float32Array.BYTES_PER_ELEMENT)}static createOneF64(e){return new i(e,4*Float64Array.BYTES_PER_ELEMENT)}update(e){e.copyToBuffer(this.rvp.getDataView(),0,i.littleEndian)}}(t.Range2dSharedObject=i).littleEndian=n.isLittleEndian},9370:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedEntityQuadTree=void 0;const n=r(6225),i=r(8407);t.SharedEntityQuadTree=class{constructor(e,t,r){this.hitTestArg=null,this.entities=[],this.uniqueEntities=new Set,this.isDirty=!0,this.sharedTree=i.SharedQuadTree.createOneF32(e,t,r),this.sharedObject=this.sharedTree.sharedObject}update(e){this.hitTestArg=e,this.isDirty&&this.regenerateIds()}addEntity(e){this.uniqueEntities.add(e),this.isDirty=!0}removeEntity(e){this.uniqueEntities.delete(e),this.isDirty=!0}regenerateIds(){var e=this.uniqueEntities;const r=this.entities=n._Set.valuesToArray(e);for(let e=0,t=r.length;e<t;++e)r[e].hitTestId=e;this.isDirty=!1}}},8407:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedQuadTree=void 0;const i=r(6225),a=r(8668),o=r(4646);class s{constructor(e,t,r,n){this.wrapper=e,this.maximumResultCount=n,this.onMemoryResize=()=>{this.results=this.getResultArray()};r=e.instance._f32QuadTree_createTree(t,r);this.sharedObject=new i.ReferenceCountedPtr(!1,r),this.sharedObject.registerOnFreeListener(this.wrapper.memoryResize.addTemporaryListener(this)),this.sharedObject.registerOnFreeListener(()=>this.wrapper.instance._f32QuadTree_delete(this.sharedObject.getPtr())),this.sharedRange2d=a.Range2dSharedObject.createOneF32(e),this.sharedObject.takeOwnership(this.sharedRange2d.sharedObject),this.sharedQuadElement=new o.QuadElementSharedObject(e),this.sharedObject.takeOwnership(this.sharedQuadElement.sharedObject),this.maximumResultCount=s.getResultCount(n),this.resultAddress=this.wrapper.instance._quadTree_getResultAddress(),this.results=this.getResultArray()}static createOneF32(e,t,r,n){return new s(e,t,r,n)}getResults(){return this.results}addBoundingBox(e,t,r,n){this.sharedQuadElement.update(t,r,n),this.sharedRange2d.update(e),this.wrapper.instance._f32QuadTree_insertRange(this.sharedObject.getPtr(),this.sharedRange2d.sharedObject.getPtr(),this.sharedQuadElement.sharedObject.getPtr())}setTopLevel(e){this.sharedRange2d.update(e),this.wrapper.instance._f32QuadTree_setTopLevel(this.sharedObject.getPtr(),this.sharedRange2d.sharedObject.getPtr())}setOptions(e,t){this.wrapper.instance._quadTree_setOptions(this.sharedObject.getPtr(),e,t)}queryPoint(e,t){return this.wrapper.instance._f32QuadTree_queryPoint(this.sharedObject.getPtr(),e.getX(),e.getY(),t)}getQuadElementCount(){return this.wrapper.instance._quadTree_getQuadElementCount(this.sharedObject.getPtr())}getResultArray(){return new Uint32Array(this.wrapper.memory.buffer,this.resultAddress,this.maximumResultCount)}static getResultCount(e){var t=16384*o.QuadElementSharedObject.byteSize;return i._Math.min(null!=e?e:t,t)}}t.SharedQuadTree=s},9547:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlChartFactory=t.CanvasEntityRenderer=t.EntityComponentStore=t.CategoryStore=t.OnEntityAdded=t.OnEntityAddedToGroup=t.OnPlotDetached=t.OnPlotAttached=t.OnEntityRemovedFromGroup=t.OnEntityRemoved=t.OnEntityModified=t.RenderList=t.EntityUpdateGrouping=t.EntityCategory=t.EHoverState=t.ChartDataEntity=t.dummyGlProgramSpecification=t.CanvasDimensions=t.SpriteProvider=t.SpriteLookup=t.GlProgramSpecification=t.GlFloatAttribute=t.GlBuffer=t.UserEventHandlerCallbacks=t.OnPlotRequiresUpdate=t.OnCanvasPointerEvent=t.OnCanvasMouseEvent=t.AGlInstancedBinder=t.reverseYFullClipSpaceRange2d=t.fullClipSpaceSize2d=t.fullClipSpaceRange2d=t.DefaultInteractionGroups=t.PlotInteractionConnector=t.QuadTreeEventTargetProvider=t.QuadEventTargetProvider=t.getChartInitialState=t.emptyShader=t.CanvasRendererSharedState=t.CanvasRendererFactory=t.CanvasEntityRendererProvider=t.CanvasContextAdapter=t.CanvasRenderer=t.InterleavedConnector=t.AGlAttribute=t.InteractionGroup=t.IdleState=t.HitTestableGroup=t.HitAlwaysAllowedComponent=t.OnDprChanged=t.EEntityUpdateFlag=void 0,t.CanvasNoOpGraphicsComponent=t.CompositeGraphicsComponent=t.GlShader=t.GlRendererSharedState=t.GlRendererOptions=t.GlRendererFactory=t.GlRenderer=t.AGlUniformArray=t.GlMat4Uniform=t.GlMat3Uniform=t.GlMat2Uniform=t.GlVec4Uniform=t.GlVec3Uniform=t.GlVec2Uniform=t.GlFloatUniform=t.AGlUniformValue=t.AGlBinder=t.GlEntityRenderer=t.GlContextAdapter=t.Gl2ContextAdapter=t.Gl1ContextAdapter=t.generate2LinedNormalShader=t.mat2MultiplyValueShader=t.mat3MultiplyVec2Shader=t.mixComponentsShader=t.unpackColorShader=t.GlTexture2d=t.ChartEntity=t.GraphicsSubComponents=t.GlEntityRendererProvider=t.Plot=t.PlotArea=t.GraphAttachPoint=t.AEntityGroup=t.EventService=t.OnCanvasResized=t.PlotDimensions=t.ChartPointerEvent=t.HitTestResult=t.EMouseEventType=t.EPointerEventType=t.PlotCtorArg=t.PlotInteractionProviders=t.ChartConfig=t.GraphAttachPointProvider=t.CanvasTransforms=t.ChartComponent=t.PlotStateFactories=t.FrameProvider=t.CanvasChartFactory=void 0,t.AInterleavedConnector=t.SharedInterleavedConnector=t.SharedQuadTree=t.SharedEntityQuadTree=t.GlNoOpGraphicsComponent=void 0,r(6899);var n=r(7018);Object.defineProperty(t,"EEntityUpdateFlag",{enumerable:!0,get:function(){return n.EEntityUpdateFlag}});var i=r(9555);Object.defineProperty(t,"OnDprChanged",{enumerable:!0,get:function(){return i.OnDprChanged}});var a=r(5897);Object.defineProperty(t,"HitAlwaysAllowedComponent",{enumerable:!0,get:function(){return a.HitAlwaysAllowedComponent}});var o=r(9651);Object.defineProperty(t,"HitTestableGroup",{enumerable:!0,get:function(){return o.HitTestableGroup}});var s=r(4234);Object.defineProperty(t,"IdleState",{enumerable:!0,get:function(){return s.IdleState}});var c=r(9069);Object.defineProperty(t,"InteractionGroup",{enumerable:!0,get:function(){return c.InteractionGroup}});var l=r(3261);Object.defineProperty(t,"AGlAttribute",{enumerable:!0,get:function(){return l.AGlAttribute}});var u=r(5200);Object.defineProperty(t,"InterleavedConnector",{enumerable:!0,get:function(){return u.InterleavedConnector}});var d=r(9513);Object.defineProperty(t,"CanvasRenderer",{enumerable:!0,get:function(){return d.CanvasRenderer}});var h=r(451);Object.defineProperty(t,"CanvasContextAdapter",{enumerable:!0,get:function(){return h.CanvasContextAdapter}});var p=r(6748);Object.defineProperty(t,"CanvasEntityRendererProvider",{enumerable:!0,get:function(){return p.CanvasEntityRendererProvider}});var g=r(1893);Object.defineProperty(t,"CanvasRendererFactory",{enumerable:!0,get:function(){return g.CanvasRendererFactory}});var f=r(7462);Object.defineProperty(t,"CanvasRendererSharedState",{enumerable:!0,get:function(){return f.CanvasRendererSharedState}});var y=r(1224);Object.defineProperty(t,"emptyShader",{enumerable:!0,get:function(){return y.emptyShader}});var v=r(8322);Object.defineProperty(t,"getChartInitialState",{enumerable:!0,get:function(){return v.getChartInitialState}});var m=r(4499);Object.defineProperty(t,"QuadEventTargetProvider",{enumerable:!0,get:function(){return m.QuadEventTargetProvider}});var b=r(2481);Object.defineProperty(t,"QuadTreeEventTargetProvider",{enumerable:!0,get:function(){return b.QuadTreeEventTargetProvider}});var C=r(5841);Object.defineProperty(t,"PlotInteractionConnector",{enumerable:!0,get:function(){return C.PlotInteractionConnector}});var E=r(9533);Object.defineProperty(t,"DefaultInteractionGroups",{enumerable:!0,get:function(){return E.DefaultInteractionGroups}});var _=r(1030);Object.defineProperty(t,"fullClipSpaceRange2d",{enumerable:!0,get:function(){return _.fullClipSpaceRange2d}});var P=r(1538);Object.defineProperty(t,"fullClipSpaceSize2d",{enumerable:!0,get:function(){return P.fullClipSpaceSize2d}});var O=r(7905);Object.defineProperty(t,"reverseYFullClipSpaceRange2d",{enumerable:!0,get:function(){return O.reverseYFullClipSpaceRange2d}});var w=r(8635);Object.defineProperty(t,"AGlInstancedBinder",{enumerable:!0,get:function(){return w.AGlInstancedBinder}});var S=r(4026);Object.defineProperty(t,"OnCanvasMouseEvent",{enumerable:!0,get:function(){return S.OnCanvasMouseEvent}});var M=r(3288);Object.defineProperty(t,"OnCanvasPointerEvent",{enumerable:!0,get:function(){return M.OnCanvasPointerEvent}});var T=r(9720);Object.defineProperty(t,"OnPlotRequiresUpdate",{enumerable:!0,get:function(){return T.OnPlotRequiresUpdate}});var R=r(7758);Object.defineProperty(t,"UserEventHandlerCallbacks",{enumerable:!0,get:function(){return R.UserEventHandlerCallbacks}});var A=r(3312);Object.defineProperty(t,"GlBuffer",{enumerable:!0,get:function(){return A.GlBuffer}});var x=r(836);Object.defineProperty(t,"GlFloatAttribute",{enumerable:!0,get:function(){return x.GlFloatAttribute}});var I=r(2934);Object.defineProperty(t,"GlProgramSpecification",{enumerable:!0,get:function(){return I.GlProgramSpecification}});var j=r(6447);Object.defineProperty(t,"SpriteLookup",{enumerable:!0,get:function(){return j.SpriteLookup}});var G=r(5281);Object.defineProperty(t,"SpriteProvider",{enumerable:!0,get:function(){return G.SpriteProvider}});var D=r(3460);Object.defineProperty(t,"CanvasDimensions",{enumerable:!0,get:function(){return D.CanvasDimensions}});var L=r(6952);Object.defineProperty(t,"dummyGlProgramSpecification",{enumerable:!0,get:function(){return L.dummyGlProgramSpecification}});var F=r(4540);Object.defineProperty(t,"ChartDataEntity",{enumerable:!0,get:function(){return F.ChartDataEntity}});var V=r(5916);Object.defineProperty(t,"EHoverState",{enumerable:!0,get:function(){return V.EHoverState}});var B=r(8348);Object.defineProperty(t,"EntityCategory",{enumerable:!0,get:function(){return B.EntityCategory}});var U=r(1197);Object.defineProperty(t,"EntityUpdateGrouping",{enumerable:!0,get:function(){return U.EntityUpdateGrouping}});var k=r(2739);Object.defineProperty(t,"RenderList",{enumerable:!0,get:function(){return k.RenderList}});var z=r(1605);Object.defineProperty(t,"OnEntityModified",{enumerable:!0,get:function(){return z.OnEntityModified}});var N=r(6803);Object.defineProperty(t,"OnEntityRemoved",{enumerable:!0,get:function(){return N.OnEntityRemoved}});var Y=r(2806);Object.defineProperty(t,"OnEntityRemovedFromGroup",{enumerable:!0,get:function(){return Y.OnEntityRemovedFromGroup}});var X=r(2241);Object.defineProperty(t,"OnPlotAttached",{enumerable:!0,get:function(){return X.OnPlotAttached}});var H=r(9048);Object.defineProperty(t,"OnPlotDetached",{enumerable:!0,get:function(){return H.OnPlotDetached}});var q=r(2601);Object.defineProperty(t,"OnEntityAddedToGroup",{enumerable:!0,get:function(){return q.OnEntityAddedToGroup}});var W=r(7809);Object.defineProperty(t,"OnEntityAdded",{enumerable:!0,get:function(){return W.OnEntityAdded}});var Q=r(5612);Object.defineProperty(t,"CategoryStore",{enumerable:!0,get:function(){return Q.CategoryStore}});var $=r(199);Object.defineProperty(t,"EntityComponentStore",{enumerable:!0,get:function(){return $.EntityComponentStore}});var Z=r(18);Object.defineProperty(t,"CanvasEntityRenderer",{enumerable:!0,get:function(){return Z.CanvasEntityRenderer}});var K=r(26);Object.defineProperty(t,"GlChartFactory",{enumerable:!0,get:function(){return K.GlChartFactory}});var J=r(1228);Object.defineProperty(t,"CanvasChartFactory",{enumerable:!0,get:function(){return J.CanvasChartFactory}});var ee=r(1004);Object.defineProperty(t,"FrameProvider",{enumerable:!0,get:function(){return ee.FrameProvider}});var te=r(80);Object.defineProperty(t,"PlotStateFactories",{enumerable:!0,get:function(){return te.PlotStateFactories}});var re=r(9145);Object.defineProperty(t,"ChartComponent",{enumerable:!0,get:function(){return re.ChartComponent}});var ne=r(8245);Object.defineProperty(t,"CanvasTransforms",{enumerable:!0,get:function(){return ne.CanvasTransforms}});var ie=r(1780);Object.defineProperty(t,"GraphAttachPointProvider",{enumerable:!0,get:function(){return ie.GraphAttachPointProvider}});var ae=r(8811);Object.defineProperty(t,"ChartConfig",{enumerable:!0,get:function(){return ae.ChartConfig}});var oe=r(7490);Object.defineProperty(t,"PlotInteractionProviders",{enumerable:!0,get:function(){return oe.PlotInteractionProviders}});var se=r(6554);Object.defineProperty(t,"PlotCtorArg",{enumerable:!0,get:function(){return se.PlotCtorArg}});var ce=r(4767);Object.defineProperty(t,"EPointerEventType",{enumerable:!0,get:function(){return ce.EPointerEventType}});var le=r(7287);Object.defineProperty(t,"EMouseEventType",{enumerable:!0,get:function(){return le.EMouseEventType}});var ue=r(4735);Object.defineProperty(t,"HitTestResult",{enumerable:!0,get:function(){return ue.HitTestResult}});var de=r(9727);Object.defineProperty(t,"ChartPointerEvent",{enumerable:!0,get:function(){return de.ChartPointerEvent}});var he=r(7752);Object.defineProperty(t,"PlotDimensions",{enumerable:!0,get:function(){return he.PlotDimensions}});var pe=r(9583);Object.defineProperty(t,"OnCanvasResized",{enumerable:!0,get:function(){return pe.OnCanvasResized}});var ge=r(9693);Object.defineProperty(t,"EventService",{enumerable:!0,get:function(){return ge.EventService}});var fe=r(4459);Object.defineProperty(t,"AEntityGroup",{enumerable:!0,get:function(){return fe.AEntityGroup}});var ye=r(5018);Object.defineProperty(t,"GraphAttachPoint",{enumerable:!0,get:function(){return ye.GraphAttachPoint}});var ve=r(1717);Object.defineProperty(t,"PlotArea",{enumerable:!0,get:function(){return ve.PlotArea}});var me=r(7529);Object.defineProperty(t,"Plot",{enumerable:!0,get:function(){return me.Plot}});var be=r(3e3);Object.defineProperty(t,"GlEntityRendererProvider",{enumerable:!0,get:function(){return be.GlEntityRendererProvider}});var Ce=r(7917);Object.defineProperty(t,"GraphicsSubComponents",{enumerable:!0,get:function(){return Ce.GraphicsSubComponents}});var Ee=r(3569);Object.defineProperty(t,"ChartEntity",{enumerable:!0,get:function(){return Ee.ChartEntity}});var _e=r(1127);Object.defineProperty(t,"GlTexture2d",{enumerable:!0,get:function(){return _e.GlTexture2d}});var Pe=r(8783);Object.defineProperty(t,"unpackColorShader",{enumerable:!0,get:function(){return Pe.unpackColorShader}});var Oe=r(5377);Object.defineProperty(t,"mixComponentsShader",{enumerable:!0,get:function(){return Oe.mixComponentsShader}});var we=r(1850);Object.defineProperty(t,"mat3MultiplyVec2Shader",{enumerable:!0,get:function(){return we.mat3MultiplyVec2Shader}});var Se=r(6196);Object.defineProperty(t,"mat2MultiplyValueShader",{enumerable:!0,get:function(){return Se.mat2MultiplyValueShader}});var Me=r(1626);Object.defineProperty(t,"generate2LinedNormalShader",{enumerable:!0,get:function(){return Me.generate2LinedNormalShader}});var Te=r(3669);Object.defineProperty(t,"Gl1ContextAdapter",{enumerable:!0,get:function(){return Te.Gl1ContextAdapter}});var Re=r(6576);Object.defineProperty(t,"Gl2ContextAdapter",{enumerable:!0,get:function(){return Re.Gl2ContextAdapter}});var Ae=r(40);Object.defineProperty(t,"GlContextAdapter",{enumerable:!0,get:function(){return Ae.GlContextAdapter}});var xe=r(4406);Object.defineProperty(t,"GlEntityRenderer",{enumerable:!0,get:function(){return xe.GlEntityRenderer}});var Ie=r(2889);Object.defineProperty(t,"AGlBinder",{enumerable:!0,get:function(){return Ie.AGlBinder}});var je=r(9836);Object.defineProperty(t,"AGlUniformValue",{enumerable:!0,get:function(){return je.AGlUniformValue}});var Ge=r(9333);Object.defineProperty(t,"GlFloatUniform",{enumerable:!0,get:function(){return Ge.GlFloatUniform}});var De=r(4992);Object.defineProperty(t,"GlVec2Uniform",{enumerable:!0,get:function(){return De.GlVec2Uniform}});var Le=r(9253);Object.defineProperty(t,"GlVec3Uniform",{enumerable:!0,get:function(){return Le.GlVec3Uniform}});var Fe=r(7558);Object.defineProperty(t,"GlVec4Uniform",{enumerable:!0,get:function(){return Fe.GlVec4Uniform}});var Ve=r(1394);Object.defineProperty(t,"GlMat2Uniform",{enumerable:!0,get:function(){return Ve.GlMat2Uniform}});var Be=r(502);Object.defineProperty(t,"GlMat3Uniform",{enumerable:!0,get:function(){return Be.GlMat3Uniform}});var Ue=r(3066);Object.defineProperty(t,"GlMat4Uniform",{enumerable:!0,get:function(){return Ue.GlMat4Uniform}});var ke=r(8763);Object.defineProperty(t,"AGlUniformArray",{enumerable:!0,get:function(){return ke.AGlUniformArray}});var ze=r(7625);Object.defineProperty(t,"GlRenderer",{enumerable:!0,get:function(){return ze.GlRenderer}});var Ne=r(3951);Object.defineProperty(t,"GlRendererFactory",{enumerable:!0,get:function(){return Ne.GlRendererFactory}});var Ye=r(5734);Object.defineProperty(t,"GlRendererOptions",{enumerable:!0,get:function(){return Ye.GlRendererOptions}});var Xe=r(159);Object.defineProperty(t,"GlRendererSharedState",{enumerable:!0,get:function(){return Xe.GlRendererSharedState}});var He=r(3890);Object.defineProperty(t,"GlShader",{enumerable:!0,get:function(){return He.GlShader}});var qe=r(9600);Object.defineProperty(t,"CompositeGraphicsComponent",{enumerable:!0,get:function(){return qe.CompositeGraphicsComponent}});var We=r(533);Object.defineProperty(t,"CanvasNoOpGraphicsComponent",{enumerable:!0,get:function(){return We.CanvasNoOpGraphicsComponent}});var Qe=r(7446);Object.defineProperty(t,"GlNoOpGraphicsComponent",{enumerable:!0,get:function(){return Qe.GlNoOpGraphicsComponent}});var $e=r(9370);Object.defineProperty(t,"SharedEntityQuadTree",{enumerable:!0,get:function(){return $e.SharedEntityQuadTree}});var Ze=r(8407);Object.defineProperty(t,"SharedQuadTree",{enumerable:!0,get:function(){return Ze.SharedQuadTree}});var Ke=r(3111);Object.defineProperty(t,"SharedInterleavedConnector",{enumerable:!0,get:function(){return Ke.SharedInterleavedConnector}});var Je=r(9469);Object.defineProperty(t,"AInterleavedConnector",{enumerable:!0,get:function(){return Je.AInterleavedConnector}})},2601:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnEntityAddedToGroup=void 0;class a{constructor(e){this.onEntityAddedToGroup=e}static registerListener(e,t){return e.eventService.getCategory(a).addTemporaryListener(new a(t))}static registerOneTimeListener(e,t){return e.eventService.getCategory(a).addOneTimeListener(new a(t))}static emit(e,r,n){const i=e.eventService.getCategory(a).getTargets();for(let e=0,t=i.length;e<t;++e)i[e].onEntityAddedToGroup(r,n)}}(t.OnEntityAddedToGroup=a).callbackKey="onEntityAddedToGroup"},7809:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnEntityAdded=void 0;class a{constructor(e){this.onEntityAdded=e}static registerListener(e,t){return e.eventService.getCategory(a).addTemporaryListener(new a(t))}static registerOneTimeListener(e,t){return e.eventService.getCategory(a).addOneTimeListener(new a(t))}static emit(r,n){const i=r.eventService.getCategory(a).getTargets();for(let e=0,t=i.length;e<t;++e)i[e].onEntityAdded(n,r)}}(t.OnEntityAdded=a).callbackKey="onEntityAdded"},1605:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnEntityModified=void 0;class a{constructor(e){this.onEntityModified=e}static registerListener(e,t){return e.eventService.getCategory(a).addTemporaryListener(new a(t))}static registerOneTimeListener(e,t){return e.eventService.getCategory(a).addOneTimeListener(new a(t))}static emit(r,n){const i=r.eventService.getCategory(a).getTargets();for(let e=0,t=i.length;e<t;++e)i[e].onEntityModified(n,r)}}(t.OnEntityModified=a).callbackKey="onEntityModified"},2806:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnEntityRemovedFromGroup=void 0;class a{constructor(e){this.onEntityRemovedFromGroup=e}static registerListener(e,t){return e.eventService.getCategory(a).addTemporaryListener(new a(t))}static registerOneTimeListener(e,t){return e.eventService.getCategory(a).addOneTimeListener(new a(t))}static emit(e,r,n){const i=e.eventService.getCategory(a).getTargets();for(let e=0,t=i.length;e<t;++e)i[e].onEntityRemovedFromGroup(r,n)}}(t.OnEntityRemovedFromGroup=a).callbackKey="onEntityRemovedFromGroup"},6803:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnEntityRemoved=void 0;class a{constructor(e){this.onEntityRemoved=e}static registerListener(e,t){return e.eventService.getCategory(a).addTemporaryListener(new a(t))}static registerOneTimeListener(e,t){return e.eventService.getCategory(a).addOneTimeListener(new a(t))}static emit(r,n){const i=r.eventService.getCategory(a).getTargets();for(let e=0,t=i.length;e<t;++e)i[e].onEntityRemoved(n,r)}}(t.OnEntityRemoved=a).callbackKey="onEntityRemoved"},2241:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnPlotAttached=void 0;class i{constructor(e){this.onPlotAttached=e}static registerListener(e,t){return e.eventService.getCategory(i).addTemporaryListener(new i(t))}static emit(e,r){const n=e.eventService.getCategory(i).getTargets();for(let e=0,t=n.length;e<t;++e)n[e].onPlotAttached(r)}}(t.OnPlotAttached=i).callbackKey="onPlotAttached"},9048:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnPlotDetached=void 0;class i{constructor(e){this.onPlotDetached=e}static registerListener(e,t){return e.eventService.getCategory(i).addTemporaryListener(new i(t))}static registerOneTimeListener(e,t){return e.eventService.getCategory(i).addOneTimeListener(new i(t))}static emit(e,r){const n=e.eventService.getCategory(i).getTargets();for(let e=0,t=n.length;e<t;++e)n[e].onPlotDetached(r)}}(t.OnPlotDetached=i).callbackKey="onPlotDetached"},1717:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlotArea=void 0;const n=r(1030);t.PlotArea=class i{constructor(e,t){this.wholeRange=e,this.interactiveRange=t}static createOneWithMargins(e,t){return t=t.getInnerRange(e),new i(e,t)}static createDefault(){return new i(n.fullClipSpaceRange2d.slice(),n.fullClipSpaceRange2d.slice())}}},5841:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlotInteractionConnector=void 0;const i=r(7490),n=r(1225),a=r(4026),o=r(3288),s=r(9583),c=r(6225);t.PlotInteractionConnector=class{constructor(e,t={doubleClickOptions:{timeout:500,maxRadius:2},pinchZoomSensitivity:1},r=(e,t)=>new n.PlotEventHandler(e,t)){this.stateChangeCallbacks=e,this.options=t,this.createEventHandler=r,this.eventHandler=null,this.userCallbacks=null,this.targetProvider=null,this.temporaryListeners=new c.TemporaryListener}register(e,t,r,n){this.unregister();r=this.targetProvider=r();this.userCallbacks=this.stateChangeCallbacks(r);n=n(this.options,new i.PlotInteractionProviders(this.userCallbacks,r,e.attachPoint));return this.eventHandler=this.createEventHandler(n,e),this.temporaryListeners.addListener(t.getCategory(s.OnCanvasResized).addTemporaryListener(this.userCallbacks)),this.temporaryListeners.addListener(t.getCategory(s.OnCanvasResized).addTemporaryListener(this.eventHandler)),this.temporaryListeners.addListener(t.getCategory(a.OnCanvasMouseEvent).addTemporaryListener(this.eventHandler)),this.temporaryListeners.addListener(t.getCategory(o.OnCanvasPointerEvent).addTemporaryListener(this.eventHandler)),r}unregister(){this.temporaryListeners.clearingEmit(),this.eventHandler=null,this.userCallbacks=null}update(e,t){return null==this.targetProvider?c._Iterator.emptyIterator:this.targetProvider.update(e,t)}}},6554:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlotCtorArg=void 0;t.PlotCtorArg=class{constructor(e,t,r){this.chart=e,this.plotOptions=t,this.plotArea=r}}},7752:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlotDimensions=void 0;const n=r(1717);t.PlotDimensions=class i{constructor(e,t,r){this.clipSpaceArea=e,this.cssArea=t,this.pixelArea=r}static createOneOBL(e,t){return new i(e,new n.PlotArea(e.wholeRange.mat3Multiply(t.transforms.clipToCss),e.interactiveRange.mat3Multiply(t.transforms.clipToCss)),new n.PlotArea(e.wholeRange.mat3Multiply(t.transforms.clipToPixel),e.interactiveRange.mat3Multiply(t.transforms.clipToPixel)))}static createOneOTL(e,t){const r=new i(e,new n.PlotArea(e.wholeRange.mat3Multiply(t.reverseYTransforms.clipToCss),e.interactiveRange.mat3Multiply(t.reverseYTransforms.clipToCss)),new n.PlotArea(e.wholeRange.mat3Multiply(t.reverseYTransforms.clipToPixel),e.interactiveRange.mat3Multiply(t.reverseYTransforms.clipToPixel)));return r.cssArea.interactiveRange.ensureAABB(),r.cssArea.wholeRange.ensureAABB(),r.pixelArea.interactiveRange.ensureAABB(),r.pixelArea.wholeRange.ensureAABB(),r}static createDefault(){return new i(n.PlotArea.createDefault(),n.PlotArea.createDefault(),n.PlotArea.createDefault())}}},7529:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plot=void 0;const i=r(6225),n=r(7752),a=r(9693),o=r(6803),s=r(7809),c=r(2601),l=r(2806);t.Plot=class{constructor(e){var t;this.eventService=new a.EventService,this.onCanvasResized=()=>{this.setPlotArea(this.plotDimensionsOBL.clipSpaceArea)},this.interactionHandler=null,this.entities=new Set,this.entitiesByGroup=new Map,this.groupsByEntities=new Map,this.changeIdFactory=e.chart.changeIdFactory,this.plotRange=e.plotOptions.plotRange,this.plotName=null!==(t=e.plotOptions.plotName)&&void 0!==t?t:null,this.chartEventService=e.chart.eventService,this.attachPoint=e.chart.attachPoint,this.plotDimensionsOTL=n.PlotDimensions.createOneOTL(e.plotArea,this.attachPoint.canvasDims),this.plotDimensionsOBL=n.PlotDimensions.createOneOBL(e.plotArea,this.attachPoint.canvasDims),this.updateStrategy=e.plotOptions.createUpdateStrategy(this,e.plotOptions.updateGroup)}static getChartEventService(e){return e.chartEventService}getInteractionHandler(){return this.interactionHandler}setInteractionHandler(e,t,r){return this.clearInteractionHandler(),this.interactionHandler=e,this.interactionHandler.register(this,this.chartEventService,t,r)}clearInteractionHandler(){null!=this.interactionHandler&&(this.interactionHandler.unregister(this.chartEventService),this.interactionHandler=null)}setPlotArea(e){this.plotDimensionsOTL=n.PlotDimensions.createOneOTL(e,this.attachPoint.canvasDims),this.plotDimensionsOBL=n.PlotDimensions.createOneOBL(e,this.attachPoint.canvasDims)}addEntity(e){this.entities.has(e)||(-1===e.changeId&&(e.changeId=this.changeIdFactory.getNextId()),this.entities.add(e),s.OnEntityAdded.emit(this,e))}removeEntity(r){if(this.entities.delete(r)){const e=this.groupsByEntities.get(r);null!=e&&e.forEach(e=>{const t=this.entitiesByGroup.get(e);null!=t&&(t.delete(r),e.onEntityRemoved(r),l.OnEntityRemovedFromGroup.emit(this,r,e))}),o.OnEntityRemoved.emit(this,r)}}addToGroup(e,t,r){var n=i.DirtyCheckedUniqueCollection.mapInitializeAdd(this.entitiesByGroup,t,e);return i._Map.addToSet(this.groupsByEntities,e,t),n&&(t.onEntityAdded(e,r),c.OnEntityAddedToGroup.emit(this,e,t)),n}removeFromGroup(e,t){i._Map.deleteFromSet(this.groupsByEntities,e,t);var r=i._Map.deleteFromSet(this.entitiesByGroup,t,e);return r&&(t.onEntityRemoved(e),l.OnEntityRemovedFromGroup.emit(this,e,t)),r}getEntitiesInGroup(e){const t=this.entitiesByGroup.get(e);return null==t?i._Array.emptyArray:t.getArray()}}},451:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasContextAdapter=void 0;const n=r(5554);t.CanvasContextAdapter=class{constructor(e,t=new n.ContextChangeHooks){this.canvasElement=e,this.graphContextChangeHooks=t,this.context=null}onResize(){}getContext(){return null!=this.context?this.context:this.context=this.canvasElement.getContext("2d")}}},6748:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasEntityRendererProvider=void 0;t.CanvasEntityRendererProvider=class{constructor(e){this.context=e}getRenderer(){return this.context}initializeRenderer(){return this.context}reinitializeRenderers(){}}},18:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasEntityRenderer=void 0;t.CanvasEntityRenderer=class{constructor(e,t){this.context=e,this.sharedState=t,this.specification={}}onAfterInitialization(){}onBeforeInitialization(){}onAfterDraw(){}onBeforeDraw(){}}},1893:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasRendererFactory=void 0;t.CanvasRendererFactory=class{constructor(e){this.entityRenderer=e}createRenderer(){return this.entityRenderer}}},7462:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasRendererSharedState=void 0;t.CanvasRendererSharedState=class{constructor(e){this.context=e,this.frameCounter=0,this.scissorRange=null}onNewFrame(){++this.frameCounter}updateScissorRange(e){null==(this.scissorRange=e)?this.context.restore():(this.context.save(),this.context.beginPath(),this.context.rect(0|e.getXMin(),0|e.getYMin(),0|e.getXRange(),0|e.getYRange()),this.context.closePath(),this.context.clip())}setContext(e){this.context=e}}},9513:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasRenderer=void 0;const n=r(18),i=r(6225),a=r(6748),o=r(1893),s=r(9600),c=r(7462);t.CanvasRenderer=class l{constructor(e,t){this.graphicsComponents=new Map,this.callbacks={onBeforePlotDraw(e,t){const r=t.pixelArea.wholeRange;e.clearRect(0|r.getXMin(),0|r.getYMin(),0|r.getXRange(),0|r.getYRange())},onAfterPlotDraw(){}},null!=t&&i._Dictionary.extend(this.callbacks,t),this.context=e,this.sharedState=new c.CanvasRendererSharedState(e);var{entityRendererFactory:t,entityRendererProvider:e}=this.getFactories(e);this.entityRendererProvider=e,this.entityRendererFactory=t}static createOne(e,t){return null==e?null:new l(e,t)}onBeforePlotDraw(e,t){this.sharedState.onNewFrame(),this.callbacks.onBeforePlotDraw(this.context,e.plotDimensionsOTL,t)}onAfterPlotDraw(){this.callbacks.onAfterPlotDraw(this.context)}onContextRegained(e){var{entityRendererFactory:t,entityRendererProvider:r}=this.getFactories(e);this.sharedState.setContext(e),this.entityRendererProvider=r,this.entityRendererFactory=t}createCompositeGraphicsComponent(e){return new s.CompositeGraphicsComponent({},e)}getFactories(e){return e=new n.CanvasEntityRenderer(e,this.sharedState),{entityRendererProvider:new a.CanvasEntityRendererProvider(e),entityRendererFactory:new o.CanvasRendererFactory(e)}}}},5554:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextChangeHooks=void 0;t.ContextChangeHooks=class{registerCallbacks(e,t){this.contextLost=e,this.contextRestored=t}onContextLost(){null!=this.contextLost&&this.contextLost()}onContextRestored(){null!=this.contextRestored&&this.contextRestored()}}},8017:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DummyEntityRenderer=void 0;t.DummyEntityRenderer=class{constructor(e){this.sharedState=e}onAfterDraw(){}onAfterInitialization(){}onBeforeDraw(){}onBeforeInitialization(){}}},3261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AGlAttribute=void 0;r(6225);t.AGlAttribute=class{constructor(e,t,r,n=0,i=0,a=!1){this.name=e,this.buffer=t,this.componentsPerVertex=r,this.byteOffset=n,this.byteStride=i,this.normalized=a,this.attributeLocation=null,this.type=null,this.isOffsetDirty=!0,this.divisor=null}static extractBuffer(e){return e.buffer}static setBuffer(e,t){e.buffer=t}initialize(e){e.addAttribute(this),this.buffer.initialize(e),this.attributeLocation=e.getAttributeLocation(this.name),this.type=this.getGlType(e.context),e.isVaoActive()&&e.context.enableVertexAttribArray(this.attributeLocation)}setData(e,t){this.buffer.setData(e,t)}overrideValues(e,t,r,n,i){this.buffer.overrideValues(e.context,t,r,n,i)}setOffset(e){this.byteOffset!==e&&(this.isOffsetDirty=!0,this.byteOffset=e)}bind(e,t=e.context.DYNAMIC_DRAW){null!=this.attributeLocation&&null!=this.type&&(e.isVaoActive()?((this.buffer.isDirty||this.isOffsetDirty)&&this.buffer.bindBuffer(e.context,t),this.isOffsetDirty&&this.setAttributePtr(e.context,this.attributeLocation,this.type)):(this.buffer.bindBuffer(e.context,t),this.setAttributePtr(e.context,this.attributeLocation,this.type)),this.isOffsetDirty=!1)}bindInstanced(e,t,r){if(null!=this.attributeLocation){if(this.bind(e,r),e.isVaoActive()){if(this.divisor===t)return;this.divisor=t}e.isGl2?e.context.vertexAttribDivisor(this.attributeLocation,t):e.extensions.ANGLE_instanced_arrays.vertexAttribDivisorANGLE(this.attributeLocation,t)}}reset(e){e.isVaoActive()||null!=this.attributeLocation&&(e.isGl2?e.context.vertexAttribDivisor(this.attributeLocation,0):null!=e.extensions.ANGLE_instanced_arrays&&e.extensions.ANGLE_instanced_arrays.vertexAttribDivisorANGLE(this.attributeLocation,0),e.context.disableVertexAttribArray(this.attributeLocation))}setAttributePtr(e,t,r){e.vertexAttribPointer(t,this.componentsPerVertex,r,this.normalized,this.byteStride,this.byteOffset)}}},3312:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlBuffer=void 0;r(6225);t.GlBuffer=class{constructor(e){this.data=e,this.isDirty=!0,this.buffer=null,this.changeId=-1,this.mutatorId=-1,this.updateId=-1}initialize(e){null==this.buffer&&(this.buffer=e.context.createBuffer())}setData(e,t){this.changeId!==t&&(this.changeId=t,this.isDirty=!0,this.data=e)}bindBuffer(e,t){var r;e.bindBuffer(e.ARRAY_BUFFER,this.buffer),this.isDirty&&(r=this.data,e.bufferData(e.ARRAY_BUFFER,r,t),this.isDirty=!1)}overrideValues(e,t,r,n,i){if(this.mutatorId===n){if(i<this.updateId)return;this.updateId=i}else this.updateId=i;e.bufferSubData(e.ARRAY_BUFFER,t,r),this.mutatorId=n}}},836:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlFloatAttribute=void 0;class n extends r(3261).AGlAttribute{getGlType(e){return e.FLOAT}}t.GlFloatAttribute=n},2889:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AGlBinder=void 0;t.AGlBinder=class{update(e,t){this.updateData(e),this.updatePointers(e),this.bindUniforms(t),this.bindAttributes(t)}}},8635:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AGlInstancedBinder=void 0;class n extends r(2889).AGlBinder{updateInstanced(e,t,r,n){this.updateData(e),this.updatePointers(e),this.bindUniforms(t),this.bindInstanced(t,r,n)}}t.AGlInstancedBinder=n},40:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlContextAdapter=void 0;t.GlContextAdapter=class{constructor(e,t,r,n){this.canvasElement=e,this.ctxId=t,this.options=r,this.graphContextChangeHooks=n,this.context=null,this.lastCanvasDims=null,this.registerEventHandlers()}onResize(e){this.lastCanvasDims=e,null!=this.context&&this.context.viewport(0,0,e.pixelDims.getXMax(),e.pixelDims.getYMax())}getContext(){return null!=this.context?this.context:this.context=this.canvasElement.getContext(this.ctxId,this.options)}registerEventHandlers(){this.canvasElement.addEventListener("webglcontextlost",e=>{e.preventDefault(),this.context=null}),this.canvasElement.addEventListener("webglcontextrestored",e=>{e.preventDefault(),this.getContext(),null!=this.lastCanvasDims&&this.onResize(this.lastCanvasDims),this.graphContextChangeHooks.onContextRestored()})}}},3669:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Gl1ContextAdapter=void 0;const n=r(5554);class i extends r(40).GlContextAdapter{constructor(e,t,r=new n.ContextChangeHooks){super(e,"webgl",t,r)}}t.Gl1ContextAdapter=i},6576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Gl2ContextAdapter=void 0;const n=r(5554);class i extends r(40).GlContextAdapter{constructor(e,t,r=new n.ContextChangeHooks){super(e,"webgl2",t,r)}}t.Gl2ContextAdapter=i},3e3:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlEntityRendererProvider=void 0;const n=r(6225);t.GlEntityRendererProvider=class{constructor(){this.cache=new Map}getRenderer(e){return this.cache.get(e.getCacheId())}initializeRenderer(e,t){return n._Map.initializeGet(this.cache,e.getCacheId(),t)}reinitializeRenderers(r){this.cache.forEach((e,t)=>{this.cache.set(t,r.createRenderer(e.specification))})}}},4406:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlEntityRenderer=void 0;const n=r(6225);t.GlEntityRenderer=class{constructor(e,t,r,n,i){this.context=e,this.program=t,this.extensions=r,this.specification=n,this.sharedState=i,this.attributeLocations=new Map,this.attributes=[],this.isGl2=this.context instanceof WebGL2RenderingContext,this.vao=this.createVao()}onBeforeDraw(){this.useProgram(),null!=this.vao&&this.bindVao(this.vao)}onAfterDraw(){if(null==this.vao){const r=this.attributes;for(let e=0,t=r.length;e<t;++e)r[e].reset(this)}}onBeforeInitialization(){null!=this.vao&&this.bindVao(this.vao)}onAfterInitialization(){null!=this.vao&&this.unbindVao()}getAttributeLocation(e){return n._Map.initializeGet(this.attributeLocations,e,()=>this.context.getAttribLocation(this.program,e))}useProgram(){this.context.useProgram(this.program)}isVaoActive(){return null!=this.vao}drawInstancedArrays(e,t,r,n){this.isGl2?this.context.drawArraysInstanced(e,t,r,n):this.extensions.ANGLE_instanced_arrays.drawArraysInstancedANGLE(e,t,r,n)}bindVao(e){e=void 0===e?this.vao:e;this.isGl2?this.context.bindVertexArray(e):this.extensions.OES_vertex_array_object.bindVertexArrayOES(e)}unbindVao(){this.bindVao(null)}createVao(){return this.isGl2?this.context.createVertexArray():null!=this.extensions.OES_vertex_array_object?this.extensions.OES_vertex_array_object.createVertexArrayOES():null}addAttribute(e){this.attributes.push(e)}}},2934:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlProgramSpecification=void 0;const i=r(6225),c=r(3890);class a{constructor(e,t,r=[],n=[]){this.vertexShader=e,this.fragmentShader=t,this.requiredExtensions=r,this.optionalExtensions=n,null!=this.vertexShader.requiredLanguageVersion&&(this.shaderLanguageVersion=this.vertexShader.requiredLanguageVersion)}static mergeProgramSpecifications(e){var t=a.getHighestShaderVersion(e,"vertexShader"),r=a.getHighestShaderVersion(e,"fragmentShader"),n=i._Math.max(t,r),t=a.combineShadersFinal(e,"vertexShader",n,a.vertexShaderCompat),r=a.combineShadersFinal(e,"fragmentShader",n,a.fragmentShaderCompat),n=i._Array.collect(e,new Set,(t,e)=>{i._Array.forEach(e.requiredExtensions,e=>t.add(e))}),e=i._Array.collect(e,new Set,(t,e)=>{i._Array.forEach(e.optionalExtensions,e=>t.add(e))});return new a(t,r,i._Set.valuesToArray(n),i._Set.valuesToArray(e))}static getHighestShaderVersion(r,n){let i=-1;for(let e=0,t=r.length;e<t;++e){var a=r[e][n];null!=a.requiredLanguageVersion&&a.requiredLanguageVersion>i&&(i=a.requiredLanguageVersion)}return i}static combineShadersFinal(r,n,i,e){const a=new Array(r.length+3);let o=3;for(let e=0,t=r.length;e<t;++e){var s=r[e][n];a[o++]=s.source,null!=s.requiredLanguageVersion&&s.requiredLanguageVersion>i&&(i=s.requiredLanguageVersion)}return a[0]=-1===i?"":`#version ${i} es`,a[2]=e,new c.GlShader(a.join("\n"),-1===i?void 0:i)}}t.GlProgramSpecification=a,a.vertexShaderCompat=`
#if __VERSION__ >=300 && __VERSION__ < 400
#define ATTRIBUTE in
#define VARYING out
#else
#define ATTRIBUTE attribute
#define VARYING varying
#endif`,a.fragmentShaderCompat=`
#if __VERSION__ >=300 && __VERSION__ < 400
out highp vec4 fragColor;
#endif

#if __VERSION__ >=300 && __VERSION__ < 400
#define VARYING in
#define TEXTURE2D texture
#else
#define VARYING varying
#define TEXTURE2D texture2D
#endif

void setFragmentColor(in lowp vec4 color)
{
    #if __VERSION__ >=300 && __VERSION__ < 400
    fragColor = color;
    #else
    gl_FragColor = color;
    #endif
}`},3951:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlRendererFactory=void 0;const o=r(4406),s=r(6225),n=r(5139),c=r(611);class l{constructor(e,t,r,n){this.context=e,this.isGl2=t,this.localizations=r,this.sharedState=n}static createOne(r,n,e=c.developerErrorLocalization,t){if(null==r)return null;var i=r instanceof WebGL2RenderingContext;for(let e=0,t=n.length;e<t;++e){var a=n[e];if(!(null!=r.getExtension(a)||i&&l.gl2StandardExtensions.has(a)))return null}return new l(r,i,e,t)}createRenderer(r){var e=this.compileProgram(r.vertexShader.source,r.fragmentShader.source);const n={};for(let e=0,t=r.requiredExtensions.length;e<t;++e){var i=r.requiredExtensions[e],a=this.context.getExtension(i);if(null==a){if(this.isGl2&&l.gl2StandardExtensions.has(i))continue;s._Production.error(`extension "${i}" is required but not available`)}n[i]=a}return s._Array.forEach(r.optionalExtensions,e=>{var t=this.context.getExtension(e);null!=t&&(n[e]=t)}),new o.GlEntityRenderer(this.context,e,n,r,this.sharedState)}compileProgram(e,t){var r=this.compileShader(this.context.VERTEX_SHADER,e),e=this.compileShader(this.context.FRAGMENT_SHADER,t),t=this.context.createProgram();if(null==t&&s._Production.error("failed to create program"),this.context.attachShader(t,r),this.context.attachShader(t,e),this.context.linkProgram(t),this.context.getProgramParameter(t,this.context.LINK_STATUS))return t;e=this.context.getProgramInfoLog(t);throw this.context.deleteProgram(t),new n.GlCompileError(this.localizations.glCompileError,e,this.localizations.getTx)}setContext(e){this.context=e}compileShader(e,t){const r=this.context.createShader(e);if(null==r&&s._Production.error(`failed to create shader of type ${e}`),this.context.shaderSource(r,t),this.context.compileShader(r),this.context.getShaderParameter(r,this.context.COMPILE_STATUS))return r;t=this.context.getShaderInfoLog(r);throw this.context.deleteShader(r),new n.GlCompileError(this.localizations.glCompileError,t,this.localizations.getTx)}}t.GlRendererFactory=l,l.gl2StandardExtensions=new Set(["ANGLE_instanced_arrays","OES_vertex_array_object","WEBGL_depth_texture","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_standard_derivatives","OES_element_index_uint","EXT_frag_depth","EXT_blend_minmax","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_sRGB"])},5734:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlRendererOptions=void 0;const n=r(6225);t.GlRendererOptions=class{constructor(e,t,r){this.onCreate={featuresToEnable:null!=r?r:["CULL_FACE","DEPTH_TEST","SCISSOR_TEST"],requiredExtensionsToGet:e,contextAttributes:t},this.onNewFrame={bufferBitsToClear:["COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT"],clearWithColor:n.Vec4.f32.factory.createOne(0,0,0,0)}}}},159:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlRendererSharedState=void 0;t.GlRendererSharedState=class{constructor(e){this.context=e,this.textureIndex=0,this.frameCounter=0,this.scissorRange=null,this.maxTextureCount=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)}setContext(e){this.context=e}onNewFrame(){++this.frameCounter}clearScissor(){null!=this.scissorRange&&(this.context.disable(this.context.SCISSOR_TEST),this.updateScissorRange(null),this.scissorRange=null)}updateScissorRange(e){if(null==e)return this.clearScissor();null==this.scissorRange&&(this.context.enable(this.context.SCISSOR_TEST),this.scissorRange=e),this.context.scissor(0|e.getXMin(),0|e.getYMin(),1+e.getXRange()|0,1+e.getYRange()|0)}claimTextureUnit(){return this.textureIndex++}}},7625:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlRenderer=void 0;const a=r(6225),o=r(3e3),s=r(3951),c=r(611),n=r(9600),i=r(3424),l=r(159);t.GlRenderer=class u{constructor(e,t,r,n,i){this.graphicsComponents=new Map,this.callbacks={onBeforePlotDraw:(e,t)=>{this.sharedState.updateScissorRange(t.pixelArea.wholeRange),e.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),e.clear(this.clearBit)},onAfterPlotDraw(){}},null!=n&&a._Dictionary.extend(this.callbacks,n),this.sharedState=i,this.context=e,this.entityRendererProvider=new o.GlEntityRendererProvider,this.entityRendererFactory=r,a._Array.forEach(t.onCreate.featuresToEnable,e=>this.context.enable(this.context[e])),this.clearBit=t.onNewFrame.bufferBitsToClear.reduce((e,t)=>e|this.context[t],0),this.clearColor=t.onNewFrame.clearWithColor}static createOne(e,t,r=c.developerErrorLocalization,n){if(null==e)return null;var i=new l.GlRendererSharedState(e);return null==(r=s.GlRendererFactory.createOne(e,t.onCreate.requiredExtensionsToGet,r,i))?null:new u(e,t,r,n,i)}onBeforePlotDraw(e,t){this.sharedState.onNewFrame(),this.callbacks.onBeforePlotDraw(this.context,e.plotDimensionsOBL,t)}onAfterPlotDraw(){this.callbacks.onAfterPlotDraw(this.context)}createCompositeGraphicsComponent(e){var t=i.emptyGlProgramSpecification;return new n.CompositeGraphicsComponent(t,e)}onContextRegained(e){this.context=e,this.sharedState.setContext(e),this.entityRendererFactory.setContext(e),this.entityRendererProvider.reinitializeRenderers(this.entityRendererFactory)}}},3890:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlShader=void 0;const a=r(6225);t.GlShader=class o{constructor(e,t){this.source=e,this.requiredLanguageVersion=t}static getShaderFlag(e,t){return["#define ",e,t?"true":"false","\n"].join(" ")}static getShaderInt(e,t){return["#define ",e,t,"\n"].join(" ")}static combineShaders(r){let n=-1;for(let e=0,t=r.length;e<t;++e){var i=r[e];null!=i.requiredLanguageVersion&&i.requiredLanguageVersion>n&&(n=i.requiredLanguageVersion)}var e=a._Array.map(r,e=>e.source).join("\n");return new o(e,-1===n?void 0:n)}}},6952:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dummyGlProgramSpecification=void 0;const n=r(2934);r=r(6428);t.dummyGlProgramSpecification=new n.GlProgramSpecification(r.dummyShader,r.dummyShader)},6428:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dummyShader=void 0;const n=r(3890);t.dummyShader=new n.GlShader(`
void main()
{
}
`)},3424:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emptyGlProgramSpecification=void 0;const n=r(2934);r=r(1224);t.emptyGlProgramSpecification=new n.GlProgramSpecification(r.emptyShader,r.emptyShader)},1224:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emptyShader=void 0;const n=r(3890);t.emptyShader=new n.GlShader("")},1626:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generate2LinedNormalShader=void 0;const n=r(3890);t.generate2LinedNormalShader=new n.GlShader(`
#ifndef NORMAL_2D_GENERATOR

#define NORMAL_2D_GENERATOR 1
/* === normal generator === */
vec2 generate2dLineNormal(in vec2 a, in vec2 b, in vec2 fallback)
{
    vec2 difference = b - a;
    vec2 absoluteDifference = abs(difference);
    float isNonZero = sign(absoluteDifference.x + absoluteDifference.y);
    difference = mix(fallback, difference, isNonZero);

    return normalize(vec2(difference.y, -difference.x));
}

#endif
`)},6196:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mat2MultiplyValueShader=void 0;const n=r(3890);t.mat2MultiplyValueShader=new n.GlShader(`
#ifndef GET_MAT2_MULTIPLY_VALUE

#define GET_MAT2_MULTIPLY_VALUE 1

float mat2MultiplyValue(mat2 transform, float value)
{
    return (transform * vec2(value, 1)).x;
}

#endif
`)},1850:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mat3MultiplyVec2Shader=void 0;const n=r(3890);t.mat3MultiplyVec2Shader=new n.GlShader(`
#ifndef GET_MAT3_MULTIPLY_VEC2

#define GET_MAT3_MULTIPLY_VEC2 1

vec2 mat3MultiplyVec2(mat3 transform, vec2 coords)
{
    return (transform * vec3(coords, 1)).xy;
}

#endif
`)},5377:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mixComponentsShader=void 0;const n=r(3890);t.mixComponentsShader=new n.GlShader(`
#ifndef MIX_COMPONENTS

#define MIX_COMPONENTS 1

vec2 mixComponents(vec2 a, vec2 b, vec2 factor)
{
    return vec2(
    mix(a.x, b.x, factor.x),
    mix(a.y, b.y, factor.y)
    );
}

#endif
`)},8783:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackColorShader=void 0;var n=r(6225);const i=r(3890);t.unpackColorShader=new i.GlShader(`
#ifndef FLOAT_COLOR_PACKER

#define FLOAT_COLOR_PACKER 1

/* === color unpacker (float) === */
const highp int ERgbaShift_R = ${n.ERgbaShift.R};
const highp int ERgbaShift_G = ${n.ERgbaShift.G};
const highp int ERgbaShift_B = ${n.ERgbaShift.B};

const highp int ERgbaMasks_R = 0xFF << ERgbaShift_R;
const highp int ERgbaMasks_G = 0xFF << ERgbaShift_G;
const highp int ERgbaMasks_B = 0xFF << ERgbaShift_B;

mediump vec4 unpackColor(highp float packedColor)
{
    highp int tmp = int(packedColor);
    const highp float sf = 1./255.;

    return vec4(
        float(((tmp & ERgbaMasks_R) >> ERgbaShift_R) & 0xFF) * sf,
        float(((tmp & ERgbaMasks_G) >> ERgbaShift_G) & 0xFF) * sf,
        float(((tmp & ERgbaMasks_B) >> ERgbaShift_B) & 0xFF) * sf,
        1.
    );
}

#endif
`,300)},1127:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlTexture2d=void 0;const n=r(6225);t.GlTexture2d=class{constructor(e,t){this.name=e,this.data=t,this.uniformLocation=null,this.texture=null,this.isDirty=!0,this.textureUnit=null}initialize(e){this.textureUnit=e.sharedState.claimTextureUnit();const t=e.context;t.activeTexture(t.TEXTURE0+this.textureUnit),this.uniformLocation=t.getUniformLocation(e.program,this.name),this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}updateData(e){this.data=e,this.isDirty=!0}bind(e){if(null!=this.data&&null!=this.textureUnit||n._Production.error("expected data to be initialized"),this.isDirty){const t=e.context;t.activeTexture(t.TEXTURE0+this.textureUnit),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.data),this.isDirty=!1}}}},8763:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AGlUniformArray=void 0;t.AGlUniformArray=class{constructor(e,t,r=!1){this.name=e,this.data=t,this.transpose=r,this.uniformLocation=null}initialize(e){this.uniformLocation=e.context.getUniformLocation(e.program,this.name)}setData(e){this.data=e}}},9836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AGlUniformValue=void 0;t.AGlUniformValue=class{constructor(e,t){this.name=e,this.data=t,this.uniformLocation=null}initialize(e){this.uniformLocation=e.context.getUniformLocation(e.program,this.name)}setData(e){this.data=e}}},9333:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlFloatUniform=void 0;var n=r(9836);r(6225);class i extends n.AGlUniformValue{bind(e){e.context.uniform1f(this.uniformLocation,this.data)}}t.GlFloatUniform=i},1394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlMat2Uniform=void 0;var n=r(8763);r(6225);class i extends n.AGlUniformArray{bind(e){var t=this.data;e.context.uniformMatrix2fv(this.uniformLocation,this.transpose,t)}}t.GlMat2Uniform=i},502:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlMat3Uniform=void 0;var n=r(8763);r(6225);class i extends n.AGlUniformArray{bind(e){var t=this.data;e.context.uniformMatrix3fv(this.uniformLocation,this.transpose,t)}}t.GlMat3Uniform=i},3066:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlMat4Uniform=void 0;var n=r(8763);r(6225);class i extends n.AGlUniformArray{bind(e){var t=this.data;e.context.uniformMatrix4fv(this.uniformLocation,this.transpose,t)}}t.GlMat4Uniform=i},4992:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlVec2Uniform=void 0;var n=r(8763);r(6225);class i extends n.AGlUniformArray{bind(e){var t=this.data;e.context.uniform2fv(this.uniformLocation,t)}}t.GlVec2Uniform=i},9253:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlVec3Uniform=void 0;var n=r(8763);r(6225);class i extends n.AGlUniformArray{bind(e){var t=this.data;e.context.uniform3fv(this.uniformLocation,t)}}t.GlVec3Uniform=i},7558:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlVec4Uniform=void 0;var n=r(8763);r(6225);class i extends n.AGlUniformArray{bind(e){var t=this.data;e.context.uniform4fv(this.uniformLocation,t)}}t.GlVec4Uniform=i},7917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphicsSubComponents=void 0;t.GraphicsSubComponents=class{constructor(e){this.graphicsComponents=e,this.entityRenderers=[]}getSubComponents(){return this.graphicsComponents}setEntityRenderers(e){this.entityRenderers=e}}},6447:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpriteLookup=void 0;t.SpriteLookup=class{static createOne(e){return new Float32Array(4*e)}static toTypedArray(e){return e}static setSpriteAtIndex(e,t,r,n,i,a){e[t*=4]=r,e[t+1]=n,e[t+2]=i,e[t+3]=a}static getXAtIndex(e,t){return e[4*t]}static getYAtIndex(e,t){return e[4*t+1]}static getWidthAtIndex(e,t){return e[4*t+2]}static getHeightAtIndex(e,t){return e[4*t+3]}}},5281:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpriteProvider=void 0;class r{constructor(e){this.canvasElement=e.addHiddenElement("axis-labels","canvas"),this.context=this.initializeContext()}upscaleCanvas(e,t){t>this.canvasElement.height&&(t=r.nearestPowerOf2(t),this.canvasElement.height=t),e>this.canvasElement.width&&(e=r.nearestPowerOf2(e),this.canvasElement.width=e)}getCanvas(){return this.canvasElement}getContext(){return this.context}initializeContext(){var e=this.canvasElement.getContext("2d");if(null==e)throw new Error("failed to initialize axis canvas");return e}static nearestPowerOf2(e){return 1<<32-Math.clz32(e)}}t.SpriteProvider=r},3460:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasDimensions=void 0;const n=r(6225),i=r(1030),a=r(1538),o=r(7905),s=r(8245);t.CanvasDimensions=class c{constructor(e,t,r,n){this.dpr=e,this.cssDims=t,this.pixelDims=r,this.boundingRect=n,this.transforms=new s.CanvasTransforms(i.fullClipSpaceRange2d.getRangeTransform(r),i.fullClipSpaceRange2d.getRangeTransform(t),r.getRangeTransform(i.fullClipSpaceRange2d),t.getRangeTransform(i.fullClipSpaceRange2d)),this.reverseYTransforms=new s.CanvasTransforms(o.reverseYFullClipSpaceRange2d.getRangeTransform(r),o.reverseYFullClipSpaceRange2d.getRangeTransform(t),r.getRangeTransform(o.reverseYFullClipSpaceRange2d),t.getRangeTransform(o.reverseYFullClipSpaceRange2d)),this.pixelToClipSize=r.getRangeTransform(a.fullClipSpaceSize2d)}static createDefault(){return new c(1,n.Range2d.f32.factory.createOne(0,300,0,300),n.Range2d.f32.factory.createOne(0,300,0,300),n.Range2d.f32.factory.createOne(0,300,0,300))}clone(){return new c(this.dpr,this.pixelDims,this.pixelDims,this.boundingRect)}}},8245:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasTransforms=void 0;t.CanvasTransforms=class{constructor(e,t,r,n){this.clipToPixel=e,this.clipToCss=t,this.pixelToClip=r,this.cssToClip=n}}},1780:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphAttachPointProvider=void 0;t.GraphAttachPointProvider=class{constructor(e,t=r){(this.attachPointElement=e).innerHTML=t}getCanvasElement(){return this.attachPointElement.getElementsByClassName("ecs-canvas")[0]}getWrapperElement(){return this.attachPointElement.getElementsByClassName("ecs-chart")[0]}getHiddenElement(){return this.attachPointElement.getElementsByClassName("ecs-hidden-element")[0]}};const r=`
<div class="ecs-chart">
    <canvas class="ecs-canvas"></canvas>
    <div class="ecs-hidden-element"></div>
</div>
`},5018:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphAttachPoint=void 0;const i=r(6225),n=r(7287),a=r(4767),o=r(3460),s=r(3288),c=r(4026),l=r(9555);class u extends i.AOnDestroy{constructor(e,t,r,n=window){super(),this.chartEventService=t,this.chartConfig=r,this.$window=n,this.canvasDims=o.CanvasDimensions.createDefault(),this.hiddenElements={},this.chartWrapper=e.getWrapperElement(),this.hiddenElement=e.getHiddenElement(),this.canvasElement=e.getCanvasElement(),this.registerEventHandlers()}resizeCanvas(){var e=0|this.canvasElement.clientWidth,t=0|this.canvasElement.clientHeight;if(this.canvasDims.cssDims.getXMax()===e&&this.canvasDims.cssDims.getYMax()===t)return this.canvasDims;var r=this.$window.devicePixelRatio,n=this.canvasElement.getBoundingClientRect();return this.canvasDims=new o.CanvasDimensions(r,i.Range2d.f32.factory.createOne(0,0|e,0,0|t),i.Range2d.f32.factory.createOne(0,e*r|0,0,t*r|0),i.Range2d.f32.factory.createOne(n.left,n.right,n.top,n.bottom)),this.canvasElement.width=this.canvasDims.pixelDims.getXRange(),this.canvasElement.height=this.canvasDims.pixelDims.getYRange(),this.canvasDims}addHiddenElement(e,t){var r=this.hiddenElements[e];if(null!=r)return r;{const n=this.hiddenElements[e]=this.$window.document.createElement(t);return n.classList.add(e),this.hiddenElement.appendChild(n),n}}removeHiddenElement(e){e=this.hiddenElement.getElementsByClassName(e)[0];null!=e&&this.hiddenElement.removeChild(e)}registerEventHandlers(){this.chartConfig.interactionOptions.disableAllInteraction||(this.onDestroyListener.initializeListener(()=>{const t={once:!0,passive:!0};let r=matchMedia(`(resolution: ${this.$window.devicePixelRatio}dppx)`);const n=()=>{var e=this.$window.devicePixelRatio;r=matchMedia(`(resolution: ${e}dppx)`),r.addEventListener("change",n,t),l.OnDprChanged.emit(this.chartEventService,e)};return r.addEventListener("change",n,t),()=>r.removeEventListener("change",n)}),this.chartConfig.interactionOptions.scrollZooms&&this.onDestroyListener.initializeListener(()=>{const e=e=>{e.stopPropagation(),e.preventDefault(),c.OnCanvasMouseEvent.emit(this.chartEventService,n.EMouseEventType.Wheel,e)};return this.chartConfig.changeDetectionConfig.runOutsideOfChangeDetection(()=>{this.canvasElement.addEventListener("wheel",e,{passive:!1})}),()=>this.canvasElement.removeEventListener("wheel",e)}),this.chartConfig.interactionOptions.disableLongPressContext&&this.onDestroyListener.initializeListener(()=>{const e=e=>{e.stopPropagation(),e.preventDefault()};return this.chartConfig.changeDetectionConfig.runOutsideOfChangeDetection(()=>{this.canvasElement.addEventListener("contextmenu",e,{passive:!1})}),()=>this.canvasElement.removeEventListener("contextmenu",e)}),this.onDestroyListener.initializeListener(()=>{const e=e=>s.OnCanvasPointerEvent.emit(this.chartEventService,a.EPointerEventType.Out,e);return this.chartConfig.changeDetectionConfig.runOutsideOfChangeDetection(()=>{this.canvasElement.addEventListener("pointerout",e,{passive:!0})}),()=>this.canvasElement.removeEventListener("pointerout",e)}),this.onDestroyListener.initializeListener(()=>{const e=e=>s.OnCanvasPointerEvent.emit(this.chartEventService,a.EPointerEventType.Down,e);return this.chartConfig.changeDetectionConfig.runOutsideOfChangeDetection(()=>{this.canvasElement.addEventListener("pointerdown",e,{passive:!0})}),()=>this.canvasElement.removeEventListener("pointerdown",e)}),this.onDestroyListener.initializeListener(()=>{const e=e=>s.OnCanvasPointerEvent.emit(this.chartEventService,a.EPointerEventType.Up,e);return this.chartConfig.changeDetectionConfig.runOutsideOfChangeDetection(()=>{this.canvasElement.addEventListener("pointerup",e,{passive:!0})}),()=>this.canvasElement.removeEventListener("pointerup",e)}),this.onDestroyListener.initializeListener(()=>{const e=e=>s.OnCanvasPointerEvent.emit(this.chartEventService,a.EPointerEventType.Move,e);return this.chartConfig.changeDetectionConfig.runOutsideOfChangeDetection(()=>{this.canvasElement.addEventListener("pointermove",e,{passive:!0})}),()=>this.canvasElement.removeEventListener("pointermove",e)}))}}t.GraphAttachPoint=u},1030:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullClipSpaceRange2d=void 0;const n=r(6225);t.fullClipSpaceRange2d=n.Range2d.f32.factory.createOne(-1,1,-1,1)},1538:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullClipSpaceSize2d=void 0;const n=r(6225);t.fullClipSpaceSize2d=n.Range2d.f32.factory.createOne(0,2,0,2)},7905:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reverseYFullClipSpaceRange2d=void 0;const n=r(6225);t.reverseYFullClipSpaceRange2d=n.Range2d.f32.factory.createOne(-1,1,1,-1)},7018:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EEntityUpdateFlag=void 0,(t=t.EEntityUpdateFlag||(t.EEntityUpdateFlag={}))[t.NoUpdateRequired=0]="NoUpdateRequired",t[t.DrawRequired=1]="DrawRequired",t[t.InteractionHandlerUpdateRequired=2]="InteractionHandlerUpdateRequired",t[t.UpdateAllRequired=3]="UpdateAllRequired"},1197:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntityUpdateGrouping=void 0;t.EntityUpdateGrouping=class{constructor(e,t){this.graphicsComponent=e,this.entityRenderer=t}}},1004:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameProvider=void 0;const i=r(4092);t.FrameProvider=class{constructor(e,t,r,n=window){this.drawCallback=e,this.updateInteractionHandlersCallback=t,this.$window=n,this.onRafCallback=()=>{const e=this.drawCallback,t=this.interactionHandlersToUpdate,r=this.interactionStateUpdater;for(const n of this.plotsToUpdate)e(n),t.has(n)&&r.addPlotToUpdateQueue(n);this.nextFrame=null,this.interactionStateUpdater.updateInteractionHandlers(),this.plotsToUpdate.clear(),this.interactionHandlersToUpdate.clear()},this.plotsToUpdate=new Set,this.interactionHandlersToUpdate=new Set,this.nextFrame=null,this.interactionStateUpdater=new i.InteractionHandlerUpdater(this.updateInteractionHandlersCallback,r)}updateOnNextFrame(e,t){this.plotsToUpdate.add(e),t&&this.interactionHandlersToUpdate.add(e),null==this.nextFrame&&(this.nextFrame=this.$window.requestAnimationFrame(this.onRafCallback))}cancelNextFrame(){null!=this.nextFrame&&(this.$window.cancelAnimationFrame(this.nextFrame),this.nextFrame=null,this.plotsToUpdate.clear(),this.interactionHandlersToUpdate.clear(),this.interactionStateUpdater.cancelAll())}}},4092:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionHandlerUpdater=void 0;const n=r(6225);t.InteractionHandlerUpdater=class{constructor(e,t){this.updateInteractionHandlersCallback=e,this.rollupTime=t,this.updateInteractionHandlersImpl=n._Fp.debounce(this.rollupTime,!1,()=>{this.incrementalUpdater.isUpdating?this.incrementalUpdater.resume():this.incrementalUpdater.beginUpdate()}),this.incrementalUpdater=new n.IncrementalUpdater(this),this.plotsToUpdate=new Set,this.nextPlotsToUpdate=new Set}addPlotToUpdateQueue(e){this.incrementalUpdater.isUpdating?(this.plotsToUpdate.delete(e),this.nextPlotsToUpdate.add(e)):this.plotsToUpdate.add(e)}updateInteractionHandlers(){this.incrementalUpdater.isUpdating&&this.incrementalUpdater.suspend(),this.updateInteractionHandlersImpl()}cancelAll(){this.plotsToUpdate.clear(),this.nextPlotsToUpdate.clear(),this.incrementalUpdater.cancel()}*incrementallyUpdate(){for(var e;;){for(const t of this.plotsToUpdate){const r=this.updateInteractionHandlersCallback(t);for(;(null===(e=r.next().done)||void 0===e||!e)&&(yield,this.plotsToUpdate.has(t)););}if(0===this.nextPlotsToUpdate.size)break;this.swap()}this.plotsToUpdate.clear()}swap(){var e=this.plotsToUpdate;this.plotsToUpdate=this.nextPlotsToUpdate,this.nextPlotsToUpdate=e,this.nextPlotsToUpdate.clear()}}},2739:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderList=void 0;const n=r(6225);t.RenderList=class{constructor(e){this.updateGroupHooks=e,this.groupings=[],this.entitiesInGroup=[],this.currentGrouping=null,this.uniqueEntitiesSet=new Set}addGrouping(e){this.currentGrouping=[e,[]],this.groupings.push(this.currentGrouping)}addEntity(e){this.currentGrouping[1].push(e),this.uniqueEntitiesSet.add(e)}build(){this.entitiesInGroup=n._Set.valuesToArray(this.uniqueEntitiesSet),this.uniqueEntitiesSet.clear()}}},1271:e=>{var k,t=(k="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(a){var r,o;(a=void 0!==(a=a||{})?a:{}).ready=new Promise(function(e,t){r=e,o=t});var e,t={};for(e in a)a.hasOwnProperty(e)&&(t[e]=a[e]);var n,s=!0,c=!1,i="";(s||c)&&(c?i=self.location.href:"undefined"!=typeof document&&document.currentScript&&(i=document.currentScript.src),i=0!==(i=k?k:i).indexOf("blob:")?i.substr(0,i.replace(/[?#].*/,"").lastIndexOf("/")+1):"",c&&(n=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));a.print||console.log.bind(console);var l=a.printErr||console.warn.bind(console);for(e in t)t.hasOwnProperty(e)&&(a[e]=t[e]);t=null,a.arguments&&a.arguments,a.thisProgram&&a.thisProgram,a.quit&&a.quit;var u;a.wasmBinary&&(u=a.wasmBinary);a.noExitRuntime;"object"!=typeof WebAssembly&&A("no native wasm support detected");var d=!1;var h="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function p(e,t){return e?function(e,t,r){for(var n=t+r,i=t;e[i]&&!(n<=i);)++i;if(16<i-t&&e.subarray&&h)return h.decode(e.subarray(t,i));for(var a="";t<i;){var o,s,c=e[t++];128&c?(o=63&e[t++],192!=(224&c)?(s=63&e[t++],(c=224==(240&c)?(15&c)<<12|o<<6|s:(7&c)<<18|o<<12|s<<6|63&e[t++])<65536?a+=String.fromCharCode(c):(s=c-65536,a+=String.fromCharCode(55296|s>>10,56320|1023&s))):a+=String.fromCharCode((31&c)<<6|o)):a+=String.fromCharCode(c)}return a}(y,e,t):""}var g,f,y,v;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");function m(e){g=e,a.HEAP8=f=new Int8Array(e),a.HEAP16=new Int16Array(e),a.HEAP32=v=new Int32Array(e),a.HEAPU8=y=new Uint8Array(e),a.HEAPU16=new Uint16Array(e),a.HEAPU32=new Uint32Array(e),a.HEAPF32=new Float32Array(e),a.HEAPF64=new Float64Array(e)}var b,C=a.INITIAL_MEMORY||8388608,E=a.wasmMemory||new WebAssembly.Memory({initial:C/65536,maximum:32768}),C=(g=E?E.buffer:g).byteLength;m(g);var _=[],P=[],O=[];function w(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)e=a.preRun.shift(),_.unshift(e);var e;D(_)}function S(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)e=a.postRun.shift(),O.unshift(e);var e;D(O)}var M=0,T=null,R=null;function A(e){a.onAbort&&a.onAbort(e),l(e="Aborted("+e+")"),d=!0,e+=". Build with -s ASSERTIONS=1 for more info.";e=new WebAssembly.RuntimeError(e);throw o(e),e}a.preloadedImages={},a.preloadedAudios={};var x,I;function j(e){return e.startsWith("data:application/octet-stream;base64,")}function G(e){try{if(e==x&&u)return new Uint8Array(u);if(n)return n(e);throw"both async and sync fetching of the wasm failed"}catch(e){A(e)}}j(x="sandbox-module.wasm")||(I=x,x=a.locateFile?a.locateFile(I,i):i+I);function D(e){for(;0<e.length;){var t,r=e.shift();"function"!=typeof r?"number"==typeof(t=r.func)?void 0===r.arg?b.get(t)():b.get(t)(r.arg):t(void 0===r.arg?null:r.arg):r(a)}}function L(e){this.excPtr=e,this.ptr=e-16,this.set_type=function(e){v[this.ptr+4>>2]=e},this.get_type=function(){return v[this.ptr+4>>2]},this.set_destructor=function(e){v[this.ptr+8>>2]=e},this.get_destructor=function(){return v[this.ptr+8>>2]},this.set_refcount=function(e){v[this.ptr>>2]=e},this.set_caught=function(e){f[this.ptr+12>>0]=e=e?1:0},this.get_caught=function(){return 0!=f[this.ptr+12>>0]},this.set_rethrown=function(e){f[this.ptr+13>>0]=e=e?1:0},this.get_rethrown=function(){return 0!=f[this.ptr+13>>0]},this.init=function(e,t){this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=v[this.ptr>>2];v[this.ptr>>2]=e+1},this.release_ref=function(){var e=v[this.ptr>>2];return v[this.ptr>>2]=e-1,1===e}}var F,V={Debug_error:function(e){RcJsUtilDebug.error(p(e))},Debug_log:function(e){RcJsUtilDebug.verboseLog(p(e))},Debug_onAllocate:function(){RcJsUtilDebug.onAllocate.emit()},__cxa_allocate_exception:function(e){return B(e+16)+16},__cxa_throw:function(e,t,r){throw new L(e).init(t,r),e},abort:function(){A("")},emscripten_memcpy_big:function(e,t,r){y.copyWithin(e,t,t+r)},emscripten_resize_heap:function(e){var t=y.length;if(2147483648<(e>>>=0))return!1;for(var r,n=1;n<=4;n*=2){var i=t*(1+.2/n),i=Math.min(i,e+100663296);if(function(e){try{return E.grow(e-g.byteLength+65535>>>16),m(E.buffer),1}catch(e){}}(Math.min(2147483648,(0<(r=Math.max(e,i))%(i=65536)&&(r+=i-r%i),r))))return!0}return!1},memory:E},B=(function(){var t={env:V,wasi_snapshot_preview1:V};function r(e,t){e=e.exports;a.asm=e,b=a.asm.__indirect_function_table,e=a.asm.__wasm_call_ctors,P.unshift(e),M--,a.monitorRunDependencies&&a.monitorRunDependencies(M),0==M&&(null!==T&&(clearInterval(T),T=null),R&&(e=R,R=null,e()))}function n(e){r(e.instance)}function i(e){return(u||!s&&!c||"function"!=typeof fetch?Promise.resolve().then(function(){return G(x)}):fetch(x,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+x+"'";return e.arrayBuffer()}).catch(function(){return G(x)})).then(function(e){return WebAssembly.instantiate(e,t)}).then(function(e){return e}).then(e,function(e){l("failed to asynchronously prepare wasm: "+e),A(e)})}if(M++,a.monitorRunDependencies&&a.monitorRunDependencies(M),a.instantiateWasm)try{return a.instantiateWasm(t,r)}catch(e){return l("Module.instantiateWasm callback failed with error: "+e)}(u||"function"!=typeof WebAssembly.instantiateStreaming||j(x)||"function"!=typeof fetch?i(n):fetch(x,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,t).then(n,function(e){return l("wasm streaming compile failed: "+e),l("falling back to ArrayBuffer instantiation"),i(n)})})).catch(o)}(),a.___wasm_call_ctors=function(){return(a.___wasm_call_ctors=a.asm.__wasm_call_ctors).apply(null,arguments)},a._f32Interleaved2dLineQuadIndexer_index=function(){return(a._f32Interleaved2dLineQuadIndexer_index=a.asm.f32Interleaved2dLineQuadIndexer_index).apply(null,arguments)},a._f64Interleaved2dLineQuadIndexer_index=function(){return(a._f64Interleaved2dLineQuadIndexer_index=a.asm.f64Interleaved2dLineQuadIndexer_index).apply(null,arguments)},a._f32Interleaved2dQuadIndexer_getOffsets=function(){return(a._f32Interleaved2dQuadIndexer_getOffsets=a.asm.f32Interleaved2dQuadIndexer_getOffsets).apply(null,arguments)},a._f64Interleaved2dQuadIndexer_getOffsets=function(){return(a._f64Interleaved2dQuadIndexer_getOffsets=a.asm.f64Interleaved2dQuadIndexer_getOffsets).apply(null,arguments)},a._f32InterleavedConnector_createOne=function(){return(a._f32InterleavedConnector_createOne=a.asm.f32InterleavedConnector_createOne).apply(null,arguments)},a._f32InterleavedConnector_setStart=function(){return(a._f32InterleavedConnector_setStart=a.asm.f32InterleavedConnector_setStart).apply(null,arguments)},a._f32InterleavedConnector_setLength=function(){return(a._f32InterleavedConnector_setLength=a.asm.f32InterleavedConnector_setLength).apply(null,arguments)},a._f32InterleavedConnector_delete=function(){return(a._f32InterleavedConnector_delete=a.asm.f32InterleavedConnector_delete).apply(null,arguments)},a._f64InterleavedConnector_createOne=function(){return(a._f64InterleavedConnector_createOne=a.asm.f64InterleavedConnector_createOne).apply(null,arguments)},a._f64InterleavedConnector_setStart=function(){return(a._f64InterleavedConnector_setStart=a.asm.f64InterleavedConnector_setStart).apply(null,arguments)},a._f64InterleavedConnector_setLength=function(){return(a._f64InterleavedConnector_setLength=a.asm.f64InterleavedConnector_setLength).apply(null,arguments)},a._f64InterleavedConnector_delete=function(){return(a._f64InterleavedConnector_delete=a.asm.f64InterleavedConnector_delete).apply(null,arguments)},a._f32QuadTree_createTree=function(){return(a._f32QuadTree_createTree=a.asm.f32QuadTree_createTree).apply(null,arguments)},a._f32QuadTree_setTopLevel=function(){return(a._f32QuadTree_setTopLevel=a.asm.f32QuadTree_setTopLevel).apply(null,arguments)},a._f32QuadTree_queryPoint=function(){return(a._f32QuadTree_queryPoint=a.asm.f32QuadTree_queryPoint).apply(null,arguments)},a._f32QuadTree_insertRange=function(){return(a._f32QuadTree_insertRange=a.asm.f32QuadTree_insertRange).apply(null,arguments)},a._f32QuadTree_delete=function(){return(a._f32QuadTree_delete=a.asm.f32QuadTree_delete).apply(null,arguments)},a._quadTree_setOptions=function(){return(a._quadTree_setOptions=a.asm.quadTree_setOptions).apply(null,arguments)},a._quadTree_getResultAddress=function(){return(a._quadTree_getResultAddress=a.asm.quadTree_getResultAddress).apply(null,arguments)},a._quadTree_getQuadElementCount=function(){return(a._quadTree_getQuadElementCount=a.asm.quadTree_getQuadElementCount).apply(null,arguments)},a._f32SharedArray_createOne=function(){return(a._f32SharedArray_createOne=a.asm.f32SharedArray_createOne).apply(null,arguments)},a._f32SharedArray_getArrayAddress=function(){return(a._f32SharedArray_getArrayAddress=a.asm.f32SharedArray_getArrayAddress).apply(null,arguments)},a._f32SharedArray_delete=function(){return(a._f32SharedArray_delete=a.asm.f32SharedArray_delete).apply(null,arguments)},a._f64SharedArray_createOne=function(){return(a._f64SharedArray_createOne=a.asm.f64SharedArray_createOne).apply(null,arguments)},a._f64SharedArray_getArrayAddress=function(){return(a._f64SharedArray_getArrayAddress=a.asm.f64SharedArray_getArrayAddress).apply(null,arguments)},a._f64SharedArray_delete=function(){return(a._f64SharedArray_delete=a.asm.f64SharedArray_delete).apply(null,arguments)},a._jsUtilEndProgram=function(){return(a._jsUtilEndProgram=a.asm.jsUtilEndProgram).apply(null,arguments)},a._jsUtilMalloc=function(){return(a._jsUtilMalloc=a.asm.jsUtilMalloc).apply(null,arguments)},a._jsUtilCalloc=function(){return(a._jsUtilCalloc=a.asm.jsUtilCalloc).apply(null,arguments)},a._jsUtilFree=function(){return(a._jsUtilFree=a.asm.jsUtilFree).apply(null,arguments)},a.___errno_location=function(){return(a.___errno_location=a.asm.__errno_location).apply(null,arguments)},a.stackSave=function(){return(a.stackSave=a.asm.stackSave).apply(null,arguments)},a.stackRestore=function(){return(a.stackRestore=a.asm.stackRestore).apply(null,arguments)},a.stackAlloc=function(){return(a.stackAlloc=a.asm.stackAlloc).apply(null,arguments)},a._malloc=function(){return(B=a._malloc=a.asm.malloc).apply(null,arguments)});function U(e){function t(){F||(F=!0,a.calledRun=!0,d||(D(P),r(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),S()))}0<M||(w(),0<M||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),t()},1)):t()))}if(R=function e(){F||U(),F||(R=e)},a.run=U,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return U(),a.ready});e.exports=t}},n={};function s(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={exports:{}};return r[e](t,t.exports,s),t.exports}s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};(()=>{"use strict";var e=s(1147),f=s(9547),y=s(7665),v=s(6225);const i={margins:v.Margin2d.f32.factory.createOne(50,20,10,30),unit:y.k$.CssPixel},a=new y.ZP({fontFamilies:["sans-serif"],fontSize:12,maxWidth:50,formatNumber:e=>e.toPrecision(3),textColor:v.RgbaColorPacker.packColor(240,240,240,255),padding:14}),o={traceColor:v.RgbaColorPacker.packColor(0,201,201,255),maxTraceCount:5,traceLinePixelSize:5};function m(e,t,r,n){return new y.m({plotName:r,plotRange:n,gutterOptions:i,plotPosition:t,axisConfig:a,traceOptions:o,updateGroup:new y.nM(e),createUpdateStrategy:(e,t)=>new y.Gh(e,t,new y.eF(t))})}function u(e,t,r,n){var i=255<<r;return(((t&i)>>>r)-((e&i)>>>r))/n}function d(e,t,r){var n=255<<t,r=((e&n)>>>t)+r;return(e&=~n)|r<<t}function b(e,t,r,n){!function(t,e,r){var n=2*Math.PI/(t.getLength()-1),i=e.getXMin(),a=e.getYMin(),o=v._Math.min(e.getXRange(),e.getYRange())*r.getNext();for(let e=t.getStart();e<t.getEnd();++e){var s=n*e;t.setValue(e,t.offsets.x,i+Math.cos(s)*o),t.setValue(e,t.offsets.y,a+Math.sin(s)*o)}}(e,t,n),null!=e.offsets.size&&function(e,r,n){var i=(e.getY()-e.getX())/(r.getLength()-1),a=e.getX();for(let e=r.getStart(),t=r.getEnd();e<t;++e){var o=a+i*e;r.setValue(e,n,o)}}(v.Vec2.f32.factory.createOne(1,100),e,e.offsets.size),null!=e.offsets.color&&function(r,e,n,i){var a=v.ERgbaShift,o=u(r,e,a.R,n.getLength()-1),s=u(r,e,a.G,n.getLength()-1),c=u(r,e,a.B,n.getLength()-1);for(let e=n.getStart(),t=n.getEnd();e<t;++e){var l=d(r,a.R,o*e),l=d(l,a.G,s*e);l=d(l,a.B,c*e),n.setValue(e,i,l)}}(v.RgbaColorPacker.packColor(255*n.getNext(),255*n.getNext(),0,r),v.RgbaColorPacker.packColor(0,255*n.getNext(),255*n.getNext(),r),e,e.offsets.color)}const t=s(1271);v._Debug.setFlag("DEBUG_MODE",!0),v._Debug.setFlag("DEBUG_VERBOSE",!0);const C=new v.Mulberry32Generator(79769);window.onload=()=>(0,e.__awaiter)(void 0,void 0,void 0,function*(){var e=yield(0,v.getEmscriptenWrapper)(new WebAssembly.Memory({initial:256,maximum:8192}),t);!function(e){const t=v.Range2d.f64.factory.createOne(-2,2,-2,2),r=f.SharedInterleavedConnector.createOneF32(e,40,{offsets:{x:0,y:1,size:2,color:3},blockElementCount:4});b(r,t,255,C);const n=f.CanvasChartFactory.createOne(document.getElementById("canvas-chart"),new f.ChartConfig),i=new y.yY(v.Range1d.f64.factory.createOne(10,20)),a={pointDisplay:new y.tu(1,v.RgbaColorPacker.packColor(255,0,0,255)),pointSizeNormalizer:i.normalization,zIndexAbs:0,zIndexRel:0};if(null==n)throw new Error("failed to create renderer");const o=new y.Do,s=n.addPlot(y.TG.createOne(n,m(new y.O,v.Range2d.f32.factory.createOne(-1,0,-1,0),"plot lower left",y.Li.createOneF64(v.Range2d.f64.factory.createOne(-4,4,-4,4),t.slice(),4,n.attachPoint.canvasDims))));s.dataCategory.addEntity(new f.ChartDataEntity(r,a,n.changeIdFactory),o,i);const c=n.addPlot(y.TG.createOne(n,m(new y.O,v.Range2d.f32.factory.createOne(0,1,0,1),"plot upper right",y.Li.createOneF64(v.Range2d.f64.factory.createOne(-4,4,-4,4),t.slice(),4,n.attachPoint.canvasDims))));c.dataCategory.addEntity(new f.ChartDataEntity(r,a,n.changeIdFactory),o,i);const l=new y.er(c,{yieldTime:16});l.setQuadTreeInteractionHandler(e,n),n.updateImmediate(),n.updateInteractionHandlers(),window.addEventListener("resize",v._Fp.debounce(250,!1,()=>{n.updateOnNextFrame()}))}(e),function(t){const r=f.GlChartFactory.createOne(document.getElementById("gl-chart"),f.Gl2ContextAdapter,new f.ChartConfig,new f.GlRendererOptions([],{preserveDrawingBuffer:!0}));if(null==r)throw new Error("failed to create renderer");const n=new y.yY(v.Range1d.f32.factory.createOne(10,20)),i={pointDisplay:new y.tu(1,v.RgbaColorPacker.packColor(255,0,0,255),v.RgbaColorPacker.packColor(255,0,255,255)),pointSizeNormalizer:n.normalization,zIndexAbs:0,zIndexRel:0},a={hitAllowedComponent:new f.HitAlwaysAllowedComponent,hitTestComponent:new y.ae(y.sp.createOneF32(t))},o=v.Range2d.f32.factory.createOne(3,5,3,5),s=r.addPlot(y.os.createOne(r,m(new y.u6,v.Range2d.f32.factory.createOne(-1,1,-1,1),"plot upper right",y.Li.createOneF32(v.Range2d.f32.factory.createOne(-5,5,-5,5),o.slice(),1/0,r.attachPoint.canvasDims)))),c=new y.er(s,{yieldTime:16});c.setQuadTreeInteractionHandler(t,r);const l={offsets:{x:0,y:1,size:2,color:3},blockElementCount:4},e=f.SharedInterleavedConnector.getDescriptor(l,Float32Array),u=new y.OV(e,{pointsToBind:2,byteStride:2*e.blockByteSize}),d=new y.OV(e,{pointsToBind:3,byteStride:3*e.blockByteSize});u.mergeTracePositionBuffers([d]);const h=r.renderer.createCompositeGraphicsComponent(new y.Yx(new y.oJ,d),s).addComponent(new y.w1(new y.oJ,u));h.groupUpdatesByEntity=!0;for(let e=0;e<100;++e){var p=f.SharedInterleavedConnector.createOneF32(t,4e3,l);b(p,o,0,C);const g=new f.ChartDataEntity(p,i,r.changeIdFactory);g.onHoverChange=function(e,t){return(0,y.fl)(this,e,t),f.EEntityUpdateFlag.DrawRequired},s.dataCategory.addEntity(g,h,n),c.interactionGroups.clickable.addToGroup(g,a),c.interactionGroups.hoverable.addToGroup(g,a)}r.updateImmediate(),r.updateInteractionHandlers(),window.addEventListener("resize",v._Fp.debounce(250,!1,()=>{r.updateOnNextFrame()}))}(e)})})()})();
//# sourceMappingURL=main.js.map