(()=>{var r={9057:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Array=void 0;var n=r(2555),i=r(6815),a=r(7101),o=r(9729),s=r(8826),c=r(9049),l=r(6251),d=r(5026),u=r(663),h=r(377),p=r(2085),f=r(3785),g=r(6535),m=r(7484),y=r(885),v=r(5536),b=r(252),C=r(507),P=r(2405),E=r(1935),_=r(3975),O=r(6058),T=r(884),w=r(566),S=r(7928),M=r(6414),A=r(4620),R=r(2163),x=r(4335),r=r(3326);class I{constructor(){}}(t._Array=I).addToSet=r.arrayAddToSet,I.binaryIndexOf=n.arrayBinaryIndexOf,I.binaryLastIndexOf=a.arrayBinaryLastIndexOf,I.collect=g.arrayCollect,I.compact=b.arrayCompact,I.compactMap=C.arrayCompactMap,I.contains=w.arrayContains,I.copyInto=s.arrayCopyInto,I.emptyArray=_.arrayEmptyArray,I.flatMap=c.arrayFlatMap,I.forEach=l.arrayForEach,I.generateRange=O.arrayGenerateRange,I.index=d.arrayIndex,I.insertAtIndex=S.arrayInsertAtIndex,I.intersect=u.arrayIntersect,I.isArray=i.arrayIsArray,I.isNotEmpty=R.arrayIsNotEmpty,I.last=h.arrayLast,I.map=o.arrayMap,I.mapRange=T.arrayMapRange,I.normalizeEmptyToUndefined=p.arrayNormalizeEmptyToUndefined,I.normalizeNullishToEmpty=f.arrayNormalizeNullishToEmpty,I.pushUnique=E.arrayPushUnique,I.removeMany=m.arrayRemoveMany,I.removeOne=y.arrayRemoveOne,I.replaceOne=v.arrayReplaceOne,I.setDifference=A.arraySetDifference,I.symmetricDifference=M.arraySymmetricDifference,I.union=P.arrayUnion,I.unique=x.arrayUnique},3326:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayAddToSet=void 0,t.arrayAddToSet=function(r,n){for(let e=0,t=r.length;e<t;++e)n.add(r[e])}},2555:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayBinaryIndexOf=void 0;const a=r(1e3);function o(e,t){return t<e}t.arrayBinaryIndexOf=function(e,t,r,n,i){return i=(0,a.binaryFindInsertionIndex)(e,t,r,o,e=>e,n,i),r(e,i)===t?i:-1}},7101:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayBinaryLastIndexOf=void 0;const a=r(1e3);function o(e,t){return t<=e}t.arrayBinaryLastIndexOf=function(e,t,r,n,i){return i=(0,a.binaryFindInsertionIndex)(e,t,r,o,e=>e-1,n,i),r(e,i)===t?i:-1}},6535:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayCollect=void 0,t.arrayCollect=function(r,n,i){for(let e=0,t=r.length;e<t;++e)i(n,r[e],e);return n}},507:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayCompactMap=void 0,t.arrayCompactMap=function(r,n){const i=[];for(let e=0,t=r.length;e<t;++e){var a=n(r[e],e);null!==a&&i.push(a)}return i}},252:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayCompact=void 0,t.arrayCompact=function(r){const n=[];for(let e=0,t=r.length;e<t;++e){var i=r[e];null!=i&&n.push(i)}return n}},566:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayContains=void 0,t.arrayContains=function(e,t){return-1!==e.indexOf(t)}},8826:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayCopyInto=void 0;r(9641);t.arrayCopyInto=function(t,r,n=0,e=t.length){const i=n+e;r.length=e;for(let e=0;n<i;++n,++e)r[e]=t[n]}},3975:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayEmptyArray=void 0,t.arrayEmptyArray=[]},9049:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayFlatMap=void 0,t.arrayFlatMap=function(r,n){const i=[];for(let e=0,t=r.length;e<t;++e){var a=n(r[e],e);if(null!==a){let r=i.length;i.length+=a.length;for(let e=0,t=a.length;e<t;++e)i[r++]=a[e]}}return i}},6251:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayForEach=void 0,t.arrayForEach=function(r,n){for(let e=0,t=r.length;e<t;++e)n(r[e],e)}},6058:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayGenerateRange=void 0;const n=r(884),i=r(3899);t.arrayGenerateRange=function(e,t){return(0,n.arrayMapRange)(e,t,i.fpIdentity)}},5026:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayIndex=void 0,t.arrayIndex=function(r,n){const i=new Map;for(let e=0,t=r.length;e<t;++e){var a=r[e],o=n(a,e);null!==o&&i.set(o,a)}return i}},7928:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayInsertAtIndex=void 0,t.arrayInsertAtIndex=function(e,t,r){e.splice(r,0,t)}},663:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayIntersect=void 0;const s=r(5026),c=r(3899);t.arrayIntersect=function(r,e,n=c.fpIdentity){const i=[],a=(0,s.arrayIndex)(e,n);for(let e=0,t=r.length;e<t;++e){var o=r[e];a.has(n(o,e))&&i.push(o)}return i}},6815:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayIsArray=void 0,t.arrayIsArray=function(e){return e instanceof Array||ArrayBuffer.isView(e)}},2163:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayIsNotEmpty=void 0,t.arrayIsNotEmpty=function(e){return null!=e&&0!==e.length}},377:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayLast=void 0,t.arrayLast=function(e){if(0!==e.length)return e[e.length-1]}},884:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMapRange=void 0;r(9641);t.arrayMapRange=function(t,e,r){var e=e-t,n=Math.abs(e)+1,i=Math.sign(e);const a=new Array(n);for(let e=0;e<n;++e)a[e]=r(t,e),t+=i;return a}},9729:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMap=void 0,t.arrayMap=function(r,n){const i=new Array(r.length);for(let e=0,t=r.length;e<t;++e)i[e]=n(r[e],e);return i}},2085:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayNormalizeEmptyToUndefined=void 0,t.arrayNormalizeEmptyToUndefined=function(e){if(null!=e&&0!==e.length)return e}},3785:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayNormalizeNullishToEmpty=void 0,t.arrayNormalizeNullishToEmpty=function(e){return null==e?[]:e}},1935:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayPushUnique=void 0;const a=r(3899);t.arrayPushUnique=function(r,e,n=a.fpIdentity){var i=n(e);for(let e=0,t=r.length;e<t;++e)if(n(r[e])===i)return!1;return r.push(e),!0}},7484:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayRemoveMany=void 0,t.arrayRemoveMany=function(e,t){const r=new Set(t);let n=e.length,i=0;for(;0<n--;)r.has(e[n])&&(e.splice(n,1),++i);return i}},885:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayRemoveOne=void 0,t.arrayRemoveOne=function(e,t){return-1!==(t=e.indexOf(t))&&(e.splice(t,1),!0)}},5536:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayReplaceOne=void 0,t.arrayReplaceOne=function(e,t,r){return-1!==(t=e.indexOf(t))&&(e[t]=r,!0)}},4620:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arraySetDifference=void 0,t.arraySetDifference=function(r,n){const i=new Set;for(let e=0,t=r.length;e<t;++e){var a=r[e];n.has(a)||i.add(a)}return i}},6414:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arraySymmetricDifference=void 0,t.arraySymmetricDifference=function(r,n,i=new Set(r),a=new Set(n)){const o=new Set;for(let e=0,t=r.length;e<t;++e){var s=r[e];a.has(s)||o.add(s)}for(let e=0,t=n.length;e<t;++e){var c=n[e];i.has(c)||o.add(c)}return o}},2405:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayUnion=void 0;const s=r(3899),c=r(3764);t.arrayUnion=function(r,n=s.fpIdentity){const i=new Map;for(let e=0,t=r.length;e<t;++e){var a=r[e];for(let e=0,t=a.length;e<t;++e){var o=a[e];i.set(n(o,e),o)}}return(0,c.mapValuesToArray)(i)}},4335:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayUnique=void 0,t.arrayUnique=function(r){const n=new Set;for(let e=0,t=r.length;e<t;++e)n.add(r[e]);return Array.from(n)}},1e3:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.binaryFindInsertionIndex=void 0;r(9641);const u=r(6432);t.binaryFindInsertionIndex=function(e,t,r,n,i,a,o=0){let s=o,c=a;for(;s<c;){var l=s+c>>1,d=r(e,l);n(t,d)?s=1+l:c=l}return(0,u.mathBound)(i(c),o,a-1)}},7266:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMargin2dCtor=void 0;const n=r(3172),i=r(7592),a=r(3470),o=r(1076);t.getMargin2dCtor=function(e){var t=class extends(0,o.getMat2Ctor)(e){getLeft(){return this[0]}getRight(){return this[1]}getTop(){return this[2]}getBottom(){return this[3]}setLeft(e){this[0]=e}setRight(e){this[1]=e}setTop(e){this[2]=e}setBottom(e){this[3]=e}sumX(){return this[0]+this[1]}sumY(){return this[2]+this[3]}getInnerRange(e,t=this.constructor.rangeCtor.factory.createOneEmpty()){return t[0]=e[0]+this[0],t[1]=e[1]-this[1],t[2]=e[2]+this[3],t[3]=e[3]-this[2],t}mat3TransformLength(e,t=this.constructor.factory.createOneEmpty()){return t.setLeft(e.getTransformedXLength(0,this.getLeft())),t.setRight(e.getTransformedXLength(0,this.getRight())),t.setTop(e.getTransformedYLength(0,this.getTop())),t.setBottom(e.getTransformedYLength(0,this.getBottom())),t}};return t.factory=new n.Mat2Factory(t,a.NormalizedDataViewProvider.getView(e)),t.rangeCtor=i.Range2d.getCtor(e),t}},4028:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Margin2d=void 0;const n=r(7266),i=r(3049);class a extends r(8774).Mat2{static getCtor(e){return this.constructors.get(e)}getLeft(){throw new Error}getRight(){throw new Error}getTop(){throw new Error}getBottom(){throw new Error}setLeft(e){throw new Error}setRight(e){throw new Error}setTop(e){throw new Error}setBottom(e){throw new Error}update(){throw new Error}sumX(){throw new Error}sumY(){throw new Error}getInnerRange(e,t){throw new Error}mat3TransformLength(e,t){throw new Error}copyFromBuffer(e,t,r){throw new Error}copyToBuffer(e,t,r){throw new Error}castToBaseType(){throw new Error}}(t.Margin2d=a).f64=(0,n.getMargin2dCtor)(Float64Array),a.f32=(0,n.getMargin2dCtor)(Float32Array),a.u32=(0,n.getMargin2dCtor)(Uint32Array),a.i32=(0,n.getMargin2dCtor)(Int32Array),a.u16=(0,n.getMargin2dCtor)(Uint16Array),a.i16=(0,n.getMargin2dCtor)(Int16Array),a.u8c=(0,n.getMargin2dCtor)(Uint8ClampedArray),a.u8=(0,n.getMargin2dCtor)(Uint8Array),a.i8=(0,n.getMargin2dCtor)(Int8Array),a.constructors=(0,i.populateTypedArrayConstructorMap)(a)},9801:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRange2dCtor=void 0;const n=r(1076),i=r(4882),a=r(3172),o=r(3470),s=(r(9641),r(771));t.getRange2dCtor=function(e){var t=class extends(0,n.getMat2Ctor)(e){setXMin(e){this[0]=e}setXMax(e){this[1]=e}setYMin(e){this[2]=e}setYMax(e){this[3]=e}getXMin(){return this[0]}getXMax(){return this[1]}getYMin(){return this[2]}getYMax(){return this[3]}getRange(e=this.constructor.vec2Ctor.factory.createOneEmpty()){return e.setX(this.getXRange()),e.setY(this.getYRange()),e}getXRange(){return this[1]-this[0]}getYRange(){return this[3]-this[2]}getXMaxAbs(){var e=Math.abs(this.getXMin()),t=Math.abs(this.getXMax());return t<e?e:t}getYMaxAbs(){var e=Math.abs(this.getYMin()),t=Math.abs(this.getYMax());return t<e?e:t}getCenter(e=this.constructor.vec2Ctor.factory.createOneEmpty()){return e.setX(this.getXCenter()),e.setY(this.getYCenter()),e}getXCenter(){return.5*(this[0]+this[1])}getYCenter(){return.5*(this[2]+this[3])}mat3Multiply(e,t=this.constructor.factory.createOneEmpty()){return t.setXMin(e.getVec3MultiplyX(this.getXMin())),t.setXMax(e.getVec3MultiplyX(this.getXMax())),t.setYMin(e.getVec3MultiplyY(this.getYMin())),t.setYMax(e.getVec3MultiplyY(this.getYMax())),t}unionRange(e,t=this.constructor.factory.createOneEmpty()){return t[0]=(this[0]>e[0]?e:this)[0],t[1]=(this[1]<e[1]?e:this)[1],t[2]=(this[2]>e[2]?e:this)[2],t[3]=(this[3]<e[3]?e:this)[3],t}extendRange(e,t,r=this.constructor.factory.createOneEmpty()){return r[0]=this[0]>e?e:this[0],r[1]=this[1]<e?e:this[1],r[2]=this[2]>t?t:this[2],r[3]=this[3]<t?t:this[3],r}getRangeTransform(e,t=this.constructor.mat3Ctor.factory.createOneEmpty()){var r=e.getXRange()/this.getXRange(),n=e.getYRange()/this.getYRange();return t[0]=r,t[1]=0,t[2]=0,t[3]=0,t[4]=n,t[5]=0,t[6]=e.getXMin()-this.getXMin()*r,t[7]=e.getYMin()-this.getYMin()*n,t[8]=1,t}isPointInRange(e){var t=e.getX(),e=e.getY();return t>=this.getXMin()&&t<=this.getXMax()&&e>=this.getYMin()&&e<=this.getYMax()}doesRangeIntersect(e){return Math.abs(this[0]+this[1]-(e[0]+e[1]))<this.getXRange()+e.getXRange()&&Math.abs(this[2]+this[3]-(e[2]+e[3]))<this.getYRange()+e.getYRange()}containsRange(e){return this.getXMin()<=e.getXMin()&&this.getXMax()>=e.getXMax()&&this.getYMin()<=e.getYMin()&&this.getYMax()>=e.getYMax()}scaleRelativeTo(e,t,r=this.constructor.factory.createOneEmpty()){const n=this.getCenter(this.constructor.tmpVec).subtract(t,this.constructor.tmpVec);n.setX(2*n.getX()/this.getXRange()),n.setY(2*n.getY()/this.getYRange());var i=this.getXRange()*e,a=this.getYRange()*e,t=.5*(this.getXRange()-i),e=.5*(this.getYRange()-a),t=this.getXMin()+t-t*n.getX();r.setXMin(t),r.setXMax(t+i);e=this.getYMin()+e-e*n.getY();return r.setYMin(e),r.setYMax(e+a),r}bound(e){var t,r;this.getXRange()>e.getXRange()?(this.setXMin(e.getXMin()),this.setXMax(e.getXMax())):this.getXMax()>e.getXMax()?(t=this.getXRange(),this.setXMax(e.getXMax()),this.setXMin(e.getXMax()-t)):this.getXMin()<e.getXMin()&&(t=this.getXRange(),this.setXMin(e.getXMin()),this.setXMax(e.getXMin()+t)),this.getYRange()>e.getYRange()?(this.setYMin(e.getYMin()),this.setYMax(e.getYMax())):this.getYMax()>e.getYMax()?(r=this.getYRange(),this.setYMax(e.getYMax()),this.setYMin(e.getYMax()-r)):this.getYMin()<e.getYMin()&&(r=this.getYRange(),this.setYMin(e.getYMin()),this.setYMax(e.getYMin()+r))}ensureAABB(){var e;this[0]>this[1]&&(e=this[0],this[0]=this[1],this[1]=e),this[2]>this[3]&&(e=this[2],this[2]=this[3],this[3]=e)}ensureMinRange(e,t){var r=this.getXRange();r<e&&(n=.5*(e-r),this.setXMin(this.getXMin()-n),this.setXMax(this.getXMax()+n));var n=this.getYRange();n<t&&(n=.5*(t-n),this.setYMin(this.getYMin()-n),this.setYMax(this.getYMax()+n))}translateBy(e,t){this.setXMin(this.getXMin()+e),this.setXMax(this.getXMax()+e),this.setYMin(this.getYMin()+t),this.setYMax(this.getYMax()+t)}};return t.factory=new a.Mat2Factory(t,o.NormalizedDataViewProvider.getView(e)),t.vec2Ctor=i.Vec2.getCtor(e),t.mat3Ctor=s.Mat3.getCtor(e),t.tmpVec=t.vec2Ctor.factory.createOneEmpty(),t}},7592:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Range2d=void 0;var n=r(8774);const i=r(9801),a=r(3049);class o extends n.Mat2{static getCtor(e){return o.constructors.get(e)}setXMin(e){throw new Error}setXMax(e){throw new Error}setYMin(e){throw new Error}setYMax(e){throw new Error}getXMin(){throw new Error}getXMax(){throw new Error}getYMin(){throw new Error}getYMax(){throw new Error}update(){throw new Error}getRange(e){throw new Error}getXRange(){throw new Error}getYRange(){throw new Error}getXMaxAbs(){throw new Error}getYMaxAbs(){throw new Error}getCenter(e){throw new Error}getXCenter(){throw new Error}getYCenter(){throw new Error}mat3Multiply(e,t){throw new Error}unionRange(e,t){throw new Error}extendRange(e,t,r){throw new Error}getRangeTransform(e,t){throw new Error}isPointInRange(e){throw new Error}doesRangeIntersect(e){throw new Error}containsRange(e){throw new Error}scaleRelativeTo(e,t,r){throw new Error}bound(e){throw new Error}ensureAABB(){throw new Error}ensureMinRange(e,t){throw new Error}translateBy(e,t){throw new Error}copyFromBuffer(e,t,r){throw new Error}copyToBuffer(e,t,r){throw new Error}castToBaseType(){throw new Error}}t.Range2d=o,o.f64=(0,i.getRange2dCtor)(Float64Array),o.f32=(0,i.getRange2dCtor)(Float32Array),o.u32=(0,i.getRange2dCtor)(Uint32Array),o.i32=(0,i.getRange2dCtor)(Int32Array),o.u16=(0,i.getRange2dCtor)(Uint16Array),o.i16=(0,i.getRange2dCtor)(Int16Array),o.u8c=(0,i.getRange2dCtor)(Uint8ClampedArray),o.u8=(0,i.getRange2dCtor)(Uint8Array),o.i8=(0,i.getRange2dCtor)(Int8Array),o.constructors=(0,a.populateTypedArrayConstructorMap)(o)},9809:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ATypedArrayTuple=void 0;t.ATypedArrayTuple=class{copyWithin(e,t,r){throw new Error}every(e,t){throw new Error}fill(e,t,r){throw new Error}filter(e,t){throw new Error}find(e,t){throw new Error}findIndex(e,t){throw new Error}forEach(e,t){throw new Error}indexOf(e,t){throw new Error}join(e){throw new Error}lastIndexOf(e,t){throw new Error}map(e,t){throw new Error}reduce(e,t){throw new Error}reduceRight(e,t){throw new Error}reverse(){throw Error()}set(e,t){throw new Error}slice(e,t){throw new Error}some(e,t){throw new Error}sort(e){throw new Error}subarray(e,t){throw new Error}toLocaleString(){throw new Error}toString(){throw new Error}}},9714:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ATypedTupleFactory=void 0;r=r(1490);class s{constructor(e,t,r){this.length=e,this.bytesPerElement=t,this.dataView=r}copyFromBuffer(r,n,i=this.createOneEmpty(),a=s.littleEndian){var o=this.bytesPerElement;for(let e=0,t=this.length;e<t;++e)i[e]=this.dataView.getValue(r,n,a),n+=o;return i}copyToBuffer(r,n,i,a=s.littleEndian){var o=this.bytesPerElement;for(let e=0,t=this.length;e<t;++e)this.dataView.setValue(r,i,n[e],a),i+=o}}(t.ATypedTupleFactory=s).littleEndian=r.isLittleEndian},1076:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMat2Ctor=void 0;const n=r(3172),i=(r(9641),r(3470)),a=r(4882);t.getMat2Ctor=function(e){var t=class extends e{constructor(e=4,t,r){super(e,t,r)}update(e,t,r,n){this[0]=e,this[1]=t,this[2]=r,this[3]=n}setIdentityMatrix(){return this[0]=1,this[1]=0,this[2]=0,this[3]=1,this}getValueAt(e,t){return this[2*t+e]}setValueAt(e,t,r){this[2*t+e]=r}setScalingMatrix(e){return this[0]=e,this[1]=0,this[2]=0,this[3]=1,this}setTranslationMatrix(e){return this[0]=1,this[1]=0,this[2]=e,this[3]=1,this}multiplyMat2(e,t=this.constructor.factory.createOneEmpty()){var[r,n,i,a]=this,[o,s,c,e]=e;return t[0]=r*o+n*c,t[1]=r*s+n*e,t[2]=i*o+a*c,t[3]=i*s+a*e,t}getVec2MultiplyX(e){return this[0]*e+this[2]}scalarMultiply(e,t=this.constructor.factory.createOneEmpty()){return t[0]=this[0]*e,t[1]=this[1]*e,t[2]=this[2]*e,t[3]=this[3]*e,t}scalarAdd(e,t=this.constructor.factory.createOneEmpty()){return t[0]=this[0]+e,t[1]=this[1]+e,t[2]=this[2]+e,t[3]=this[3]+e,t}getRow(e,t=this.constructor.vec2Ctor.factory.createOneEmpty()){return t[0]=this.getValueAt(0,e),t[1]=this.getValueAt(1,e),t}setRow(e,t){this.setValueAt(0,e,t[0]),this.setValueAt(1,e,t[1])}getLoggableValue(){return[[this[0],this[1]],[this[2],this[3]]]}copyFromBuffer(e,t,r){this.constructor.factory.copyFromBuffer(e,t,this,r)}copyToBuffer(e,t,r){this.constructor.factory.copyToBuffer(e,this,t,r)}castToBaseType(){return this}};return t.factory=new n.Mat2Factory(t,i.NormalizedDataViewProvider.getView(e)),t.vec2Ctor=a.Vec2.getCtor(e),t}},3172:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mat2Factory=void 0;class i extends r(9714).ATypedTupleFactory{constructor(e,t){super(4,e.BYTES_PER_ELEMENT,t),this.ctor=e}createOne(e,t,r,n){const i=this.createOneEmpty();return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}createOneEmpty(){return new this.ctor}copyFromBuffer(e,t,r=this.createOneEmpty(),n=i.littleEndian){return r[0]=this.dataView.getValue(e,t,n),r[1]=this.dataView.getValue(e,t+=this.bytesPerElement,n),r[2]=this.dataView.getValue(e,t+=this.bytesPerElement,n),r[3]=this.dataView.getValue(e,t+=this.bytesPerElement,n),r}copyToBuffer(e,t,r,n=i.littleEndian){this.dataView.setValue(e,r,t[0],n),this.dataView.setValue(e,r+=this.bytesPerElement,t[1],n),this.dataView.setValue(e,r+=this.bytesPerElement,t[2],n),this.dataView.setValue(e,r+=this.bytesPerElement,t[3],n)}}t.Mat2Factory=i},8774:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mat2=void 0;var n=r(9809);const i=r(1076),a=r(3049);class o extends n.ATypedArrayTuple{static getCtor(e){return o.constructors.get(e)}update(){throw new Error}setIdentityMatrix(){throw new Error}getValueAt(e,t){throw new Error}setValueAt(e,t,r){throw new Error}setScalingMatrix(e){throw new Error}setTranslationMatrix(e){throw new Error}scalarMultiply(e,t){throw new Error}scalarAdd(e,t){throw new Error}multiplyMat2(e,t){throw new Error}getVec2MultiplyX(e){throw new Error}getRow(e,t){throw new Error}setRow(e,t){throw new Error}getLoggableValue(){throw new Error}copyFromBuffer(e,t,r){throw new Error}copyToBuffer(e,t,r){throw new Error}castToBaseType(){throw new Error}}t.Mat2=o,o.f64=(0,i.getMat2Ctor)(Float64Array),o.f32=(0,i.getMat2Ctor)(Float32Array),o.u32=(0,i.getMat2Ctor)(Uint32Array),o.i32=(0,i.getMat2Ctor)(Int32Array),o.u16=(0,i.getMat2Ctor)(Uint16Array),o.i16=(0,i.getMat2Ctor)(Int16Array),o.u8c=(0,i.getMat2Ctor)(Uint8ClampedArray),o.u8=(0,i.getMat2Ctor)(Uint8Array),o.i8=(0,i.getMat2Ctor)(Int8Array),o.constructors=(0,a.populateTypedArrayConstructorMap)(o)},7916:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMat3Ctor=void 0;const n=r(3392),i=(r(9641),r(3470)),a=r(9328);t.getMat3Ctor=function(e){var t=class extends e{constructor(e=9,t,r){super(e,t,r)}setIdentityMatrix(){return this.fill(0),this[0]=1,this[4]=1,this[8]=1,this}getValueAt(e,t){return this[3*t+e]}setValueAt(e,t,r){this[3*t+e]=r}getRow(e,t=this.constructor.vec3Ctor.factory.createOneEmpty()){return t[0]=this.getValueAt(0,e),t[1]=this.getValueAt(1,e),t[2]=this.getValueAt(2,e),t}setRow(e,t){this.setValueAt(0,e,t[0]),this.setValueAt(1,e,t[1]),this.setValueAt(2,e,t[2])}setRotationMatrix(e){var t=Math.sin(e),e=Math.cos(e);return this[0]=e,this[1]=-t,this[2]=0,this[3]=t,this[4]=e,this[5]=0,this[6]=0,this[7]=0,this[8]=1,this}setScalingMatrix(e,t){return this[0]=e,this[1]=0,this[2]=0,this[3]=0,this[4]=t,this[5]=0,this[6]=0,this[7]=0,this[8]=1,this}setTranslationMatrix(e,t){return this[0]=1,this[1]=0,this[2]=0,this[3]=0,this[4]=1,this[5]=0,this[6]=e,this[7]=t,this[8]=1,this}scalarMultiply(e,t=this.constructor.factory.createOneEmpty()){return t[0]=this[0]*e,t[1]=this[1]*e,t[2]=this[2]*e,t[3]=this[3]*e,t[4]=this[4]*e,t[5]=this[5]*e,t[6]=this[6]*e,t[7]=this[7]*e,t[8]=this[8]*e,t}scalarAdd(e,t=this.constructor.factory.createOneEmpty()){return t[0]=this[0]+e,t[1]=this[1]+e,t[2]=this[2]+e,t[3]=this[3]+e,t[4]=this[4]+e,t[5]=this[5]+e,t[6]=this[6]+e,t[7]=this[7]+e,t[8]=this[8]+e,t}multiplyMat3(e,t=this.constructor.factory.createOneEmpty()){var[r,n,i,a,o,s,c,l,d]=this,[u,h,p,f,g,m,y,v,e]=e;return t[0]=r*u+n*f+i*y,t[1]=r*h+n*g+i*v,t[2]=r*p+n*m+i*e,t[3]=a*u+o*f+s*y,t[4]=a*h+o*g+s*v,t[5]=a*p+o*m+s*e,t[6]=c*u+l*f+d*y,t[7]=c*h+l*g+d*v,t[8]=c*p+l*m+d*e,t}getVec3MultiplyX(e){return this[0]*e+this[3]*e+this[6]}getVec3MultiplyY(e){return this[1]*e+this[4]*e+this[7]}getTransformedXLength(e,t){return this.getVec3MultiplyX(t)-this.getVec3MultiplyX(e)}getTransformedYLength(e,t){return this.getVec3MultiplyY(t)-this.getVec3MultiplyY(e)}getLoggableValue(){return[[this[0],this[1],this[2]],[this[3],this[4],this[5]],[this[6],this[7],this[8]]]}copyFromBuffer(e,t,r){this.constructor.factory.copyFromBuffer(e,t,this,r)}copyToBuffer(e,t,r){this.constructor.factory.copyToBuffer(e,this,t,r)}castToBaseType(){return this}};return t.factory=new n.Mat3Factory(t,i.NormalizedDataViewProvider.getView(e)),t.vec3Ctor=a.Vec3.getCtor(e),t}},3392:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mat3Factory=void 0;class n extends r(9714).ATypedTupleFactory{constructor(e,t){super(9,e.BYTES_PER_ELEMENT,t),this.ctor=e}createOneEmpty(){return new this.ctor}createOne(e,t,r,n,i,a,o,s,c){const l=this.createOneEmpty();return l[0]=e,l[1]=t,l[2]=r,l[3]=n,l[4]=i,l[5]=a,l[6]=o,l[7]=s,l[8]=c,l}}t.Mat3Factory=n},771:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mat3=void 0;var n=r(9809);const i=r(7916),a=r(3049);class o extends n.ATypedArrayTuple{static getCtor(e){return o.constructors.get(e)}setIdentityMatrix(){throw new Error}getValueAt(e,t){throw new Error}setValueAt(e,t,r){throw new Error}getRow(e,t){throw new Error}setRow(e,t){throw new Error}setRotationMatrix(e){throw new Error}setScalingMatrix(e,t){throw new Error}setTranslationMatrix(e,t){throw new Error}scalarMultiply(e,t){throw new Error}scalarAdd(e,t){throw new Error}multiplyMat3(e,t){throw new Error}getVec3MultiplyX(e){throw new Error}getVec3MultiplyY(e){throw new Error}getTransformedXLength(e,t){throw new Error}getTransformedYLength(e,t){throw new Error}getLoggableValue(){throw new Error}copyFromBuffer(e,t,r){throw new Error}copyToBuffer(e,t,r){throw new Error}castToBaseType(){throw new Error}}t.Mat3=o,o.f64=(0,i.getMat3Ctor)(Float64Array),o.f32=(0,i.getMat3Ctor)(Float32Array),o.u32=(0,i.getMat3Ctor)(Uint32Array),o.i32=(0,i.getMat3Ctor)(Int32Array),o.u16=(0,i.getMat3Ctor)(Uint16Array),o.i16=(0,i.getMat3Ctor)(Int16Array),o.u8c=(0,i.getMat3Ctor)(Uint8ClampedArray),o.u8=(0,i.getMat3Ctor)(Uint8Array),o.i8=(0,i.getMat3Ctor)(Int8Array),o.constructors=(0,a.populateTypedArrayConstructorMap)(o)},2791:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMat4Ctor=void 0;const n=r(2884),i=(r(9641),r(3470)),a=r(437);t.getMat4Ctor=function(e){var t=class extends e{constructor(e=16,t,r){super(e,t,r)}setIdentityMatrix(){return this.fill(0),this[0]=1,this[5]=1,this[10]=1,this[15]=1,this}getValueAt(e,t){return this[4*t+e]}setValueAt(e,t,r){this[4*t+e]=r}getRow(e,t=this.constructor.vec4Ctor.factory.createOneEmpty()){return t[0]=this.getValueAt(0,e),t[1]=this.getValueAt(1,e),t[2]=this.getValueAt(2,e),t[3]=this.getValueAt(3,e),t}setRow(e,t){this.setValueAt(0,e,t[0]),this.setValueAt(1,e,t[1]),this.setValueAt(2,e,t[2]),this.setValueAt(3,e,t[3])}getLoggableValue(){return[[this[0],this[1],this[2],this[3]],[this[4],this[5],this[6],this[7]],[this[8],this[9],this[10],this[11]],[this[12],this[13],this[14],this[15]]]}copyFromBuffer(e,t,r){this.constructor.factory.copyFromBuffer(e,t,this,r)}copyToBuffer(e,t,r){this.constructor.factory.copyToBuffer(e,this,t,r)}castToBaseType(){return this}};return t.factory=new n.Mat4Factory(t,i.NormalizedDataViewProvider.getView(e)),t.vec4Ctor=a.Vec4.getCtor(e),t}},2884:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mat4Factory=void 0;class n extends r(9714).ATypedTupleFactory{constructor(e,t){super(16,e.BYTES_PER_ELEMENT,t),this.ctor=e}createOneEmpty(){return new this.ctor}createOne(e,t,r,n,i,a,o,s,c,l,d,u,h,p,f,g){const m=this.createOneEmpty();return m[0]=e,m[1]=t,m[2]=r,m[3]=n,m[4]=i,m[5]=a,m[6]=o,m[7]=s,m[8]=c,m[9]=l,m[10]=d,m[11]=u,m[12]=h,m[13]=p,m[14]=f,m[15]=g,m}}t.Mat4Factory=n},4452:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mat4=void 0;var n=r(9809);const i=r(2791),a=r(3049);class o extends n.ATypedArrayTuple{static getCtor(e){return o.constructors.get(e)}setIdentityMatrix(){throw new Error}getValueAt(e,t){throw new Error}setValueAt(e,t,r){throw new Error}getRow(e,t){throw new Error}setRow(e,t){throw new Error}getLoggableValue(){throw new Error}copyFromBuffer(e,t,r){throw new Error}copyToBuffer(e,t,r){throw new Error}castToBaseType(){throw new Error}}t.Mat4=o,o.f64=(0,i.getMat4Ctor)(Float64Array),o.f32=(0,i.getMat4Ctor)(Float32Array),o.u32=(0,i.getMat4Ctor)(Uint32Array),o.i32=(0,i.getMat4Ctor)(Int32Array),o.u16=(0,i.getMat4Ctor)(Uint16Array),o.i16=(0,i.getMat4Ctor)(Int16Array),o.u8c=(0,i.getMat4Ctor)(Uint8ClampedArray),o.u8=(0,i.getMat4Ctor)(Uint8Array),o.i8=(0,i.getMat4Ctor)(Int8Array),o.constructors=(0,a.populateTypedArrayConstructorMap)(o)},2855:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Float32DataView=void 0;r=r(1490);class i{getValue(e,t,r=i.littleEndian){return e.getFloat32(t,r)}setValue(e,t,r,n=i.littleEndian){e.setFloat32(t,r,n)}}(t.Float32DataView=i).littleEndian=r.isLittleEndian},3844:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Float64DataView=void 0;r=r(1490);class i{getValue(e,t,r=i.littleEndian){return e.getFloat64(t,r)}setValue(e,t,r,n=i.littleEndian){e.setFloat64(t,r,n)}}(t.Float64DataView=i).littleEndian=r.isLittleEndian},2898:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Int16DataView=void 0;r=r(1490);class i{getValue(e,t,r=i.littleEndian){return e.getInt16(t,r)}setValue(e,t,r,n=i.littleEndian){e.setInt16(t,r,n)}}(t.Int16DataView=i).littleEndian=r.isLittleEndian},4053:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Int32DataView=void 0;r=r(1490);class i{getValue(e,t,r=i.littleEndian){return e.getInt32(t,r)}setValue(e,t,r,n=i.littleEndian){e.setInt32(t,r,n)}}(t.Int32DataView=i).littleEndian=r.isLittleEndian},3454:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Int8DataView=void 0;t.Int8DataView=class{getValue(e,t){return e.getInt8(t)}setValue(e,t,r){e.setInt8(t,r)}}},3470:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NormalizedDataViewProvider=void 0;const n=r(3844),i=r(2855),a=r(4053),o=r(8035),s=r(2898),c=r(5872),l=r(3454),d=r(7651),u=r(7296);class h{constructor(){}static getView(e){return h.views.get(e)}}t.NormalizedDataViewProvider=h,h.views=new Map([[Float64Array,new n.Float64DataView],[Float32Array,new i.Float32DataView],[Int32Array,new a.Int32DataView],[Uint32Array,new o.Uint32DataView],[Int16Array,new s.Int16DataView],[Uint16Array,new c.Uint16DataView],[Int8Array,new l.Int8DataView],[Uint8Array,new d.Uint8DataView],[Uint8ClampedArray,new u.Uint8ClampedDataView]])},5872:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uint16DataView=void 0;r=r(1490);class i{getValue(e,t,r=i.littleEndian){return e.getUint16(t,r)}setValue(e,t,r,n=i.littleEndian){e.setUint16(t,r,n)}}(t.Uint16DataView=i).littleEndian=r.isLittleEndian},8035:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uint32DataView=void 0;r=r(1490);class i{getValue(e,t,r=i.littleEndian){return e.getUint32(t,r)}setValue(e,t,r,n=i.littleEndian){e.setUint32(t,r,n)}}(t.Uint32DataView=i).littleEndian=r.isLittleEndian},7296:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uint8ClampedDataView=void 0;t.Uint8ClampedDataView=class{getValue(e,t){return e.getUint8(t)}setValue(e,t,r){e.setUint8(t,r)}}},7651:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uint8DataView=void 0;t.Uint8DataView=class{getValue(e,t){return e.getUint8(t)}setValue(e,t,r){e.setUint8(t,r)}}},3049:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.populateTypedArrayConstructorMap=void 0,t.populateTypedArrayConstructorMap=function(e){const t=new Map;return t.set(Float64Array,e.f64),t.set(Float32Array,e.f32),t.set(Int32Array,e.i32),t.set(Uint32Array,e.u32),t.set(Int16Array,e.i16),t.set(Uint16Array,e.u16),t.set(Int8Array,e.i8),t.set(Uint8Array,e.u8),t.set(Uint8ClampedArray,e.u8c),t}},8072:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVec2Ctor=void 0;const n=r(9033),i=r(3470);t.getVec2Ctor=function(e){var t=class extends e{constructor(e=2,t,r){super(e,t,r)}getX(){return this[0]}getY(){return this[1]}getMagnitude(){var e=this[0],t=this[1];return Math.sqrt(e*e+t*t)}getMagnitudeSquared(){var e=this[0],t=this[1];return e*e+t*t}update(e,t){this[0]=e,this[1]=t}setX(e){this[0]=e}setY(e){this[1]=e}add(e,t=this.constructor.factory.createOneEmpty()){return t[0]=this[0]+e[0],t[1]=this[1]+e[1],t}subtract(e,t=this.constructor.factory.createOneEmpty()){return t[0]=this[0]-e[0],t[1]=this[1]-e[1],t}vec2Multiply(e,t=this.constructor.factory.createOneEmpty()){return t[0]=this[0]*e[0],t[1]=this[1]*e[1],t}scalarMultiply(e,t=this.constructor.factory.createOneEmpty()){return t[0]=this[0]*e,t[1]=this[1]*e,t}vec2Divide(e,t=this.constructor.factory.createOneEmpty()){return t[0]=this[0]/e[0],t[1]=this[1]/e[1],t}scalarDivide(e,t=this.constructor.factory.createOneEmpty()){return t[0]=this[0]/e,t[1]=this[1]/e,t}normalize(e=this.constructor.factory.createOneEmpty()){var t=this.getMagnitude();return this.scalarDivide(t,e),e}getNormal(e=this.constructor.factory.createOneEmpty()){return e[0]=this[1],e[1]=-this[0],e}dotProduct(e){return this[0]*e[0]+this[1]*e[1]}mat3Multiply(e,t=this.constructor.factory.createOneEmpty()){return t[0]=e[0]*this[0]+e[3]*this[0]+e[6],t[1]=e[1]*this[1]+e[4]*this[1]+e[7],t}bound2d(e){this[0]<e.getXMin()?this[0]=e.getXMin():this[0]>e.getXMax()&&(this[0]=e.getXMax()),this[1]<e.getYMin()?this[1]=e.getYMin():this[1]>e.getYMax()&&(this[1]=e.getYMax())}translate2d(e,t){this[0]+=e,this[1]+=t}getLoggableValue(){return[[this[0],this[1]]]}copyFromBuffer(e,t,r){this.constructor.factory.copyFromBuffer(e,t,this,r)}copyToBuffer(e,t,r){this.constructor.factory.copyToBuffer(e,this,t,r)}castToBaseType(){return this}};return t.factory=new n.Vec2Factory(t,i.NormalizedDataViewProvider.getView(e)),t}},8577:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRange1dCtor=void 0;const n=r(3470),i=(r(9641),r(8072)),a=r(9033),o=r(8774);t.getRange1dCtor=function(e){var t=class extends(0,i.getVec2Ctor)(e){setMin(e){this[0]=e}setMax(e){this[1]=e}getMin(){return this[0]}getMax(){return this[1]}getRange(){return this[1]-this[0]}getCenter(){return.5*(this[0]+this[1])}mat2Multiply(e,t=this.constructor.factory.createOneEmpty()){return t.setMin(e.getVec2MultiplyX(this.getMin())),t.setMax(e.getVec2MultiplyX(this.getMax())),t}unionRange(e,t=this.constructor.factory.createOneEmpty()){return t[0]=(this[0]>e[0]?e:this)[0],t[1]=(this[1]<e[1]?e:this)[1],t}extendRange(e,t=this.constructor.factory.createOneEmpty()){return t[0]=this[0]>e?e:this[0],t[1]=this[1]<e?e:this[1],t}getRangeTransform(e,t=this.constructor.mat2Ctor.factory.createOneEmpty()){var r=e.getRange()/this.getRange();return t[0]=r,t[1]=0,t[2]=e.getMin()-this.getMin()*r,t[3]=1,t}isValueInRange1d(e){return e>=this.getMin()&&e<=this.getMax()}scaleRelativeTo(e,t,r=this.constructor.factory.createOneEmpty()){var n=2*(n=this.getCenter()-t)/this.getRange(),t=this.getRange()*e,e=.5*(this.getRange()-t),n=this.getMin()+e-e*n;return r.setMin(n),r.setMax(n+t),r}bound1d(e){var t;this.getRange()>e.getRange()?(this.setMin(e.getMin()),this.setMax(e.getMax())):this.getMax()>e.getMax()?(t=this.getRange(),this.setMax(e.getMax()),this.setMin(e.getMax()-t)):this.getMin()<e.getMin()&&(t=this.getRange(),this.setMin(e.getMin()),this.setMax(e.getMin()+t))}translate1d(e){this.setMin(this.getMin()+e),this.setMax(this.getMax()+e)}};return t.factory=new a.Vec2Factory(t,n.NormalizedDataViewProvider.getView(e)),t.mat2Ctor=o.Mat2.getCtor(e),t}},7224:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Range1d=void 0;const n=r(8577),i=r(3049);class a extends r(4882).Vec2{static getCtor(e){return a.constructors.get(e)}setMin(e){throw new Error}setMax(e){throw new Error}getMin(){throw new Error}getMax(){throw new Error}getRange(){throw new Error}getCenter(){throw new Error}mat2Multiply(e,t){throw new Error}unionRange(e,t){throw new Error}extendRange(e,t){throw new Error}getRangeTransform(e,t){throw new Error}isValueInRange1d(e){throw new Error}scaleRelativeTo(e,t,r){throw new Error}bound1d(e){throw new Error}translate1d(e){throw new Error}copyFromBuffer(e,t,r){throw new Error}copyToBuffer(e,t,r){throw new Error}castToBaseType(){throw new Error}}t.Range1d=a,a.f64=(0,n.getRange1dCtor)(Float64Array),a.f32=(0,n.getRange1dCtor)(Float32Array),a.u32=(0,n.getRange1dCtor)(Uint32Array),a.i32=(0,n.getRange1dCtor)(Int32Array),a.u16=(0,n.getRange1dCtor)(Uint16Array),a.i16=(0,n.getRange1dCtor)(Int16Array),a.u8c=(0,n.getRange1dCtor)(Uint8ClampedArray),a.u8=(0,n.getRange1dCtor)(Uint8Array),a.i8=(0,n.getRange1dCtor)(Int8Array),a.constructors=(0,i.populateTypedArrayConstructorMap)(a)},9033:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vec2Factory=void 0;class i extends r(9714).ATypedTupleFactory{constructor(e,t){super(2,e.BYTES_PER_ELEMENT,t),this.ctor=e}createOneEmpty(){return new this.ctor}createOne(e,t){const r=this.createOneEmpty();return r[0]=e,r[1]=t,r}copyFromBuffer(e,t,r=this.createOneEmpty(),n=i.littleEndian){return r[0]=this.dataView.getValue(e,t,n),r[1]=this.dataView.getValue(e,t+=this.bytesPerElement,n),r}copyToBuffer(e,t,r,n=i.littleEndian){this.dataView.setValue(e,r,t[0],n),this.dataView.setValue(e,r+=this.bytesPerElement,t[1],n)}}t.Vec2Factory=i},4882:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vec2=void 0;var n=r(9809);const i=r(8072),a=r(3049);class o extends n.ATypedArrayTuple{static getCtor(e){return o.constructors.get(e)}getX(){throw new Error}getY(){throw new Error}getMagnitude(){throw new Error}getMagnitudeSquared(){throw new Error}update(e,t){throw new Error}setX(e){throw new Error}setY(e){throw new Error}add(e,t){throw new Error}subtract(e,t){throw new Error}scalarMultiply(e,t){throw new Error}vec2Multiply(e,t){throw new Error}scalarDivide(e,t){throw new Error}vec2Divide(e,t){throw new Error}normalize(e){throw new Error}getNormal(e){throw new Error}dotProduct(e){throw new Error}mat3Multiply(e,t){throw new Error}bound2d(e){throw new Error}translate2d(e,t){throw new Error}getLoggableValue(){throw new Error}copyFromBuffer(e,t,r){throw new Error}copyToBuffer(e,t,r){throw new Error}castToBaseType(){throw new Error}}t.Vec2=o,o.f64=(0,i.getVec2Ctor)(Float64Array),o.f32=(0,i.getVec2Ctor)(Float32Array),o.u32=(0,i.getVec2Ctor)(Uint32Array),o.i32=(0,i.getVec2Ctor)(Int32Array),o.u16=(0,i.getVec2Ctor)(Uint16Array),o.i16=(0,i.getVec2Ctor)(Int16Array),o.u8c=(0,i.getVec2Ctor)(Uint8ClampedArray),o.u8=(0,i.getVec2Ctor)(Uint8Array),o.i8=(0,i.getVec2Ctor)(Int8Array),o.constructors=(0,a.populateTypedArrayConstructorMap)(o)},1157:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVec3Ctor=void 0;const n=r(6914),i=r(3470);t.getVec3Ctor=function(e){var t=class extends e{constructor(e=3,t,r){super(e,t,r)}getX(){return this[0]}getY(){return this[1]}getZ(){return this[2]}getMagnitude(){var e=this[0],t=this[1],r=this[2];return Math.sqrt(e*e+t*t+r*r)}getMagnitudeSquared(){var e=this[0],t=this[1],r=this[2];return e*e+t*t+r*r}dotProduct(e){return this[0]*e[0]+this[1]*e[1]+this[2]*e[2]}update(e,t,r){this[0]=e,this[1]=t,this[2]=r}setX(e){this[0]=e}setY(e){this[1]=e}setZ(e){this[2]=e}getLoggableValue(){return[[this[0],this[1],this[2]]]}copyFromBuffer(e,t,r){this.constructor.factory.copyFromBuffer(e,t,this,r)}copyToBuffer(e,t,r){this.constructor.factory.copyToBuffer(e,this,t,r)}castToBaseType(){return this}};return t.factory=new n.Vec3Factory(t,i.NormalizedDataViewProvider.getView(e)),t}},6914:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vec3Factory=void 0;class i extends r(9714).ATypedTupleFactory{constructor(e,t){super(3,e.BYTES_PER_ELEMENT,t),this.ctor=e}createOneEmpty(){return new this.ctor}createOne(e,t,r){const n=this.createOneEmpty();return n[0]=e,n[1]=t,n[2]=r,n}copyFromBuffer(e,t,r=this.createOneEmpty(),n=i.littleEndian){return r[0]=this.dataView.getValue(e,t,n),r[1]=this.dataView.getValue(e,t+=this.bytesPerElement,n),r[2]=this.dataView.getValue(e,t+=this.bytesPerElement,n),r}copyToBuffer(e,t,r,n=i.littleEndian){this.dataView.setValue(e,r,t[0],n),this.dataView.setValue(e,r+=this.bytesPerElement,t[1],n),this.dataView.setValue(e,r+=this.bytesPerElement,t[2],n)}}t.Vec3Factory=i},9328:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vec3=void 0;var n=r(9809);const i=r(1157),a=r(3049);class o extends n.ATypedArrayTuple{static getCtor(e){return o.constructors.get(e)}getX(){throw new Error}getY(){throw new Error}getZ(){throw new Error}getMagnitude(){throw new Error}getMagnitudeSquared(){throw new Error}dotProduct(e){throw new Error}update(e,t,r){throw new Error}setX(e){throw new Error}setY(e){throw new Error}setZ(e){throw new Error}getLoggableValue(){throw new Error}copyFromBuffer(e,t,r){throw new Error}copyToBuffer(e,t,r){throw new Error}castToBaseType(){throw new Error}}t.Vec3=o,o.f64=(0,i.getVec3Ctor)(Float64Array),o.f32=(0,i.getVec3Ctor)(Float32Array),o.u32=(0,i.getVec3Ctor)(Uint32Array),o.i32=(0,i.getVec3Ctor)(Int32Array),o.u16=(0,i.getVec3Ctor)(Uint16Array),o.i16=(0,i.getVec3Ctor)(Int16Array),o.u8c=(0,i.getVec3Ctor)(Uint8ClampedArray),o.u8=(0,i.getVec3Ctor)(Uint8Array),o.i8=(0,i.getVec3Ctor)(Int8Array),o.constructors=(0,a.populateTypedArrayConstructorMap)(o)},2682:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVec4Ctor=void 0;const n=r(8087),i=r(3470),a=r(7016);t.getVec4Ctor=function(e){var t=class extends e{constructor(e=4,t,r){super(e,t,r)}setRGBAColor(e,t=!1){return t?(this[0]=.00392156862745098*a.RgbaColorPacker.unpackR(e),this[1]=.00392156862745098*a.RgbaColorPacker.unpackG(e),this[2]=.00392156862745098*a.RgbaColorPacker.unpackB(e),this[3]=.00392156862745098*a.RgbaColorPacker.unpackA(e)):(this[0]=a.RgbaColorPacker.unpackR(e),this[1]=a.RgbaColorPacker.unpackG(e),this[2]=a.RgbaColorPacker.unpackB(e),this[3]=a.RgbaColorPacker.unpackA(e)),this}getPackedRGBAColor(e=!1){return e?a.RgbaColorPacker.packColor(255*this[0],255*this[1],255*this[2],255*this[3]):a.RgbaColorPacker.packColor(this[0],this[1],this[2],this[3])}getX(){return this[0]}getY(){return this[1]}getZ(){return this[2]}getW(){return this[3]}update(e,t,r,n){this[0]=e,this[1]=t,this[2]=r,this[3]=n}setX(e){this[0]=e}setY(e){this[1]=e}setZ(e){this[2]=e}setW(e){this[3]=e}getLoggableValue(){return[[this[0],this[1],this[2]]]}copyFromBuffer(e,t,r){this.constructor.factory.copyFromBuffer(e,t,this,r)}copyToBuffer(e,t,r){this.constructor.factory.copyToBuffer(e,this,t,r)}castToBaseType(){return this}};return t.factory=new n.Vec4Factory(t,i.NormalizedDataViewProvider.getView(e)),t}},8087:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vec4Factory=void 0;class i extends r(9714).ATypedTupleFactory{constructor(e,t){super(4,e.BYTES_PER_ELEMENT,t),this.ctor=e}createOneEmpty(){return new this.ctor}createOne(e,t,r,n){const i=this.createOneEmpty();return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}copyFromBuffer(e,t,r=this.createOneEmpty(),n=i.littleEndian){return r[0]=this.dataView.getValue(e,t,n),r[1]=this.dataView.getValue(e,t+=this.bytesPerElement,n),r[2]=this.dataView.getValue(e,t+=this.bytesPerElement,n),r[3]=this.dataView.getValue(e,t+=this.bytesPerElement,n),r}copyToBuffer(e,t,r,n=i.littleEndian){this.dataView.setValue(e,r,t[0],n),this.dataView.setValue(e,r+=this.bytesPerElement,t[1],n),this.dataView.setValue(e,r+=this.bytesPerElement,t[2],n),this.dataView.setValue(e,r+=this.bytesPerElement,t[3],n)}}t.Vec4Factory=i},437:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vec4=void 0;var n=r(9809);const i=r(2682),a=r(3049);class o extends n.ATypedArrayTuple{static getCtor(e){return o.constructors.get(e)}setRGBAColor(e,t){throw new Error}getPackedRGBAColor(e){throw new Error}getX(){throw new Error}getY(){throw new Error}getZ(){throw new Error}getW(){throw new Error}update(e,t,r,n){throw new Error}setX(e){throw new Error}setY(e){throw new Error}setZ(e){throw new Error}setW(e){throw new Error}getLoggableValue(){throw new Error}copyFromBuffer(e,t,r){throw new Error}copyToBuffer(e,t,r){throw new Error}castToBaseType(){throw new Error}}t.Vec4=o,o.f64=(0,i.getVec4Ctor)(Float64Array),o.f32=(0,i.getVec4Ctor)(Float32Array),o.u32=(0,i.getVec4Ctor)(Uint32Array),o.i32=(0,i.getVec4Ctor)(Int32Array),o.u16=(0,i.getVec4Ctor)(Uint16Array),o.i16=(0,i.getVec4Ctor)(Int16Array),o.u8c=(0,i.getVec4Ctor)(Uint8ClampedArray),o.u8=(0,i.getVec4Ctor)(Uint8Array),o.i8=(0,i.getVec4Ctor)(Int8Array),o.constructors=(0,a.populateTypedArrayConstructorMap)(o)},6543:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircularBuffer=void 0;const n=r(8826);class i{constructor(e){this.values=e,this.size=e.length}static createEmpty(e){return new i(new Array(e))}static createOne(e){return new i(e)}clone(){var e=i.createEmpty(this.size);return(0,n.arrayCopyInto)(this.values,e.values),e}getValue(e){return this.values[this.getAdjustedIndex(e)]}setValue(e,t){this.values[this.getAdjustedIndex(e)]=t}getSetValue(e,t){var r=this.getAdjustedIndex(e),e=this.values[r];return this.values[r]=t,e}getAdjustedIndex(e){var t=this.values.length,e=e%t;return 0<=e?e:t+e}}t.CircularBuffer=i},6931:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircularFIFOStack=t.ECircularStackOverflowMode=void 0;const n=r(6543),i=r(7449);var a;(r=a=t.ECircularStackOverflowMode||(t.ECircularStackOverflowMode={}))[r.NoOp=1]="NoOp",r[r.Exception=2]="Exception",r[r.Overwrite=3]="Overwrite",r[r.Grow=4]="Grow";t.CircularFIFOStack=class o{constructor(e,t=a.Grow){this.start=0,this.end=0,this.capacity=e,this.mode=t,this.buffer=n.CircularBuffer.createEmpty(e)}getCapacity(){return this.capacity}push(e){if(this.start+this.buffer.size==this.end)switch(this.mode){case a.NoOp:return;case a.Exception:i._Production.error("Attempted to push to full stack.");break;case a.Overwrite:this.pop();break;case a.Grow:this.growStack();break;default:i._Production.assertValueIsNever(this.mode)}this.buffer.setValue(this.end++,e)}pop(){return this.getIsEmpty()&&i._Production.error("Attempted to pop empty stack."),this.buffer.getSetValue(this.start++,null)}getIsEmpty(){return this.start==this.end}getRemainingCapacity(){return this.start+this.capacity-this.end}growStack(){const e=new o(2*this.capacity,this.mode);let t=this.capacity;for(;t--;){var r=this.pop();e.push(r)}this.buffer=e.buffer,this.capacity*=2,this.start=e.start,this.end=e.end}}},2364:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirtyCheckedUniqueCollection=void 0;t.DirtyCheckedUniqueCollection=class i{constructor(e){this.isDirty=!0,this.itemsArray=[],this.itemsSet=new Set(e)}get size(){return this.itemsSet.size}static mapInitializeAdd(e,t,r){const n=e.get(t);if(null!=n)return n.reportingAdd(r);{const n=new i;return n.add(r),e.set(t,n),!0}}add(e){this.itemsSet.add(e),this.isDirty=!0}reportingAdd(e){return!this.itemsSet.has(e)&&(this.itemsSet.add(e),this.isDirty=!0)}delete(e){return e=this.itemsSet.delete(e),this.isDirty||(this.isDirty=e),e}has(e){return this.itemsSet.has(e)}clear(){this.isDirty||(this.isDirty=0<this.itemsSet.size),this.itemsSet.clear()}getArray(){return this.isDirty&&(this.itemsArray=Array.from(this.itemsSet),this.isDirty=!1),this.itemsArray}getSet(){return this.itemsSet}}},8769:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ERgbaMasks=t.ERgbaShift=void 0,(r=t.ERgbaShift||(t.ERgbaShift={}))[r.R=0]="R",r[r.G=8]="G",r[r.B=16]="B",r[r.A=24]="A",(t=t.ERgbaMasks||(t.ERgbaMasks={}))[t.R=255]="R",t[t.G=65280]="G",t[t.B=16711680]="B",t[t.A=-16777216]="A"},7016:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RgbaColorPacker=void 0;const i=r(8769);class n{static unpackR(e){return(e&i.ERgbaMasks.R)>>>i.ERgbaShift.R}static unpackG(e){return(e&i.ERgbaMasks.G)>>>i.ERgbaShift.G}static unpackB(e){return(e&i.ERgbaMasks.B)>>>i.ERgbaShift.B}static unpackA(e){return(e&i.ERgbaMasks.A)>>>i.ERgbaShift.A}static packColor(e,t,r,n){return e<<i.ERgbaShift.R|t<<i.ERgbaShift.G|r<<i.ERgbaShift.B|n<<i.ERgbaShift.A}static makeDomColorString(e){const t=n.colorStringTmp;return t[1]=(e&i.ERgbaMasks.R)>>>i.ERgbaShift.R,t[3]=(e&i.ERgbaMasks.G)>>>i.ERgbaShift.G,t[5]=(e&i.ERgbaMasks.B)>>>i.ERgbaShift.B,t[7]=.00392156862745098*((e&i.ERgbaMasks.A)>>>i.ERgbaShift.A),t.join("")}static getHexColorString(e){return e!=e?"NaN":(e=(255&(e&=~i.ERgbaMasks.A))<<16|65280&e|(16711680&e)>>16,n.hexColorTmp[1]=e.toString(16).toUpperCase().padStart(6,"0"),n.hexColorTmp.join(""))}static generateRandomPackedRGBA(){return 255*Math.random()<<i.ERgbaShift.R|255*Math.random()<<i.ERgbaShift.G|255*Math.random()<<i.ERgbaShift.B|255*Math.random()<<i.ERgbaShift.A}}t.RgbaColorPacker=n,n.colorStringTmp=["rgba(",1,",",3,",",5,",",7,")"],n.hexColorTmp=["#",0]},9641:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Debug=void 0;const n=r(2257);class i{static get label(){return i._label}static set label(e){i._label=e}static configureBreakpoint(e){i.onBreakpoint=e}static runBlock(e){return e(),!0}static conditionalBlock(e,t){return this.isFlagSet(e)&&t(),!0}static assert(e,t){if(!e)throw i.isFlagSet("DEBUG_DISABLE_BREAKPOINT")||i.breakpoint(),new Error(`assert fail: ${t}`);return!0}static error(e){throw i.isFlagSet("DEBUG_DISABLE_BREAKPOINT")||i.breakpoint(),new Error(e)}static breakpoint(){return i.onBreakpoint(),!0}static verboseLog(e,t){i.isFlagSet("DEBUG_VERBOSE")&&(null==t?console.debug(e):console.debug(e,t))}static getStackTrace(){var e=new Error;let t=e.stack;if(null==t)try{throw e}catch(e){t=e.stack}return t.toString()}static setFlag(e,t){(0,n.getGlobal)()[e]=t}static isFlagSet(e){return Boolean((0,n.getGlobal)()[e])}}t._Debug=i,i.onBreakpoint=()=>{},i._label=void 0},1091:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RcJsUtilDebugImpl=void 0;r(2257),r(7134),r(9641),r(483),r(7595),r(8091);t.RcJsUtilDebugImpl||(t.RcJsUtilDebugImpl={})},8702:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugPointer=void 0;const i=r(9641),n=r(3196),a=r(7928);t.DebugPointer=class{constructor(e,t,r,n=i._Debug.label){this.pointer=e,this.objectConstructor=t,this.isStatic=r,this.instanceLabel=n,this.creationCallstack=i._Debug.getStackTrace()}toString(){const e=[`WASM address: ${(0,n.numberGetHexString)(this.pointer)}`,`Js constructor name: ${this.objectConstructor.name}`,"\nCall site stack trace follows:",this.creationCallstack];return null!=this.instanceLabel&&(0,a.arrayInsertAtIndex)(e,`Instance label : ${this.instanceLabel}`,2),e.join("\n")}}},2626:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugProtectedView=void 0;const n=r(9641),i=r(566);class a{constructor(e,t){this.safeKeys=e,this.debugInfo=t,this.validViews=new Set}invalidate(){this.validViews.clear()}createProtectedView(r){return this.validViews.add(r),new Proxy(r,{get:(e,t)=>t===a.originalViewKey?r:t===a.isViewValidKey?this.validViews.has(r):t===a.debugMessageKey?`ProtectedView view invalidated - ${this.debugInfo}`:(this.validViews.has(r)||n._Debug.assert((0,i.arrayContains)(this.safeKeys,t),`ProtectedView view invalidated - ${this.debugInfo}`),"function"==typeof r[t]?r[t].bind(r):r[t])})}static unwrapProtectedView(e){var t=e[a.originalViewKey];return null==t?e:(e[a.isViewValidKey]||n._Debug.error(e[a.debugMessageKey]),t)}}(t.DebugProtectedView=a).createTypedArrayView=()=>new a(["BYTES_PER_ELEMENT"],"Shared Array - memory resize danger, refresh instance with getInstance"),a.isViewValidKey=Symbol("isViewValid"),a.originalViewKey=Symbol("originalView"),a.debugMessageKey=Symbol("debugMessage")},7595:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSharedObjectLifeCycleChecks=void 0;const n=r(9641),i=r(8702),a=r(7449);t.DebugSharedObjectLifeCycleChecks=class{constructor(){this.finalizationRegistry=new FinalizationRegistry(e=>{var t;this.debugPointers.has(e)&&(e.isStatic?(t=["Finalization registry found unreleased wasm object allocated by:",e.toString()].join("\n"),n._Debug.error(t)):n._Debug.error(["Leaked shared static object on the JS side:",e.toString()].join("\n")))}),this.owningPointers=new Map,this.sharedObjToPtr=new WeakMap,this.debugPointers=new Set}registerFinalizationCheck(e){const t=this.owningPointers.get(e.getPtr());null!=t&&n._Debug.error(["Address has already been claimed by:",t.toString()].join("\n"));var r=new i.DebugPointer(e.getPtr(),e.constructor,e.isStatic);this.debugPointers.add(r),this.sharedObjToPtr.set(e,r),e.isStatic||this.owningPointers.set(r.pointer,r),this.finalizationRegistry.register(e,r)}markReadyForFinalize(e){e.isStatic||this.owningPointers.delete(e.getPtr());e=this.sharedObjToPtr.get(e);null==e&&a._Production.error("expected to find pointer"),this.debugPointers.delete(e)}}},483:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugWeakBroadcastEvent=void 0;t.DebugWeakBroadcastEvent=class{constructor(e){this.key=e,this.listenersSet=new Set,this.listenersMap=new WeakMap}addListener(e){this.removeListener(e);var t=new WeakRef(e);this.listenersSet.add(t),this.listenersMap.set(e,t)}addTemporaryListener(e){return this.addListener(e),()=>this.removeListener(e)}addOneTimeListener(t){const r={[this.key]:(...e)=>(this.removeListener(r),t[this.key](...e))};return this.addListener(r),()=>this.removeListener(r)}emit(...r){this.listenersSet.forEach(e=>{const t=e.deref();null==t?this.listenersSet.delete(e):t[this.key](...r)})}removeListener(e){var t=this.listenersMap.get(e);null!=t&&(this.listenersMap.delete(e),this.listenersSet.delete(t))}getTargets(){const r=[];return this.listenersSet.forEach(e=>{var t=e.deref();null==t?this.listenersSet.delete(e):r.push(t)}),r}}},7134:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugWeakValue=void 0;r(9641);t.DebugWeakValue=class{constructor(e=new WeakMap){this.values=e}setValue(e,t){this.values.set(e,t)}deleteValue(e){this.values.delete(e)}getValue(e){return this.values.get(e)}}},6360:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Once=void 0,t.Once=function(e,t,r){const n=e[t],i=new WeakMap;e[t]=r.value=function(...e){if(i.has(this))return i.get(this);e=n.apply(this,e);return i.set(this,e),e}}},5342:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Dictionary=void 0;var n=r(8537),i=r(1267),a=r(4287),o=r(6191),s=r(8082),r=r(5647);class c{constructor(){}}(t._Dictionary=c).cloneExtend=a.dictionaryCloneExtend,c.extend=i.dictionaryExtend,c.forEach=o.dictionaryForEach,c.pairs=s.dictionaryPairs,c.push=r.dictionaryPush,c.values=n.dictionaryValues},4287:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dictionaryCloneExtend=void 0;const n=r(1267);t.dictionaryCloneExtend=function(e,t){var r={};return(0,n.dictionaryExtend)(r,e),(0,n.dictionaryExtend)(r,t),r}},1267:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dictionaryExtend=void 0;r(9641),r(6815);t.dictionaryExtend=function(r,n){var i=Object.keys(n);for(let e=0,t=i.length;e<t;++e){var a=i[e];r[a]=n[a]}}},6191:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dictionaryForEach=void 0,t.dictionaryForEach=function(r,n){var i=Object.keys(r);for(let e=0,t=i.length;e<t;++e){var a=i[e];n(r[a],a,r)}}},8082:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dictionaryPairs=void 0,t.dictionaryPairs=function(r){var n=Object.keys(r);const i=new Array(n.length);for(let e=0,t=n.length;e<t;++e){var a=n[e];i[e]=[a,r[a]]}return i}},5647:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dictionaryPush=void 0,t.dictionaryPush=function(e,t,r){const n=e[t];null!=n?n.push(r):e[t]=[r]}},8537:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dictionaryValues=void 0,t.dictionaryValues=function(t){var r=Object.keys(t),n=r.length;const i=new Array(n);for(let e=0;e<n;++e)i[e]=t[r[e]];return i}},9462:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Equality=void 0;var n=r(8143),r=r(767);class i{}(t._Equality=i).allEqual=r.equalityAllEqual,i.areConsistentlyDefined=n.equalityAreConsistentlyDefined},767:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.equalityAllEqual=void 0,t.equalityAllEqual=function(r){if(0===r.length)return!1;var n=r[0];for(let e=1,t=r.length;e<t;++e)if(r[e]!==n)return!1;return!0}},8143:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.equalityAreConsistentlyDefined=void 0,t.equalityAreConsistentlyDefined=function(e,t){return null==e?void 0===e?void 0===t:null===t:null!=t}},2308:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NestableError=void 0;const n=r(9641);class i{constructor(e,t,r){this.message=e,this.causedBy=t,this.stringifyMessage=r,this.stack=n._Debug.getStackTrace()}static isErrorImpl(e,t,r){return r instanceof e&&t(r.message)}static normalizeErrorImpl(e,t,r){return i.isErrorImpl(i,t,e)?e:r(e)}static getRootCauseImpl(e,t,r){e=i.normalizeErrorImpl(e,t,r);return i.isErrorImpl(i,t,e.causedBy)?i.getRootCauseImpl(e.causedBy,t,r):e}toString(){return[this.stringifyMessage(this.message),this.stack].join("\n")}}t.NestableError=i},9581:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BroadcastEvent=void 0;const n=r(8865);t.BroadcastEvent=class{constructor(e){this.key=e,this.listeners=new Set,this.cache=null}addListener(e){this.listeners.add(e),this.cache=null}addTemporaryListener(e){return this.listeners.add(e),this.cache=null,()=>this.removeListener(e)}addOneTimeListener(t){const r={[this.key]:(...e)=>(this.removeListener(r),t[this.key](...e))};return this.addListener(r),()=>this.removeListener(r)}removeListener(e){this.listeners.delete(e),this.cache=null}emit(...t){this.listeners.forEach(e=>e[this.key](...t))}getTargets(){return null==this.cache?this.cache=n._Set.valuesToArray(this.listeners):this.cache}}},1388:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Fp=void 0;var n=r(3899),i=r(8765),a=r(1525),o=r(6612),s=r(8091),c=r(2348),l=r(85),r=r(9187);class d{constructor(){}}(t._Fp=d).debounce=r.fpDebounce,d.identity=n.fpIdentity,d.maybeNewValue=l.fpMaybeNewValue,d.noOp=s.fpNoOp,d.normalizeToNull=i.fpNormalizeToNull,d.normalizeToUndefined=a.fpNormalizeToUndefined,d.once=o.fpOnce,d.valueOrNull=c.fpValueOrNull},9187:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fpDebounce=void 0,t.fpDebounce=function(t,r,n){let i,a,o,s;function c(){var e=Date.now()-a;e<t?i=setTimeout(c,t-e):(i=void 0,r||n.apply(s,o),null==i&&(o=s=null))}function e(...e){return s=this,o=e,a=Date.now(),null==i&&(i=setTimeout(c,t),r&&n.apply(s,o)),i}return e.cancel=function(){clearTimeout(i)},e}},3899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fpIdentity=void 0,t.fpIdentity=function(e){return e}},85:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fpMaybeNewValue=void 0,t.fpMaybeNewValue=function(e,t){return null!=e?e:t}},8091:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fpNoOp=void 0,t.fpNoOp=function(){}},8765:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fpNormalizeToNull=void 0,t.fpNormalizeToNull=function(e){return void 0===e?null:e}},1525:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fpNormalizeToUndefined=void 0,t.fpNormalizeToUndefined=function(e){if(null!==e)return e}},6612:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fpOnce=void 0,t.fpOnce=function(t){let r,n=!1;return(...e)=>n?r:(n=!0,r=t(...e))}},2348:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fpValueOrNull=void 0,t.fpValueOrNull=function(e,t){return e?t:null}},3464:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Identifier=void 0;const n=r(26);class i{constructor(){}static getNextIncrementingId(){return i.globalUidFactory.getNextId()}}t._Identifier=i,i.globalUidFactory=new n.IncrementingIdentifierFactory},26:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IncrementingIdentifierFactory=void 0;t.IncrementingIdentifierFactory=class{constructor(e=1){this.id=e}getNextId(){return this.id++}}},8078:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSharedObjectChecks=t.RawVoidPointer=t.isLittleEndian=t.SharedStaticArray=t.SharedArray=t.getEmscriptenWrapper=t.TemporaryListener=t.AReferenceCounted=t.AOnDestroy=t.ReferenceCountedPtr=t.BroadcastEvent=t.IncrementingIdentifierFactory=t.DebugProtectedView=t.RgbaColorPacker=t.ERgbaShift=t.ERgbaMasks=t.DirtyCheckedUniqueCollection=t.ECircularStackOverflowMode=t.CircularFIFOStack=t.CircularBuffer=t.NormalizedDataViewProvider=t.Vec4=t.Vec3=t.Range1d=t.Vec2=t.Mat4=t.Mat3=t.Mat2=t.Range2d=t.Margin2d=t.ATypedArrayTuple=t._String=t._Set=t._RegExp=t._Path=t._Number=t._F64=t._F32=t._Math=t._Map=t._Iterator=t._Identifier=t._Fp=t._Production=t.NestableError=t._Equality=t._Dictionary=t._Debug=t._Array=t.RcJsUtilDebugImpl=void 0,t.iteratorEmptyIterator=t.promiseRejectNull=t.promiseRejectFalsey=t.fpValueOrNull=t.fpOnce=t.fpNormalizeToUndefined=t.fpNormalizeToNull=t.fpNoOp=t.fpMaybeNewValue=t.fpIdentity=t.fpDebounce=t.Once=t.equalityAreConsistentlyDefined=t.equalityAllEqual=t.dictionaryValues=t.dictionaryPush=t.dictionaryPairs=t.dictionaryForEach=t.dictionaryExtend=t.dictionaryCloneExtend=t.arrayUnique=t.arrayUnion=t.arraySymmetricDifference=t.arraySetDifference=t.arrayReplaceOne=t.arrayRemoveOne=t.arrayRemoveMany=t.arrayPushUnique=t.arrayNormalizeNullishToEmpty=t.arrayNormalizeEmptyToUndefined=t.arrayContains=t.arrayMap=t.arrayMapRange=t.arrayLast=t.arrayIsNotEmpty=t.arrayIsArray=t.arrayIntersect=t.arrayInsertAtIndex=t.arrayIndex=t.arrayGenerateRange=t.arrayForEach=t.arrayFlatMap=t.arrayEmptyArray=t.arrayCopyInto=t.arrayCompactMap=t.arrayCompact=t.arrayCollect=t.arrayBinaryLastIndexOf=t.arrayBinaryIndexOf=t.arrayAddToSet=void 0,t.stringNormalizeNullUndefinedToEmpty=t.stringNormalizeEmptyToUndefined=t.setValuesToArray=t.setSymmetricDifference=t.setSetDifference=t.setIsSetEqual=t.regexEscapeRegex=t.pathJoin=t.Mulberry32Generator=t.NotRandomGenerator=t.numberGetHexString=t.mathMin=t.mathMax=t.mathHypot2=t.mathBoundRandom=t.mathBound=t.mapValuesToArray=t.mapUnion=t.mapSymmetricDifference=t.mapSetDifference=t.mapReportingAddToSet=t.mapRemoveOneFromArray=t.mapRemoveManyFromArray=t.mapPush=t.mapKeysToArray=t.mapIntersect=t.mapInitializeGet=t.mapFirstValue=t.mapFirstKey=t.mapEntriesToArray=t.mapDeleteGet=t.mapDeleteFromSet=t.mapConcat=t.mapClearingDeleteFromSet=t.mapArrayMap=t.mapAddToSet=t.IncrementalUpdater=t.iteratorConsumeAll=void 0;var n=r(1091);Object.defineProperty(t,"RcJsUtilDebugImpl",{enumerable:!0,get:function(){return n.RcJsUtilDebugImpl}});var i=r(9057);Object.defineProperty(t,"_Array",{enumerable:!0,get:function(){return i._Array}});var a=r(9641);Object.defineProperty(t,"_Debug",{enumerable:!0,get:function(){return a._Debug}});var o=r(5342);Object.defineProperty(t,"_Dictionary",{enumerable:!0,get:function(){return o._Dictionary}});var s=r(9462);Object.defineProperty(t,"_Equality",{enumerable:!0,get:function(){return s._Equality}});var c=r(2308);Object.defineProperty(t,"NestableError",{enumerable:!0,get:function(){return c.NestableError}});var l=r(7449);Object.defineProperty(t,"_Production",{enumerable:!0,get:function(){return l._Production}});var d=r(1388);Object.defineProperty(t,"_Fp",{enumerable:!0,get:function(){return d._Fp}});var u=r(3464);Object.defineProperty(t,"_Identifier",{enumerable:!0,get:function(){return u._Identifier}});var h=r(1103);Object.defineProperty(t,"_Iterator",{enumerable:!0,get:function(){return h._Iterator}});var p=r(5862);Object.defineProperty(t,"_Map",{enumerable:!0,get:function(){return p._Map}});var f=r(4921);Object.defineProperty(t,"_Math",{enumerable:!0,get:function(){return f._Math}});var g=r(7144);Object.defineProperty(t,"_F32",{enumerable:!0,get:function(){return g._F32}});var m=r(5860);Object.defineProperty(t,"_F64",{enumerable:!0,get:function(){return m._F64}});var y=r(3866);Object.defineProperty(t,"_Number",{enumerable:!0,get:function(){return y._Number}});var v=r(8460);Object.defineProperty(t,"_Path",{enumerable:!0,get:function(){return v._Path}});var b=r(7187);Object.defineProperty(t,"_RegExp",{enumerable:!0,get:function(){return b._RegExp}});var C=r(8865);Object.defineProperty(t,"_Set",{enumerable:!0,get:function(){return C._Set}});var P=r(848);Object.defineProperty(t,"_String",{enumerable:!0,get:function(){return P._String}});var E=r(9809);Object.defineProperty(t,"ATypedArrayTuple",{enumerable:!0,get:function(){return E.ATypedArrayTuple}});var _=r(4028);Object.defineProperty(t,"Margin2d",{enumerable:!0,get:function(){return _.Margin2d}});var O=r(7592);Object.defineProperty(t,"Range2d",{enumerable:!0,get:function(){return O.Range2d}});var T=r(8774);Object.defineProperty(t,"Mat2",{enumerable:!0,get:function(){return T.Mat2}});var w=r(771);Object.defineProperty(t,"Mat3",{enumerable:!0,get:function(){return w.Mat3}});var S=r(4452);Object.defineProperty(t,"Mat4",{enumerable:!0,get:function(){return S.Mat4}});var M=r(4882);Object.defineProperty(t,"Vec2",{enumerable:!0,get:function(){return M.Vec2}});var A=r(7224);Object.defineProperty(t,"Range1d",{enumerable:!0,get:function(){return A.Range1d}});var R=r(9328);Object.defineProperty(t,"Vec3",{enumerable:!0,get:function(){return R.Vec3}});var x=r(437);Object.defineProperty(t,"Vec4",{enumerable:!0,get:function(){return x.Vec4}});var I=r(3470);Object.defineProperty(t,"NormalizedDataViewProvider",{enumerable:!0,get:function(){return I.NormalizedDataViewProvider}});var G=r(6543);Object.defineProperty(t,"CircularBuffer",{enumerable:!0,get:function(){return G.CircularBuffer}});var j=r(6931);Object.defineProperty(t,"CircularFIFOStack",{enumerable:!0,get:function(){return j.CircularFIFOStack}}),Object.defineProperty(t,"ECircularStackOverflowMode",{enumerable:!0,get:function(){return j.ECircularStackOverflowMode}});var D=r(2364);Object.defineProperty(t,"DirtyCheckedUniqueCollection",{enumerable:!0,get:function(){return D.DirtyCheckedUniqueCollection}});var L=r(8769);Object.defineProperty(t,"ERgbaMasks",{enumerable:!0,get:function(){return L.ERgbaMasks}}),Object.defineProperty(t,"ERgbaShift",{enumerable:!0,get:function(){return L.ERgbaShift}});var B=r(7016);Object.defineProperty(t,"RgbaColorPacker",{enumerable:!0,get:function(){return B.RgbaColorPacker}});var U=r(2626);Object.defineProperty(t,"DebugProtectedView",{enumerable:!0,get:function(){return U.DebugProtectedView}});var F=r(26);Object.defineProperty(t,"IncrementingIdentifierFactory",{enumerable:!0,get:function(){return F.IncrementingIdentifierFactory}});var V=r(9581);Object.defineProperty(t,"BroadcastEvent",{enumerable:!0,get:function(){return V.BroadcastEvent}});var k=r(4494);Object.defineProperty(t,"ReferenceCountedPtr",{enumerable:!0,get:function(){return k.ReferenceCountedPtr}});var z=r(6286);Object.defineProperty(t,"AOnDestroy",{enumerable:!0,get:function(){return z.AOnDestroy}});var N=r(8838);Object.defineProperty(t,"AReferenceCounted",{enumerable:!0,get:function(){return N.AReferenceCounted}});var Y=r(1317);Object.defineProperty(t,"TemporaryListener",{enumerable:!0,get:function(){return Y.TemporaryListener}});var H=r(112);Object.defineProperty(t,"getEmscriptenWrapper",{enumerable:!0,get:function(){return H.getEmscriptenWrapper}});var X=r(5233);Object.defineProperty(t,"SharedArray",{enumerable:!0,get:function(){return X.SharedArray}});var q=r(8587);Object.defineProperty(t,"SharedStaticArray",{enumerable:!0,get:function(){return q.SharedStaticArray}});var W=r(1490);Object.defineProperty(t,"isLittleEndian",{enumerable:!0,get:function(){return W.isLittleEndian}});var $=r(674);Object.defineProperty(t,"RawVoidPointer",{enumerable:!0,get:function(){return $.RawVoidPointer}});var Q=r(2315);Object.defineProperty(t,"DebugSharedObjectChecks",{enumerable:!0,get:function(){return Q.DebugSharedObjectChecks}});var Z=r(3326);Object.defineProperty(t,"arrayAddToSet",{enumerable:!0,get:function(){return Z.arrayAddToSet}});var K=r(2555);Object.defineProperty(t,"arrayBinaryIndexOf",{enumerable:!0,get:function(){return K.arrayBinaryIndexOf}});var J=r(7101);Object.defineProperty(t,"arrayBinaryLastIndexOf",{enumerable:!0,get:function(){return J.arrayBinaryLastIndexOf}});var ee=r(6535);Object.defineProperty(t,"arrayCollect",{enumerable:!0,get:function(){return ee.arrayCollect}});var te=r(252);Object.defineProperty(t,"arrayCompact",{enumerable:!0,get:function(){return te.arrayCompact}});var re=r(507);Object.defineProperty(t,"arrayCompactMap",{enumerable:!0,get:function(){return re.arrayCompactMap}});var ne=r(8826);Object.defineProperty(t,"arrayCopyInto",{enumerable:!0,get:function(){return ne.arrayCopyInto}});var ie=r(3975);Object.defineProperty(t,"arrayEmptyArray",{enumerable:!0,get:function(){return ie.arrayEmptyArray}});var ae=r(9049);Object.defineProperty(t,"arrayFlatMap",{enumerable:!0,get:function(){return ae.arrayFlatMap}});var oe=r(6251);Object.defineProperty(t,"arrayForEach",{enumerable:!0,get:function(){return oe.arrayForEach}});var se=r(6058);Object.defineProperty(t,"arrayGenerateRange",{enumerable:!0,get:function(){return se.arrayGenerateRange}});var ce=r(5026);Object.defineProperty(t,"arrayIndex",{enumerable:!0,get:function(){return ce.arrayIndex}});var le=r(7928);Object.defineProperty(t,"arrayInsertAtIndex",{enumerable:!0,get:function(){return le.arrayInsertAtIndex}});var de=r(663);Object.defineProperty(t,"arrayIntersect",{enumerable:!0,get:function(){return de.arrayIntersect}});var ue=r(6815);Object.defineProperty(t,"arrayIsArray",{enumerable:!0,get:function(){return ue.arrayIsArray}});var he=r(2163);Object.defineProperty(t,"arrayIsNotEmpty",{enumerable:!0,get:function(){return he.arrayIsNotEmpty}});var pe=r(377);Object.defineProperty(t,"arrayLast",{enumerable:!0,get:function(){return pe.arrayLast}});var fe=r(884);Object.defineProperty(t,"arrayMapRange",{enumerable:!0,get:function(){return fe.arrayMapRange}});var ge=r(9729);Object.defineProperty(t,"arrayMap",{enumerable:!0,get:function(){return ge.arrayMap}});var me=r(566);Object.defineProperty(t,"arrayContains",{enumerable:!0,get:function(){return me.arrayContains}});var ye=r(2085);Object.defineProperty(t,"arrayNormalizeEmptyToUndefined",{enumerable:!0,get:function(){return ye.arrayNormalizeEmptyToUndefined}});var ve=r(3785);Object.defineProperty(t,"arrayNormalizeNullishToEmpty",{enumerable:!0,get:function(){return ve.arrayNormalizeNullishToEmpty}});var be=r(1935);Object.defineProperty(t,"arrayPushUnique",{enumerable:!0,get:function(){return be.arrayPushUnique}});var Ce=r(7484);Object.defineProperty(t,"arrayRemoveMany",{enumerable:!0,get:function(){return Ce.arrayRemoveMany}});var Pe=r(885);Object.defineProperty(t,"arrayRemoveOne",{enumerable:!0,get:function(){return Pe.arrayRemoveOne}});var Ee=r(5536);Object.defineProperty(t,"arrayReplaceOne",{enumerable:!0,get:function(){return Ee.arrayReplaceOne}});var _e=r(4620);Object.defineProperty(t,"arraySetDifference",{enumerable:!0,get:function(){return _e.arraySetDifference}});var Oe=r(6414);Object.defineProperty(t,"arraySymmetricDifference",{enumerable:!0,get:function(){return Oe.arraySymmetricDifference}});var Te=r(2405);Object.defineProperty(t,"arrayUnion",{enumerable:!0,get:function(){return Te.arrayUnion}});var we=r(4335);Object.defineProperty(t,"arrayUnique",{enumerable:!0,get:function(){return we.arrayUnique}});var Se=r(4287);Object.defineProperty(t,"dictionaryCloneExtend",{enumerable:!0,get:function(){return Se.dictionaryCloneExtend}});var Me=r(1267);Object.defineProperty(t,"dictionaryExtend",{enumerable:!0,get:function(){return Me.dictionaryExtend}});var Ae=r(6191);Object.defineProperty(t,"dictionaryForEach",{enumerable:!0,get:function(){return Ae.dictionaryForEach}});var Re=r(8082);Object.defineProperty(t,"dictionaryPairs",{enumerable:!0,get:function(){return Re.dictionaryPairs}});var xe=r(5647);Object.defineProperty(t,"dictionaryPush",{enumerable:!0,get:function(){return xe.dictionaryPush}});var Ie=r(8537);Object.defineProperty(t,"dictionaryValues",{enumerable:!0,get:function(){return Ie.dictionaryValues}});var Ge=r(767);Object.defineProperty(t,"equalityAllEqual",{enumerable:!0,get:function(){return Ge.equalityAllEqual}});var je=r(8143);Object.defineProperty(t,"equalityAreConsistentlyDefined",{enumerable:!0,get:function(){return je.equalityAreConsistentlyDefined}});var De=r(6360);Object.defineProperty(t,"Once",{enumerable:!0,get:function(){return De.Once}});var Le=r(9187);Object.defineProperty(t,"fpDebounce",{enumerable:!0,get:function(){return Le.fpDebounce}});var Be=r(3899);Object.defineProperty(t,"fpIdentity",{enumerable:!0,get:function(){return Be.fpIdentity}});var Ue=r(85);Object.defineProperty(t,"fpMaybeNewValue",{enumerable:!0,get:function(){return Ue.fpMaybeNewValue}});var Fe=r(8091);Object.defineProperty(t,"fpNoOp",{enumerable:!0,get:function(){return Fe.fpNoOp}});var Ve=r(8765);Object.defineProperty(t,"fpNormalizeToNull",{enumerable:!0,get:function(){return Ve.fpNormalizeToNull}});var ke=r(1525);Object.defineProperty(t,"fpNormalizeToUndefined",{enumerable:!0,get:function(){return ke.fpNormalizeToUndefined}});var ze=r(6612);Object.defineProperty(t,"fpOnce",{enumerable:!0,get:function(){return ze.fpOnce}});var Ne=r(2348);Object.defineProperty(t,"fpValueOrNull",{enumerable:!0,get:function(){return Ne.fpValueOrNull}});var Ye=r(5515);Object.defineProperty(t,"promiseRejectFalsey",{enumerable:!0,get:function(){return Ye.promiseRejectFalsey}});var He=r(8293);Object.defineProperty(t,"promiseRejectNull",{enumerable:!0,get:function(){return He.promiseRejectNull}});var Xe=r(8943);Object.defineProperty(t,"iteratorEmptyIterator",{enumerable:!0,get:function(){return Xe.iteratorEmptyIterator}});var qe=r(1413);Object.defineProperty(t,"iteratorConsumeAll",{enumerable:!0,get:function(){return qe.iteratorConsumeAll}});var We=r(6157);Object.defineProperty(t,"IncrementalUpdater",{enumerable:!0,get:function(){return We.IncrementalUpdater}});var $e=r(6971);Object.defineProperty(t,"mapAddToSet",{enumerable:!0,get:function(){return $e.mapAddToSet}});var Qe=r(2027);Object.defineProperty(t,"mapArrayMap",{enumerable:!0,get:function(){return Qe.mapArrayMap}});var Ze=r(5895);Object.defineProperty(t,"mapClearingDeleteFromSet",{enumerable:!0,get:function(){return Ze.mapClearingDeleteFromSet}});var Ke=r(9851);Object.defineProperty(t,"mapConcat",{enumerable:!0,get:function(){return Ke.mapConcat}});var Je=r(9270);Object.defineProperty(t,"mapDeleteFromSet",{enumerable:!0,get:function(){return Je.mapDeleteFromSet}});var et=r(7355);Object.defineProperty(t,"mapDeleteGet",{enumerable:!0,get:function(){return et.mapDeleteGet}});var tt=r(1299);Object.defineProperty(t,"mapEntriesToArray",{enumerable:!0,get:function(){return tt.mapEntriesToArray}});var rt=r(261);Object.defineProperty(t,"mapFirstKey",{enumerable:!0,get:function(){return rt.mapFirstKey}});var nt=r(1677);Object.defineProperty(t,"mapFirstValue",{enumerable:!0,get:function(){return nt.mapFirstValue}});var it=r(2764);Object.defineProperty(t,"mapInitializeGet",{enumerable:!0,get:function(){return it.mapInitializeGet}});var at=r(897);Object.defineProperty(t,"mapIntersect",{enumerable:!0,get:function(){return at.mapIntersect}});var ot=r(3139);Object.defineProperty(t,"mapKeysToArray",{enumerable:!0,get:function(){return ot.mapKeysToArray}});var st=r(3264);Object.defineProperty(t,"mapPush",{enumerable:!0,get:function(){return st.mapPush}});var ct=r(5328);Object.defineProperty(t,"mapRemoveManyFromArray",{enumerable:!0,get:function(){return ct.mapRemoveManyFromArray}});var lt=r(2776);Object.defineProperty(t,"mapRemoveOneFromArray",{enumerable:!0,get:function(){return lt.mapRemoveOneFromArray}});var dt=r(9272);Object.defineProperty(t,"mapReportingAddToSet",{enumerable:!0,get:function(){return dt.mapReportingAddToSet}});var ut=r(5751);Object.defineProperty(t,"mapSetDifference",{enumerable:!0,get:function(){return ut.mapSetDifference}});var ht=r(4489);Object.defineProperty(t,"mapSymmetricDifference",{enumerable:!0,get:function(){return ht.mapSymmetricDifference}});var pt=r(9640);Object.defineProperty(t,"mapUnion",{enumerable:!0,get:function(){return pt.mapUnion}});var ft=r(3764);Object.defineProperty(t,"mapValuesToArray",{enumerable:!0,get:function(){return ft.mapValuesToArray}});var gt=r(6432);Object.defineProperty(t,"mathBound",{enumerable:!0,get:function(){return gt.mathBound}});var mt=r(2859);Object.defineProperty(t,"mathBoundRandom",{enumerable:!0,get:function(){return mt.mathBoundRandom}});var yt=r(4950);Object.defineProperty(t,"mathHypot2",{enumerable:!0,get:function(){return yt.mathHypot2}});var vt=r(7253);Object.defineProperty(t,"mathMax",{enumerable:!0,get:function(){return vt.mathMax}});var bt=r(3581);Object.defineProperty(t,"mathMin",{enumerable:!0,get:function(){return bt.mathMin}});var Ct=r(3196);Object.defineProperty(t,"numberGetHexString",{enumerable:!0,get:function(){return Ct.numberGetHexString}});var Pt=r(695);Object.defineProperty(t,"NotRandomGenerator",{enumerable:!0,get:function(){return Pt.NotRandomGenerator}});var Et=r(3997);Object.defineProperty(t,"Mulberry32Generator",{enumerable:!0,get:function(){return Et.Mulberry32Generator}});var _t=r(4596);Object.defineProperty(t,"pathJoin",{enumerable:!0,get:function(){return _t.pathJoin}});var Ot=r(4426);Object.defineProperty(t,"regexEscapeRegex",{enumerable:!0,get:function(){return Ot.regexEscapeRegex}});var Tt=r(2118);Object.defineProperty(t,"setIsSetEqual",{enumerable:!0,get:function(){return Tt.setIsSetEqual}});var wt=r(8888);Object.defineProperty(t,"setSetDifference",{enumerable:!0,get:function(){return wt.setSetDifference}});var St=r(7116);Object.defineProperty(t,"setSymmetricDifference",{enumerable:!0,get:function(){return St.setSymmetricDifference}});var Mt=r(4049);Object.defineProperty(t,"setValuesToArray",{enumerable:!0,get:function(){return Mt.setValuesToArray}});var At=r(1937);Object.defineProperty(t,"stringNormalizeEmptyToUndefined",{enumerable:!0,get:function(){return At.stringNormalizeEmptyToUndefined}});var Rt=r(5028);Object.defineProperty(t,"stringNormalizeNullUndefinedToEmpty",{enumerable:!0,get:function(){return Rt.stringNormalizeNullUndefinedToEmpty}})},1103:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Iterator=void 0;var n=r(1413),r=r(8943);class i{constructor(){}}(t._Iterator=i).emptyIterator=r.iteratorEmptyIterator,i.consumeAll=n.iteratorConsumeAll},1413:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iteratorConsumeAll=void 0,t.iteratorConsumeAll=function(e){for(;!e.next().done;);}},8943:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iteratorEmptyIterator=void 0,t.iteratorEmptyIterator={[Symbol.iterator](){return this},next(){return this.result},result:{done:!0,value:null}}},6157:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IncrementalUpdater=void 0;r(9641);t.IncrementalUpdater=class{constructor(e,t=4){this.updatable=e,this.waitPeriod=t,this.isUpdating=!1,this.update=()=>{var e;null!==(e=this.currentIterator)&&void 0!==e||(this.currentIterator=this.updatable.incrementallyUpdate()),!0===this.currentIterator.next().done?(this.currentIterator=null,this.id=null,this.isUpdating=!1):this.id=setTimeout(this.update,this.waitPeriod)},this.currentIterator=null,this.id=null}cancel(){null!=this.id&&(clearTimeout(this.id),this.id=null,this.isUpdating=!1),this.currentIterator=null}suspend(){null!=this.id&&(clearTimeout(this.id),this.id=null)}beginUpdate(){this.cancel(),this.isUpdating=!0,this.update()}resume(){this.update()}}},8838:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AReferenceCounted=void 0;r(9641);t.AReferenceCounted=class{constructor(){this.references=1}claim(){0!==this.references&&++this.references}release(){0==--this.references&&this.onFree()}getIsDestroyed(){return this.references<=0}}},6286:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AOnDestroy=void 0;const n=r(1317);t.AOnDestroy=class{constructor(){this.onDestroyListener=new n.TemporaryListener}onDestroy(){this.onDestroyListener.clearingEmit()}}},4494:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReferenceCountedPtr=void 0;var n=r(8838);r(9641);const i=r(4256),a=r(9057),o=r(1317);r(1091);class s extends n.AReferenceCounted{constructor(e,t,r){super(),this.isStatic=e,this.wasmPtr=t,this.listenerObj=r,this.wrappedReferences=null,this.onFreeListener=null}getPtr(){return this.wasmPtr}onFree(){null!=this.onFreeListener&&this.onFreeListener.clearingEmit(),null!=this.listenerObj&&this.listenerObj.onFree();const r=this.wrappedReferences;if(null!=r){for(let e=0,t=r.length;e<t;++e)r[e].release();this.wrappedReferences=null}this.wasmPtr=s.nullPtr}bindLifecycle(e){this.takeOwnership(e),e.claim()}takeOwnership(e){var t;const r=this.wrappedReferences=null!==(t=this.wrappedReferences)&&void 0!==t?t:[];r.push(e)}unbindLifecycle(e){null!=this.wrappedReferences&&a._Array.removeOne(this.wrappedReferences,e)&&e.release()}unbindLifecycles(t){if(null!=this.wrappedReferences){const r=new Set(t);let e=t.length;for(;0<e--;){const n=t[e];r.has(n)&&(t.splice(e,1),n.release())}}}registerOnFreeListener(e){var t;this.onFreeListener=null!==(t=this.onFreeListener)&&void 0!==t?t:new o.TemporaryListener,this.onFreeListener.addListener(e)}static getWrappedReferences(e){return e.wrappedReferences}}t.ReferenceCountedPtr=s,s.nullPtr=i.nullPointer},1317:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemporaryListener=void 0;t.TemporaryListener=class{constructor(){this.listeners=[]}clearingEmit(...e){this.emit(...e),this.clearListeners()}emit(...r){const n=this.listeners;for(let e=0,t=n.length;e<t;++e)n[e](...r)}clearListeners(){this.listeners.length=0}initializeListener(e){this.listeners.push(e())}addListener(e){this.listeners.push(e)}getTargets(){return this.listeners}}},5862:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Map=void 0;var n=r(2027),i=r(261),a=r(1677),o=r(2764),s=r(3139),c=r(3264),l=r(3764),d=r(1299),u=r(7355),h=r(6971),p=r(9270),f=r(9272),g=r(5328),m=r(2776),y=r(5751),v=r(4489),b=r(9640),C=r(897),P=r(9851),r=r(5895);class E{constructor(){}}(t._Map=E).addToSet=h.mapAddToSet,E.arrayMap=n.mapArrayMap,E.concat=P.mapConcat,E.deleteFromSet=p.mapDeleteFromSet,E.deleteGet=u.mapDeleteGet,E.clearingDeleteFromSet=r.mapClearingDeleteFromSet,E.entriesToArray=d.mapEntriesToArray,E.firstKey=i.mapFirstKey,E.firstValue=a.mapFirstValue,E.intersect=C.mapIntersect,E.initializeGet=o.mapInitializeGet,E.keysToArray=s.mapKeysToArray,E.push=c.mapPush,E.removeManyFromArray=g.mapRemoveManyFromArray,E.removeOneFromArray=m.mapRemoveOneFromArray,E.reportingAddToSet=f.mapReportingAddToSet,E.setDifference=y.mapSetDifference,E.symmetricDifference=v.mapSymmetricDifference,E.union=b.mapUnion,E.valuesToArray=l.mapValuesToArray},6971:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapAddToSet=void 0,t.mapAddToSet=function(e,t,r){const n=e.get(t);if(null!=n)n.add(r);else{const i=new Set;i.add(r),e.set(t,i)}}},2027:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapArrayMap=void 0,t.mapArrayMap=function(e,r){const n=new Array(e.size);let i=0;return e.forEach((e,t)=>n[i++]=r(e,t)),n}},5895:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapClearingDeleteFromSet=void 0,t.mapClearingDeleteFromSet=function(e,t,r){const n=e.get(t);return null!=n&&(n.delete(r),0===n.size&&e.delete(t),!0)}},9851:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapConcat=void 0,t.mapConcat=function(e,t,r){const n=e.get(t);null!=n?e.set(t,n.concat(r)):e.set(t,r.slice())}},9270:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapDeleteFromSet=void 0,t.mapDeleteFromSet=function(e,t,r){const n=e.get(t);return null!=n&&n.delete(r)}},7355:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapDeleteGet=void 0,t.mapDeleteGet=function(e,t){var r=e.get(t);return e.delete(t),r}},1299:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapEntriesToArray=void 0,t.mapEntriesToArray=function(e){return Array.from(e.entries())}},261:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFirstKey=void 0,t.mapFirstKey=function(e){return e.keys().next().value}},1677:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFirstValue=void 0,t.mapFirstValue=function(e){return e.values().next().value}},897:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapIntersect=void 0,t.mapIntersect=function(e,r){const n=new Map;return e.forEach((e,t)=>{r.has(t)&&n.set(t,e)}),n}},2764:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapInitializeGet=void 0,t.mapInitializeGet=function(e,t,r){let n=e.get(t);return void 0!==n||(n=r(t),e.set(t,n)),n}},3139:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapKeysToArray=void 0,t.mapKeysToArray=function(e){return Array.from(e.keys())}},3264:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapPush=void 0,t.mapPush=function(e,t,r){const n=e.get(t);null!=n?n.push(r):e.set(t,[r])}},5328:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapRemoveManyFromArray=void 0;const n=r(7484);t.mapRemoveManyFromArray=function(e,t,r){return null==(t=e.get(t))?0:(0,n.arrayRemoveMany)(t,r)}},2776:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapRemoveOneFromArray=void 0;const n=r(885);t.mapRemoveOneFromArray=function(e,t,r){return null!=(t=e.get(t))&&(0,n.arrayRemoveOne)(t,r)}},9272:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapReportingAddToSet=void 0,t.mapReportingAddToSet=function(e,t,r){const n=e.get(t);if(null!=n)return!n.has(r)&&(n.add(r),!0);{const i=new Set;return i.add(r),e.set(t,i),!0}}},5751:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapSetDifference=void 0,t.mapSetDifference=function(e,r){const n=new Map;return e.forEach((e,t)=>{r.has(t)||n.set(t,e)}),n}},4489:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapSymmetricDifference=void 0,t.mapSymmetricDifference=function(r,n){const i=new Map;return r.forEach((e,t)=>{n.has(t)||i.set(t,e)}),n.forEach((e,t)=>{r.has(t)||i.set(t,e)}),i}},9640:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapUnion=void 0,t.mapUnion=function(e,t){const r=new Map;return e.forEach((e,t)=>r.set(t,e)),t.forEach((e,t)=>r.set(t,e)),r}},3764:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapValuesToArray=void 0,t.mapValuesToArray=function(e){return Array.from(e.values())}},4921:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Math=void 0;var n=r(3581),i=r(7253),a=r(6432),o=r(2859),r=r(4950);class s{constructor(){}}(t._Math=s).bound=a.mathBound,s.boundRandom=o.mathBoundRandom,s.hypot2=r.mathHypot2,s.min=n.mathMin,s.max=i.mathMax},2859:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mathBoundRandom=void 0;r(9641);t.mathBoundRandom=function(e,t){return Math.random()*(t-e)+e}},6432:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mathBound=void 0;r(9641);t.mathBound=function(e,t,r){return r<e?r:e<t?t:e}},4950:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mathHypot2=void 0,t.mathHypot2=function(e,t){return Math.sqrt(e*e+t*t)}},7253:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mathMax=void 0;r(9641);t.mathMax=function(e,t){return t<e?e:t}},3581:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mathMin=void 0;r(9641);t.mathMin=function(e,t){return t<e?t:e}},3866:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Number=void 0;var n=r(3196),i=r(7144),r=r(5860);class a{constructor(){}}(t._Number=a).f32=i._F32,a.f64=r._F64,a.getHexString=n.numberGetHexString},7144:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._F32=void 0;const n=r(7592);class i{static getPrecision(e){return e*i.mantissaPrecision}static isEqual(e,t,r=i.mantissaPrecision){return Math.abs(e-t)<r}}(t._F32=i).MAX_VALUE=(2-Math.pow(2,-23))*Math.pow(2,127),i.MIN_POSITIVE_VALUE=Math.pow(2,-126),i.bounds=n.Range2d.f32.factory.createOne(-i.MAX_VALUE,i.MAX_VALUE,-i.MAX_VALUE,i.MAX_VALUE),i.mantissaBits=23,i.mantissaPrecision=1/Math.pow(2,23)},5860:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._F64=void 0;const n=r(7592);class i{static getPrecision(e){return e*i.mantissaPrecision}static isEqual(e,t,r=i.mantissaPrecision){return Math.abs(e-t)<r}}(t._F64=i).MAX_VALUE=Number.MAX_VALUE,i.MIN_POSITIVE_VALUE=Number.MIN_VALUE,i.bounds=n.Range2d.f64.factory.createOne(-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE),i.mantissaBits=52,i.mantissaPrecision=1/Math.pow(2,52)},3196:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numberGetHexString=void 0;const r=["0x",0];t.numberGetHexString=function(e){return e!=e?"NaN":(r[1]=e.toString(16).toUpperCase(),r.join(""))}},3997:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mulberry32Generator=void 0;t.Mulberry32Generator=class{constructor(e){this.seed=e}getNext(){var e=this.seed+=1831565813,e=Math.imul(e^e>>>15,1|e);return 2.3283064365386963e-10*(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)}}},695:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotRandomGenerator=void 0;t.NotRandomGenerator=class{constructor(e){this.value=e}getNext(){return this.value}}},8460:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Path=void 0;r=r(4596);class n{constructor(){}}(t._Path=n).join=r.pathJoin},4596:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pathJoin=void 0,t.pathJoin=function(e,t,r="/"){var n=e[e.length-1]===r,i=t[0]===r;return n?i?e.concat(t.substring(1)):e.concat(t):i?e.concat(t):`${e}${r}${t}`}},7449:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Production=void 0;r(9641);class n{static error(e){throw new Error(e)}static createError(e){return new Error(e)}static assertValueIsNever(e){n.error("unexpected code path executed.")}constructor(){}}t._Production=n},5515:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promiseRejectFalsey=void 0;const n=r(1147);t.promiseRejectFalsey=function(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){if(!(yield e))return Promise.reject(t)})}},8293:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promiseRejectNull=void 0;const n=r(1147);t.promiseRejectNull=function(t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){var e=yield t;return null==e?Promise.reject(r):e})}},7187:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._RegExp=void 0;r=r(4426);class n{constructor(){}}(t._RegExp=n).escapeRegex=r.regexEscapeRegex},4426:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexEscapeRegex=void 0,t.regexEscapeRegex=function(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}},2257:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobal=void 0,t.getGlobal=function(){if(void 0!==r.g)return r.g;if("undefined"!=typeof window)return window;throw new Error("unsupported environment")}},8865:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Set=void 0;var n=r(4049),i=r(7116),a=r(8888),r=r(2118);class o{constructor(){}}(t._Set=o).isSetEqual=r.setIsSetEqual,o.setDifference=a.setSetDifference,o.valuesToArray=n.setValuesToArray,o.symmetricDifference=i.setSymmetricDifference},2118:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setIsSetEqual=void 0,t.setIsSetEqual=function(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}},8888:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSetDifference=void 0,t.setSetDifference=function(e,t){const r=[];return e.forEach(e=>{t.has(e)||r.push(e)}),r}},7116:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSymmetricDifference=void 0,t.setSymmetricDifference=function(t,r){const n=[];return t.forEach(e=>{r.has(e)||n.push(e)}),r.forEach(e=>{t.has(e)||n.push(e)}),n}},4049:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setValuesToArray=void 0,t.setValuesToArray=function(e){return Array.from(e.values())}},848:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._String=void 0;var n=r(1937),r=r(5028);class i{constructor(){}}(t._String=i).normalizeEmptyToUndefined=n.stringNormalizeEmptyToUndefined,i.normalizeNullUndefinedToEmpty=r.stringNormalizeNullUndefinedToEmpty},1937:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringNormalizeEmptyToUndefined=void 0,t.stringNormalizeEmptyToUndefined=function(e){if(null!=e&&0!==e.length)return e}},5028:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringNormalizeNullUndefinedToEmpty=void 0,t.stringNormalizeNullUndefinedToEmpty=function(e){return null==e?"":e}},2315:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSharedObjectChecks=void 0;const i=r(9641),a=r(3196),o=r(5028);class n{static registerWithCleanup(e,t,r){return e.sharedObject.registerOnFreeListener(()=>n.unregister(e,r)),n.register(e,t,r)}static register(e,t,r){var n;return null==e.debugOnAllocate&&(e.debugOnAllocate=()=>t.invalidate()),RcJsUtilDebug.protectedViews.setValue(e,t),RcJsUtilDebug.sharedObjectLifeCycleChecks.registerFinalizationCheck(e.sharedObject),RcJsUtilDebug.onAllocate.addListener(e),!e.sharedObject.isStatic&&i._Debug.isFlagSet("DEBUG_VERBOSE_MEMORY_MANAGEMENT")&&(n={stack:i._Debug.getStackTrace()},e=`claimed (${e.sharedObject.isStatic?"static":"instance"}) ${r} ${(0,a.numberGetHexString)(e.sharedObject.getPtr())} - ${(0,o.stringNormalizeNullUndefinedToEmpty)(i._Debug.label)}`,i._Debug.verboseLog(e,n)),t}static unregister(e,t){var r;RcJsUtilDebug.sharedObjectLifeCycleChecks.markReadyForFinalize(e.sharedObject),RcJsUtilDebug.protectedViews.getValue(e).invalidate(),RcJsUtilDebug.protectedViews.deleteValue(e),e.debugOnAllocate=()=>{},RcJsUtilDebug.onAllocate.removeListener(e),!e.sharedObject.isStatic&&i._Debug.isFlagSet("DEBUG_VERBOSE_MEMORY_MANAGEMENT")&&(r=e.sharedObject.isStatic?"static":"instance",i._Debug.verboseLog(`released (${r}) ${t} ${(0,a.numberGetHexString)(e.sharedObject.getPtr())} - ${(0,o.stringNormalizeNullUndefinedToEmpty)(i._Debug.label)}`))}}t.DebugSharedObjectChecks=n},112:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEmscriptenWrapper=void 0;const n=r(1147),o=r(4685),s=r(9581);r(9641),r(483);t.getEmscriptenWrapper=function(t,r,a){return(0,n.__awaiter)(this,void 0,void 0,function*(){const n=new s.BroadcastEvent("onMemoryResize");var e=yield r(Object.assign({wasmMemory:t},a));(0,o.shimWebAssemblyMemory)(t,(e,t,r)=>{i.dataView=new DataView(i.memory.buffer),n.emit(e,t,r)});const i={memory:t,memoryResize:n,instance:e,dataView:new DataView(t.buffer)};return i})}},4256:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nullPointer=void 0,t.nullPointer=0},1490:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLittleEndian=void 0,t.isLittleEndian=1===new DataView(new Float32Array([1]).buffer).getFloat32(0,!0)},674:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawVoidPointer=void 0;const n=r(4494),i=r(4256),a=r(7449);r(2626),r(9641),r(2315),r(3866);t.RawVoidPointer=class o{constructor(e,t,r){this.wrapper=e,this.onMemoryResize=()=>{null!=this.wrapper&&(this.dataView=this.recreateDataView())},this.pointer=t,this.byteSize=r,this.sharedObject=new n.ReferenceCountedPtr(!1,t),this.sharedObject.registerOnFreeListener(this.wrapper.memoryResize.addTemporaryListener(this)),this.sharedObject.registerOnFreeListener(()=>this.wrapper.instance._jsUtilFree(this.pointer)),this.dataView=this.recreateDataView()}static createOne(e,t,r){var n=e.instance._jsUtilMalloc(t);return n==i.nullPointer&&null!=r&&r&&a._Production.error("Failed to allocate memory for raw pointer."),new o(e,n,t)}getDataView(){return this.dataView}recreateDataView(){return new DataView(this.wrapper.memory.buffer,this.pointer,this.byteSize)}}},5233:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedArray=void 0;const a=r(4494),o=(r(9641),r(2626),r(7449)),s=r(4256);r(2315);class c{constructor(e,t,r,n,i){this.onMemoryResize=()=>{this.instance=this.createLocalInstance()},this.sharedObject=new a.ReferenceCountedPtr(!1,i),this.sharedObject.registerOnFreeListener(()=>this.wrapper.instance[this.cDelete](this.sharedObject.getPtr())),this.sharedObject.registerOnFreeListener(r.memoryResize.addTemporaryListener(this)),this.length=n,this.ctor=t,this.cDelete=`_${e}_delete`,this.cGetArrayAddress=`_${e}_getArrayAddress`,this.wrapper=r,this.elementByteSize=t.BYTES_PER_ELEMENT,this.instance=this.createLocalInstance()}static createOneF32(e,t,r=!1,n=!0){return c.createOne("f32SharedArray",e,Float32Array,t,r,n)}static createOneF64(e,t,r=!1,n=!0){return c.createOne("f64SharedArray",e,Float64Array,t,r,n)}static createOne(e,t,r,n,i=!1,a=!0){a=c.allocateMemory(e,t,n,i,a);return a!==s.nullPointer?new c(e,r,t,n,a):null}static allocateMemory(e,t,r,n,i){n=t.instance[`_${e}_createOne`](r,n);return n===s.nullPointer&&i&&o._Production.error("Failed to allocate memory for shared array."),n}getInstance(){return this.instance}createLocalInstance(){var e=this.wrapper.instance[this.cGetArrayAddress](this.sharedObject.getPtr());return new this.ctor(this.wrapper.memory.buffer,e,this.length)}}t.SharedArray=c},8587:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedStaticArray=void 0;r(9641),r(2626);const i=r(4494);r(2315);t.SharedStaticArray=class n{constructor(e,t,r,n){this.onMemoryResize=()=>{this.instance=this.createLocalInstance()},this.sharedObject=new i.ReferenceCountedPtr(!0,r),this.length=n,this.ctor=e,this.wrapper=t,this.elementByteSize=e.BYTES_PER_ELEMENT,this.sharedObject.registerOnFreeListener(t.memoryResize.addTemporaryListener(this)),this.instance=this.createLocalInstance()}static createOneF32(e,t,r){return new n(Float32Array,e,t,r)}static createOneF64(e,t,r){return new n(Float64Array,e,t,r)}getInstance(){return this.instance}createLocalInstance(){return new this.ctor(this.wrapper.memory.buffer,this.sharedObject.getPtr(),this.length)}}},4685:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shimWebAssemblyMemory=void 0,t.shimWebAssemblyMemory=function(r,n){const i=r.grow.bind(r);r.grow=e=>{var t=i(e);return n(r.buffer,t,e),t}}},1147:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__extends:()=>function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},__assign:()=>i,__rest:()=>function(e,t){var r={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r},__decorate:()=>function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,r,o):i(t,r))||o);return 3<a&&o&&Object.defineProperty(t,r,o),o},__param:()=>function(r,n){return function(e,t){n(e,t,r)}},__metadata:()=>function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:()=>function(e,o,s,c){return new(s=s||Promise)(function(r,t){function n(e){try{a(c.next(e))}catch(e){t(e)}}function i(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?r(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(n,i)}a((c=c.apply(e,o||[])).next())})},__generator:()=>function(r,n){var i,a,o,e,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(o=2&t[0]?a.return:t[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,t[1])).done)return o;switch(a=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){s.label=t[1];break}if(6===t[0]&&s.label<o[1]){s.label=o[1],o=t;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(t);break}o[2]&&s.ops.pop(),s.trys.pop();continue}t=n.call(r,s)}catch(e){t=[6,e],a=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},__createBinding:()=>a,__exportStar:()=>function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||a(t,e,r)},__values:()=>s,__read:()=>o,__spread:()=>function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e},__spreadArrays:()=>function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n},__spreadArray:()=>function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},__await:()=>u,__asyncGenerator:()=>function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,a=r.apply(e,t||[]),o=[];return i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i;function n(n){a[n]&&(i[n]=function(r){return new Promise(function(e,t){1<o.push([n,r,e,t])||s(n,r)})})}function s(e,t){try{(r=a[e](t)).value instanceof u?Promise.resolve(r.value.v).then(c,l):d(o[0][2],r)}catch(e){d(o[0][3],e)}var r}function c(e){s("next",e)}function l(e){s("throw",e)}function d(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}},__asyncDelegator:()=>function(n){var e,i;return e={},t("next"),t("throw",function(e){throw e}),t("return"),e[Symbol.iterator]=function(){return this},e;function t(t,r){e[t]=n[t]?function(e){return(i=!i)?{value:u(n[t](e)),done:"return"===t}:r?r(e):e}:r}},__asyncValues:()=>function(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=o[Symbol.asyncIterator];return t?t.call(o):(o=s(o),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(a){e[a]=o[a]&&function(i){return new Promise(function(e,t){var r,n;i=o[a](i),r=e,e=t,n=i.done,t=i.value,Promise.resolve(t).then(function(e){r({value:e,done:n})},e)})}}},__makeTemplateObject:()=>function(e,t){Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t;return e},__importStar:()=>function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return c(t,e),t},__importDefault:()=>function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:()=>function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},__classPrivateFieldSet:()=>function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var a=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]};function s(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}function u(e){return this instanceof u?(this.v=e,this):new u(e)}var c=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}},6877:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dTraceEntityConnector=void 0;const n=r(8078);class i{constructor(e,t,r){this.maxTraceCount=t,this.changeIdGenerator=r,this.xStart=0,this.xStep=0,this.yStart=0,this.yStep=0,this.xCount=0,this.yCount=0,this.dataRange=n.Range2d.getCtor(e).factory.createOneEmpty()}update(e){this.dataRange=e;var t=this.getTickSize(e.getXRange()),r=this.getTickSize(e.getYRange());return this.xStart=i.getStart(e.getXMin(),t),this.yStart=i.getStart(e.getYMin(),r),this.xCount=i.getCount(this.xStart,t,e.getXMax()),this.yCount=i.getCount(this.yStart,r,e.getYMax()),this.xStep=t,this.yStep=r,this.changeIdGenerator.getNextId()}getXTick(e){return this.xStart+this.xStep*e}getYTick(e){return this.yStart+this.yStep*e}getTraceCount(){return this.xCount+this.yCount}getXTraceCount(){return this.xCount}getYTraceCount(){return this.yCount}getTickSize(e){var t=Math.round(Math.log10(e));let r=Math.pow(10,t-1);e=Math.round(e/r);return e<=this.maxTraceCount||(.5*e<=this.maxTraceCount?r*=2:.2*e<=this.maxTraceCount?r*=5:r*=10),r}static getStart(e,t){var r=(e/t|0)*t;return r<e?r+t:r}static getCount(e,t,r){return 1+(r-e)/t|0}}t.Cartesian2dTraceEntityConnector=i},1843:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasCartesian2dAxisLabelGraphicsComponent=void 0;const P=r(9547),n=r(3662);t.CanvasCartesian2dAxisLabelGraphicsComponent=class{constructor(e,t=new n.Cartesian2dAxisLabelGenerator(e)){this.axisLabelGenerator=t,this.type=P.EGraphicsComponentType.Entity,this.specification={},this.transform=new P.NoTransformProvider}getCacheId(){return"CanvasAxisGraphicsComponent"}initialize(){}onBeforeUpdate(){}update(r,e,t){const n=e.context,i=t.drawTransforms.dataToInteractiveArea,a=t.userTransform;var o=this.axisLabelGenerator.update(r,t.canvasDimensions.dpr),s=this.axisLabelGenerator.getCanvas(),c=r.graphicsSettings.axisOptions.padding*t.canvasDimensions.dpr;const l=i.getVec3MultiplyY(t.transformedDataRange.getYMin());n.save();for(let e=0,t=r.data.getXTraceCount();e<t;++e){const g=i.getVec3MultiplyX(a.forwardX(r.data.getXTick(e)));var d=P.SpriteLookup.getXAtIndex(o,e),u=P.SpriteLookup.getYAtIndex(o,e),h=P.SpriteLookup.getWidthAtIndex(o,e),p=P.SpriteLookup.getHeightAtIndex(o,e);n.drawImage(s,d,u,h,p,g-.5*h,l+c,h,p)}var f=r.data.getXTraceCount();const g=i.getVec3MultiplyX(t.transformedDataRange.getXMin());var m=r.graphicsSettings.axisOptions.padding*t.canvasDimensions.dpr;for(let e=0,t=r.data.getYTraceCount();e<t;++e){var y=f+e;const l=i.getVec3MultiplyY(a.forwardY(r.data.getYTick(e)));var v=P.SpriteLookup.getXAtIndex(o,y),b=P.SpriteLookup.getYAtIndex(o,y),C=P.SpriteLookup.getWidthAtIndex(o,y),y=P.SpriteLookup.getHeightAtIndex(o,y);n.drawImage(s,v,b,C,y,g-C-m,l-.5*y,C,y)}n.restore()}}},3662:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dAxisLabelGenerator=void 0;const h=r(9547);class p{constructor(e,t=new h.SpriteProvider(e)){this.spriteProvider=t}getCanvas(){return this.spriteProvider.getCanvas()}update(e,t){const r=e.graphicsSettings.axisOptions;r.isDirty&&r.regenerate(t);const n=e.data;var i=r.maxWidth*t,a=r.fontSize*t;this.spriteProvider.upscaleCanvas(i,n.getTraceCount()*a);var o=p.generateSpriteLookup(e,t);const s=this.spriteProvider.getContext();s.clearRect(0,0,s.canvas.width,s.canvas.height),s.font=r.fontString,s.textBaseline="middle",s.textAlign="center";var c=n.getXTraceCount(),l=.5*a+.5;for(let e=0;e<c;++e){var d=h.SpriteLookup.getYAtIndex(o,e);s.fillText(r.formatNumber(n.getXTick(e)),.5*i,d+l,i)}s.textAlign="right";for(let e=0,t=n.getYTraceCount();e<t;++e){var u=h.SpriteLookup.getYAtIndex(o,c+e);s.fillText(r.formatNumber(n.getYTick(e)),i,u+l,i)}return o}static generateSpriteLookup(e,t){var r=e.data.getTraceCount(),e=e.graphicsSettings.axisOptions,n=h.SpriteLookup.createOne(r),i=e.fontSize*t,a=e.maxWidth*t;for(let e=0;e<r;++e)h.SpriteLookup.setSpriteAtIndex(n,e,0,i*e,a,i);return n}}t.Cartesian2dAxisLabelGenerator=p},8591:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlCartesian2dAxisGraphicsComponent=void 0;const n=r(1147),i=r(3662),a=r(8078),o=(r(3696),r(9547));class s{constructor(e,t,r,n=new i.Cartesian2dAxisLabelGenerator(e)){this.traceBinder=t,this.cameraBinder=r,this.axisLabelGenerator=n,this.type=o.EGraphicsComponentType.Entity,this.config=new a.Mat2.f32,this.bindings={textureMappingAttribute:new o.GlFloatAttribute("axisGc_texMapping",new o.GlFloatBuffer(null),4),spriteGeometryAttribute:new o.GlFloatAttribute("axisGc_spriteGeometry",new o.GlFloatBuffer(new Float32Array([0,0,1,0,0,1,1,1])),2),configUniform:new o.GlMat2Uniform("axisGc_config",this.config),canvasToClipSizeUniform:new o.GlMat3Uniform("traceGc_screenToClipSize",new a.Mat3.f32),labelSpriteTexture2d:new o.GlTexture2d("axisGc_texture",null)},this.transform=new o.GlTransformProvider(this,this.traceBinder,e=>e.userTransform),this.specification=o.GlProgramSpecification.mergeProgramSpecifications([t.specification,r.specification,new o.GlProgramSpecification(o.GlShader.combineShaders([o.mat3MultiplyVec2Shader,c]),l)])}getCacheId(){return["GlAxisGraphicsComponent",this.cameraBinder.getBinderId(),this.traceBinder.getBinderId()].join("_")}getLinkableBinders(){return[this.traceBinder]}initialize(e){this.cameraBinder.initialize(e),this.traceBinder.initialize(e),this.bindings.canvasToClipSizeUniform.initialize(e),this.bindings.configUniform.initialize(e),this.bindings.textureMappingAttribute.initialize(e),this.bindings.spriteGeometryAttribute.initialize(e),this.bindings.labelSpriteTexture2d.initialize(e)}onBeforeUpdate(e,t){this.bindings.spriteGeometryAttribute.bindArray(e);var r=e.sharedState.frameCounter;this.bindings.canvasToClipSizeUniform.setData(t.canvasDimensions.pixelToClipSize,r),this.bindings.canvasToClipSizeUniform.bind(e)}update(e,t,r){this.cameraBinder.setZ(e),this.cameraBinder.update(r.drawTransforms,t,t.sharedState.frameCounter),this.traceBinder.updateData(e,e.changeId),this.traceBinder.bindInstanced(t,1);r=this.axisLabelGenerator.update(e,r.canvasDimensions.dpr);this.bindings.textureMappingAttribute.setData(o.SpriteLookup.toTypedArray(r),e.changeId),this.bindings.textureMappingAttribute.bindArrayInstanced(t,1);r=this.axisLabelGenerator.getCanvas();this.updateConfig(e,r.width,r.height),this.bindings.configUniform.bind(t),this.bindings.labelSpriteTexture2d.updateData(r),this.bindings.labelSpriteTexture2d.bind(t),t.drawInstancedArrays(t.context.TRIANGLE_STRIP,0,4,e.data.getTraceCount())}updateConfig(e,t,r){this.config[0]=e.graphicsSettings.axisOptions.padding,this.config[1]=e.graphicsSettings.axisOptions.padding,this.config[2]=1/t,this.config[3]=1/r}}(0,n.__decorate)([a.Once],s.prototype,"getCacheId",null),t.GlCartesian2dAxisGraphicsComponent=s;const c=new o.GlShader(`

ATTRIBUTE mediump vec4 axisGc_texMapping;
ATTRIBUTE lowp vec2 axisGc_spriteGeometry;
uniform mediump mat2 axisGc_config;
uniform highp mat3 traceGc_screenToClipSize;
VARYING mediump vec2 axisGc_texCoord;

vec2 axisGc_getTexDims()
{
    return axisGc_texMapping.zw;
}

vec2 axisGc_getTexOffset()
{
    return axisGc_texMapping.xy;
}

vec2 axisGc_getPadding()
{
    return axisGc_config[0];
}

vec2 axisGc_getTexScaleFactor()
{
    return axisGc_config[1];
}

vec2 axisGc_getTexCoord()
{
    float invertedY = mix(1., 0., axisGc_spriteGeometry.y);
    vec2 texPos = axisGc_getTexOffset() + axisGc_getTexDims() * vec2(axisGc_spriteGeometry.x, invertedY);
    return texPos * axisGc_getTexScaleFactor();
}

vec4 getPosition()
{
    vec2 near = traceConnector_getPosition()[0];
    vec2 far = traceConnector_getPosition()[1];
    vec3 nearTrace = v_2dCamera_getClipspaceCoords2d(near);

    vec2 offsetDir = sign(near - far);
    vec2 adjustedDimensions = mat3MultiplyVec2(traceGc_screenToClipSize, axisGc_getTexDims() * 0.5);
    adjustedDimensions = mix(-adjustedDimensions, adjustedDimensions, axisGc_spriteGeometry) + offsetDir * adjustedDimensions;
    vec2 labelPadding = mat3MultiplyVec2(traceGc_screenToClipSize, axisGc_getPadding()) * offsetDir.xy;

    return vec4(nearTrace.xy + adjustedDimensions + labelPadding, nearTrace.z, 1);
}

void main()
{
    vec2 texCoord = axisGc_getTexCoord();
    axisGc_texCoord = texCoord;
    gl_Position = getPosition();
}`),l=new o.GlShader(`
uniform highp sampler2D axisGc_texture;
VARYING mediump vec2 axisGc_texCoord;

void main()
{
    setFragmentColor(TEXTURE2D(axisGc_texture, axisGc_texCoord));
}`)},6359:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.populateCartesian2dTraceBindings=void 0,t.populateCartesian2dTraceBindings=function(n){const i=n.data,a=n.graphicsSettings.traces;var o=i.dataRange.getYMin(),s=i.dataRange.getYMax(),n=i.getXTraceCount();for(let e=0,t=n,r=0;e<t;++e){var c=i.getXTick(e);a[r]=c,a[r+1]=o,a[r+2]=c,a[r+3]=s,r+=4}var l=i.dataRange.getXMin(),d=i.dataRange.getXMax();for(let e=0,t=i.getYTraceCount(),r=4*n;e<t;++e){var u=i.getYTick(e);a[r]=l,a[r+1]=u,a[r+2]=d,a[r+3]=u,r+=4}}},4347:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasCartesian2dTraceGraphicsComponent=void 0;const h=r(8078),n=r(9547);t.CanvasCartesian2dTraceGraphicsComponent=class{constructor(){this.type=n.EGraphicsComponentType.Entity,this.specification={},this.transform=new n.NoTransformProvider}getCacheId(){return"CanvasTraceGraphicsComponent"}initialize(){}onBeforeUpdate(){}update(r,n,e){n.context.save(),n.context.beginPath();const i=e.drawTransforms.dataToInteractiveArea,a=e.userTransform;n.context.strokeStyle=h.RgbaColorPacker.getHexColorString(r.graphicsSettings.traceColor),n.context.lineWidth=r.graphicsSettings.traceLinePixelSize;var o=i.getVec3MultiplyY(e.transformedDataRange.getYMin()),s=i.getVec3MultiplyY(e.transformedDataRange.getYMax());for(let e=0,t=r.data.getXTraceCount();e<t;++e){var c=i.getVec3MultiplyX(a.forwardX(r.data.getXTick(e)));n.context.moveTo(c,o),n.context.lineTo(c,s)}var l=i.getVec3MultiplyX(e.transformedDataRange.getXMin()),d=i.getVec3MultiplyX(e.transformedDataRange.getXMax());for(let e=0,t=r.data.getYTraceCount();e<t;++e){var u=i.getVec3MultiplyY(a.forwardY(r.data.getYTick(e)));n.context.moveTo(l,u),n.context.lineTo(d,u)}n.context.stroke(),n.context.restore()}}},3696:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlCartesian2dTraceTransformBinder=t.GlCartesian2dTraceBinder=t.TraceBinderIdentifier=void 0;const n=r(8078),i=r(9547);t.TraceBinderIdentifier=Symbol("trace binder");class a extends i.AGlInstancedBinder{constructor(e=!1){super(),this.bindsOutput=e,this.binderClassificationId=t.TraceBinderIdentifier,this.linkId=c,this.config=n.Mat4.f32.factory.createOneEmpty(),this.colorCache=n.Vec4.f32.factory.createOneEmpty(),this.bindings={positionAttribute:new i.GlFloatAttribute("traceConnector_position",new i.GlFloatBuffer(null),4),configUniform:new i.GlMat4Uniform("traceConnector_config",this.config)},this.specification=new i.GlProgramSpecification(i.GlShader.combineShaders([new i.GlShader(i.GlShader.getShaderFlag("TRACE_CONNECTOR_BINDS_OUTPUT",e),e?300:void 0),o]),s,[],[],e?["traceConnector_outPosition"]:void 0)}getTransformBinder(){return new l(!0)}getBinderId(){return"cartesianTrace2d"}link(r){var n=this.bindings.positionAttribute.getSharableState();for(let e=0,t=r.length;e<t;++e)r[e].bindings.positionAttribute.link(n)}initialize(e){this.bindings.positionAttribute.initialize(e),this.bindings.configUniform.initialize(e)}updateData(e,t){this.bindings.positionAttribute.setData(e.graphicsSettings.traces,t),this.config.setRow(1,this.colorCache.setRGBAColor(e.graphicsSettings.traceColor,!0)),this.config[0]=e.graphicsSettings.traceLinePixelSize,this.bindings.configUniform.setData(this.config,t)}updatePointers(){}bindUniforms(e){this.bindings.configUniform.bind(e)}bindAttributes(e){this.bindings.positionAttribute.bindArray(e)}bindInstanced(e,t,r){this.bindings.positionAttribute.bindArrayInstanced(e,t,r)}}t.GlCartesian2dTraceBinder=a;const o=new i.GlShader(`
ATTRIBUTE highp vec4 traceConnector_position;
uniform lowp mat4 traceConnector_config;

mat2 traceConnector_getPosition()
{
    return mat2(traceConnector_position);
}

float traceConnector_getWidth()
{
    return traceConnector_config[0][0];
}

#ifdef TRACE_CONNECTOR_BINDS_OUTPUT
VARYING vec4 traceConnector_outPosition;

void traceConnector_setPosition(vec2 lower, vec2 upper)
{
    traceConnector_outPosition = vec4(lower, upper);
}
#endif

`),s=new i.GlShader(`
uniform lowp mat4 traceConnector_config;

lowp vec4 traceConnector_getColor()
{
    return traceConnector_config[1];
}
`),c=Symbol("cart-trace-2d");class l extends a{swapBuffers(e){e.bindings.positionAttribute.swapBuffer(this.bindings.positionAttribute)}setResultBuffers(e,t,r,n=r.context.STREAM_DRAW){var i=4*e.data.getTraceCount()*Float32Array.BYTES_PER_ELEMENT;t.bindings.positionAttribute.setSize(r.context,i,n,e.changeId),t.bindings.positionAttribute.bindTransform(r,0)}clearResultBuffers(e){e.context.bindBufferBase(e.context.TRANSFORM_FEEDBACK_BUFFER,0,null)}getTransformId(){return"cartesianTrace2d"}}t.GlCartesian2dTraceTransformBinder=l},6351:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlCartesian2dTraceGraphicsComponent=void 0;const n=r(1147),i=r(8078),a=(r(3696),r(9547));class o{constructor(e,t){this.traceBinder=e,this.cameraBinder=t,this.type=a.EGraphicsComponentType.Entity,this.transform=new a.GlTransformProvider(this,this.traceBinder,e=>e.userTransform),this.specification=a.GlProgramSpecification.mergeProgramSpecifications([e.specification,t.specification,new a.GlProgramSpecification(a.GlShader.combineShaders([a.mat3MultiplyVec2Shader,s]),c,["ANGLE_instanced_arrays"])]),this.bindings={lineGeometryAttribute:new a.GlFloatAttribute("traceGc_lineGeometry",new a.GlFloatBuffer(new Float32Array([0,0,1,0,0,1,1,1])),2),screenToClipSizeUniform:new a.GlMat3Uniform("traceGc_screenToClipSize",new i.Mat3.f32)}}getCacheId(){return["GlTraceGraphicsComponent",this.cameraBinder.getBinderId(),this.traceBinder.getBinderId()].join("_")}getLinkableBinders(){return[this.traceBinder]}initialize(e){this.traceBinder.initialize(e),this.cameraBinder.initialize(e),this.bindings.lineGeometryAttribute.initialize(e),this.bindings.screenToClipSizeUniform.initialize(e)}onBeforeUpdate(e,t){this.bindings.lineGeometryAttribute.bindArray(e,e.context.STATIC_DRAW);var r=e.sharedState.frameCounter;this.bindings.screenToClipSizeUniform.setData(t.canvasDimensions.pixelToClipSize,r),this.bindings.screenToClipSizeUniform.bind(e)}update(e,t,r){this.cameraBinder.setZ(e),this.cameraBinder.update(r.drawTransforms,t,t.sharedState.frameCounter),this.traceBinder.updateInstanced(e,t,e.changeId,1),t.drawInstancedArrays(t.context.TRIANGLE_STRIP,0,4,e.data.getTraceCount())}}(0,n.__decorate)([i.Once],o.prototype,"getCacheId",null),t.GlCartesian2dTraceGraphicsComponent=o;const s=new a.GlShader(`
ATTRIBUTE lowp vec2 traceGc_lineGeometry;
uniform highp mat3 traceGc_screenToClipSize;

vec2 traceGc_getWidth(float width, vec2 rangeSign, vec2 trianglePosition)
{
    vec2 widthOffset = width * rangeSign.yx * (trianglePosition - 0.5);

    return mat3MultiplyVec2(traceGc_screenToClipSize, widthOffset);
}

// tracePosition [xMin, yMin, xMax, yMax]
vec3 traceGc_getPosition(mat2 tracePosition, float width, vec2 trianglePosition)
{
    vec2 min = tracePosition[0];
    vec2 range = tracePosition[1] - min;
    vec3 basePosition = v_2dCamera_getClipspaceCoords2d(range * trianglePosition + min);
    return basePosition + vec3(traceGc_getWidth(width, sign(range), trianglePosition), 0);
}

void main()
{
    vec3 position = traceGc_getPosition(traceConnector_getPosition(), traceConnector_getWidth(), traceGc_lineGeometry);
    gl_Position = vec4(position, 1);
}
`),c=new a.GlShader(`
void main()
{
    setFragmentColor(traceConnector_getColor());
}
`)},7495:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlCartesian2dCameraBinder=void 0;const n=r(8078),i=r(9547);class a extends i.AGlBinder{constructor(){super(...arguments),this.specification=o,this.binderClassificationId=Symbol(),this.bindings=a.getBindings()}getBinderId(){return"GlCamera2d"}initialize(e){this.bindings.cameraWorld.initialize(e),this.bindings.z.initialize(e)}getBinderData(e){return e.drawTransforms}updatePointers(){}setZ(e){this.bindings.z.setData(e.graphicsSettings.zIndexAbs)}updateData(e,t){this.bindings.cameraWorld.setData(e.dataToInteractiveArea,t)}bindUniforms(e){this.bindings.cameraWorld.bind(e),this.bindings.z.bind(e)}bindAttributes(){}static getBindings(){return{cameraWorld:new i.GlMat3Uniform("u_2dCamera_dataToCanvas",new n.Mat3.f32),z:new i.GlFloatUniform("u_2dCamera_z",0)}}}t.GlCartesian2dCameraBinder=a;const o=new i.GlProgramSpecification(i.GlShader.combineShaders([i.mat3MultiplyVec2Shader,new i.GlShader(`
/* === camera2d === */
uniform highp mat3 u_2dCamera_dataToCanvas;
uniform highp float u_2dCamera_z;

vec3 v_2dCamera_getClipspaceCoords2d(vec2 coords)
{
    return vec3(mat3MultiplyVec2(u_2dCamera_dataToCanvas, coords), u_2dCamera_z);
}
`)]),i.emptyShader)},5959:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CartesianUserInteractionTransformProvider=void 0;t.CartesianUserInteractionTransformProvider=class{constructor(e){this.plot=e,this.tmpVec2=e.plotRange.dataRange.getRow(0).fill(0),this.tmp2Vec2=e.plotRange.dataRange.getRow(0).fill(0),this.tmpMat3=e.plotRange.dataRange.getRangeTransform(e.plotRange.dataRange).fill(0)}getTransformedPosition(e,t){const r=this.plot.plotRange;t=t.getRangeTransform(r.transformedDataRange,this.tmpMat3);const n=e.mat3Multiply(t,this.tmpVec2);return r.userTransform.reverseTransformPoint(n,n),n.bound2d(r.dataRange),n}getTransformedDelta(e,t,r,n){const i=this.plot.plotRange;t=t.getRangeTransform(i.transformedDataRange,this.tmpMat3);return this.tmp2Vec2.update(r,n),e.subtract(this.tmp2Vec2,this.tmp2Vec2),this.tmp2Vec2.mat3Multiply(t,this.tmpVec2),e.mat3Multiply(t,this.tmp2Vec2),i.userTransform.reverseTransformPoint(this.tmpVec2,this.tmpVec2),i.userTransform.reverseTransformPoint(this.tmp2Vec2,this.tmp2Vec2),this.tmpVec2.subtract(this.tmp2Vec2,this.tmpVec2)}}},7341:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dFloatPrecisionRangeBounder=void 0;const n=r(8078);class i{constructor(e,t){this.numberUtil=e;const r=this.numberUtil.bounds.slice();r.scalarMultiply(.5,r),r.scaleRelativeTo(t,i.scaleOrigin,r),r.scalarMultiply(2,r),this.maxBounds=r,this.maxZoom=Math.pow(2,this.numberUtil.mantissaBits)}boundRange(e,t,r=this.maxBounds){var n=this.numberUtil.getPrecision(e.getXMaxAbs())*t.getXRange(),t=this.numberUtil.getPrecision(e.getYMaxAbs())*t.getYRange();e.ensureMinRange(n,t),e.bound(r)}}(t.Cartesian2dFloatPrecisionRangeBounder=i).scaleOrigin=n.Vec2.u8.factory.createOne(0,0)},3415:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dInteractionHandler=void 0;const n=r(8078),i=r(665),a=r(9547),o=r(5959);t.Cartesian2dInteractionHandler=class{constructor(e,t,r){this.chart=e,this.plot=t,this.pinchZoomHandler=new i.PinchZoomHandlerCartesian2d(this.plot,this.chart.attachPoint.canvasDims,n.Vec2.f32.factory.createOneEmpty(),0),this.userCallbacks=new a.UserEventHandlerCallbacks(r),this.tmpRange2d=t.plotRange.dataRange.slice().fill(0),this.userTransformProvider=new o.CartesianUserInteractionTransformProvider(t)}onEntityRequiresUpdate(e){a.OnPlotRequiresUpdate.emit(this.plot,e)}onCanvasResized(){}onClick(e,t){this.userCallbacks.onClick(e,t)}onDoubleClick(e,t){this.userCallbacks.onDoubleClick(e,t)}onHover(e,t){this.userCallbacks.onHover(e,t)}onDragStart(e,t){return this.userCallbacks.onDragStart(e,t)}onDragEnd(e){this.userCallbacks.onDragEnd(e)}onDrag(e){this.userCallbacks.onDrag(e)}onPan(e,t,r){const n=this.plot.plotRange,i=this.userTransformProvider.getTransformedDelta(e.pointerCssPosition,this.plot.plotDimensionsOBL.pixelArea.interactiveRange,t,r);this.tmpRange2d.set(n.dataRange),this.tmpRange2d.translateBy(i.getX(),i.getY()),n.updateDataRange(this.tmpRange2d,this.chart.attachPoint.canvasDims),this.userCallbacks.onPan(e,t,r),this.chart.updateOnNextFrame(this.plot)}onPanZoomStart(e,t){this.pinchZoomHandler=new i.PinchZoomHandlerCartesian2d(this.plot,this.chart.attachPoint.canvasDims,e.slice(),t)}onPanZoomChange(e,t,r){this.pinchZoomHandler.onPanZoomChange(t,r),this.userCallbacks.onPanZoomChange(e,t,r),this.chart.updateOnNextFrame(this.plot)}onWheel(e,t){const r=this.plot.plotRange;var n=this.userTransformProvider.getTransformedPosition(e.pointerClipPosition,this.plot.plotDimensionsOBL.clipSpaceArea.interactiveRange);this.tmpRange2d.set(r.dataRange),this.tmpRange2d.scaleRelativeTo(1-.001*t,n,this.tmpRange2d),r.updateDataRange(this.tmpRange2d,this.chart.attachPoint.canvasDims),this.userCallbacks.onWheel(e,t),this.chart.updateOnNextFrame(this.plot)}}},4011:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dPlotSharedQuadTree=void 0;const n=r(8078),i=r(3415),a=r(9547);t.Cartesian2dPlotSharedQuadTree=class{constructor(e,t){this.plot=e,this.options=t,this.temporaryListeners=new n.TemporaryListener,this.interactionGroups=new a.DefaultInteractionGroups(e.updateArgProvider,e)}setQuadTreeInteractionHandler(e,t,r={}){const n=new a.SharedEntityQuadTree(e,12,4);this.populateTree(n),this.configureListeners(n),this.plot.setInteractionHandler(new a.PlotInteractionConnector(()=>new i.Cartesian2dInteractionHandler(t,this.plot,r)),()=>new a.QuadTreeEventTargetProvider(n,this.plot,this.interactionGroups,this.options),a.getChartInitialState)}clearInteractionHandler(){this.plot.clearInteractionHandler()}populateTree(r){var n=this.plot.getEntitiesInGroup(this.interactionGroups.hitTestable);for(let e=0,t=n.length;e<t;++e)r.addEntity(n[e])}configureListeners(t){a.OnPlotDetached.registerOneTimeListener(this.plot,()=>{t.sharedObject.release(),this.temporaryListeners.clearListeners()}),this.temporaryListeners.addListener(a.OnEntityAddedToGroup.registerListener(this.plot,e=>{this.interactionGroups.hitTestable.isEntityInGroup(e)&&t.addEntity(e)})),this.temporaryListeners.addListener(a.OnEntityRemovedFromGroup.registerListener(this.plot,e=>{this.interactionGroups.hitTestable.isEntityInGroup(e)&&t.removeEntity(e)})),this.temporaryListeners.addListener(a.OnEntityRemoved.registerListener(this.plot,e=>{this.interactionGroups.hitTestable.isEntityInGroup(e)&&t.removeEntity(e)}))}}},665:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PinchZoomHandlerCartesian2d=void 0;const i=r(8078),a=r(5959);t.PinchZoomHandlerCartesian2d=class{constructor(e,t,r,n){this.plot=e,this.canvasDims=t,this.prevWidth=n,this.scaleAbout=new i.Vec2.f32,this.canvasToDataTransform=i.Mat3.f32.factory.createOneEmpty(),this.dataRangeTmp=this.plot.plotRange.dataRange.slice(),this.previousCenterPoint=r.slice(),this.userTransformProvider=new a.CartesianUserInteractionTransformProvider(e)}onPanZoomChange(e,t){var r=this.plot.plotRange.dataRange;const n=this.previousCenterPoint;var i=this.userTransformProvider.getTransformedDelta(e,this.plot.plotDimensionsOBL.pixelArea.interactiveRange,n.getX()-e.getX(),n.getY()-e.getY());n.set(e),this.dataRangeTmp.set(r),this.plot.plotDimensionsOBL.cssArea.interactiveRange.getRangeTransform(this.dataRangeTmp,this.canvasToDataTransform),e.mat3Multiply(this.canvasToDataTransform,this.scaleAbout),this.scaleAbout.bound2d(this.dataRangeTmp),this.dataRangeTmp.scaleRelativeTo(this.prevWidth/t,this.scaleAbout,this.dataRangeTmp),this.dataRangeTmp.translateBy(-i[0]*this.canvasDims.dpr,-i[1]*this.canvasDims.dpr),this.plot.plotRange.updateDataRange(this.dataRangeTmp,this.canvasDims),this.prevWidth=t}}},7665:(e,t,r)=>{"use strict";t.nM=t.Gh=t.eF=t.yY=t.m=t.fl=t.os=t.oJ=t.er=t.Li=t.TG=t.Yx=t.w1=t.Do=t.ae=t.OV=t.u6=t.O=t.tu=t.eT=t.GT=t.Qc=t.vd=void 0,t.ZP=t.k$=t.sp=void 0;r(7109);r(1300);var n=r(7616);Object.defineProperty(t,"vd",{enumerable:!0,get:function(){return n.GlTrace2dNaturalLogTransform}});var i=r(89);Object.defineProperty(t,"Qc",{enumerable:!0,get:function(){return i.GlPoint2dNaturalLogTransform}});var a=r(7621);Object.defineProperty(t,"GT",{enumerable:!0,get:function(){return a.Cartesian2dNaturalLogTransform}});var o=r(1823);Object.defineProperty(t,"eT",{enumerable:!0,get:function(){return o.Cartesian2dIdentityTransform}});r(8720);r(2331);var s=r(7863);Object.defineProperty(t,"tu",{enumerable:!0,get:function(){return s.Point2dDisplaySettings}});r(3662);r(1843);r(4347);r(8591);r(3696);r(6351);r(6359);r(6877);var c=r(924);Object.defineProperty(t,"O",{enumerable:!0,get:function(){return c.CanvasCartesian2dUpdateArgProvider}});r(149);var l=r(8058);Object.defineProperty(t,"u6",{enumerable:!0,get:function(){return l.GlCartesian2dUpdateArgProvider}});r(3415);r(665);var d=r(2197);Object.defineProperty(t,"OV",{enumerable:!0,get:function(){return d.GlInterleaved2dPointBinder}});var u=r(8479);Object.defineProperty(t,"ae",{enumerable:!0,get:function(){return u.SharedInterleavedPoint2dHitTestComponent}});r(8394);var h=r(8392);Object.defineProperty(t,"Do",{enumerable:!0,get:function(){return h.CanvasLineGraphicsComponent}});var p=r(7230);Object.defineProperty(t,"w1",{enumerable:!0,get:function(){return p.GlCaplessLineGraphicsComponent}});var f=r(626);Object.defineProperty(t,"Yx",{enumerable:!0,get:function(){return f.GlLineFlatCapGraphicsComponent}});r(1803);r(1632);r(3389);var g=r(1975);Object.defineProperty(t,"TG",{enumerable:!0,get:function(){return g.CanvasCartesian2dPlotFactory}});r(231);r(5940);var m=r(9012);Object.defineProperty(t,"Li",{enumerable:!0,get:function(){return m.Cartesian2dPlotRange}});var y=r(4011);Object.defineProperty(t,"er",{enumerable:!0,get:function(){return y.Cartesian2dPlotSharedQuadTree}});r(1186);r(7494);r(5567);r(3190);r(4188);var v=r(7495);Object.defineProperty(t,"oJ",{enumerable:!0,get:function(){return v.GlCartesian2dCameraBinder}});var b=r(5335);Object.defineProperty(t,"os",{enumerable:!0,get:function(){return b.GlCartesian2dPlotFactory}});r(224);var C=r(5002);Object.defineProperty(t,"fl",{enumerable:!0,get:function(){return C.hoverHighlightLineSegment}});var P=r(3466);Object.defineProperty(t,"m",{enumerable:!0,get:function(){return P.CartesianPlotConstructionOptions}});var E=r(3658);Object.defineProperty(t,"yY",{enumerable:!0,get:function(){return E.Point2dSubcategory}});var _=r(9865);Object.defineProperty(t,"eF",{enumerable:!0,get:function(){return _.Scene2dCategorySorted}});var O=r(4398);Object.defineProperty(t,"Gh",{enumerable:!0,get:function(){return O.Sorted2dUpdateStrategy}});var T=r(9786);Object.defineProperty(t,"nM",{enumerable:!0,get:function(){return T.Update2dGroup}});var w=r(7591);Object.defineProperty(t,"sp",{enumerable:!0,get:function(){return w.SharedInterleavedLine2dQuadIndexerFactory}});var S=r(9170);Object.defineProperty(t,"k$",{enumerable:!0,get:function(){return S.EScreenUnit}});var M=r(4599);Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return M.Cartesian2dAxisLabelConfig}});r(7341);r(4792)},4188:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRangeFromIndexedConnector=void 0;const a=r(8078);t.getRangeFromIndexedConnector=function(r,n=new a.Range1d.f64){var i=r.offsets.size;if(null==i)return null;for(let e=r.getStart(),t=r.getEnd();e<t;++e)n.extendRange(r.getValue(e,i),n);return n}},4289:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndexablePointEntityLineHitTester=void 0;const n=r(8078);class u{static hitTestEntity(e,t,r,n){var i=e.data.offsets.x,a=e.data.offsets.y;const o=n.interactionTransforms.dataToInteractiveArea;u.a.update(o.getVec3MultiplyX(n.userTransform.forwardX(e.data.getValue(t,i))),o.getVec3MultiplyY(n.userTransform.forwardY(e.data.getValue(t,a)))),u.b.update(o.getVec3MultiplyX(n.userTransform.forwardX(e.data.getValue(t+1,i))),o.getVec3MultiplyY(n.userTransform.forwardY(e.data.getValue(t+1,a))));const s=r.subtract(u.a,u.ap);i=r.subtract(u.b,u.bp);const c=u.b.subtract(u.a,u.ab);a=u.getPerpendicularDistanceToLineSegment(c,i,s),r=e.data.offsets.size;let l;if(null!=r){const d=e.graphicsSettings.pointSizeNormalizer.getSizeToPixelTransform();i=d.getVec2MultiplyX(e.data.getValue(t,r)),t=(d.getVec2MultiplyX(e.data.getValue(t+1,r))-i)/c.getMagnitude(),r=s.getMagnitude(),r=Math.sqrt(r*r-a*a);l=.5*(i+t*r)}else l=.5*e.graphicsSettings.pointDisplay.getPixelSize();return a*n.canvasDimensions.dpr<=l}static getPerpendicularDistanceToLineSegment(e,t,r){if(0<e.dotProduct(t))return 1/0;if(e.dotProduct(r)<0)return 1/0;t=e.getX(),e=e.getY();return Math.abs(t*r.getY()-e*r.getX())/Math.sqrt(t*t+e*e)}}t.IndexablePointEntityLineHitTester=u,u.a=n.Vec2.f64.factory.createOneEmpty(),u.b=n.Vec2.f64.factory.createOneEmpty(),u.ab=n.Vec2.f64.factory.createOneEmpty(),u.ap=n.Vec2.f64.factory.createOneEmpty(),u.bp=n.Vec2.f64.factory.createOneEmpty()},7400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndexedPoint2dIdentifier=void 0,t.IndexedPoint2dIdentifier=Symbol("indexed point2d binder")},2197:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlInterleaved2dPointBinder=void 0;const n=r(1147),c=r(8078),i=r(7400),l=r(9547);class d extends l.AGlInstancedBinder{constructor(e,t={pointsToBind:1,bindsOutput:!1}){super(),this.bindingDescriptor=e,this.binderConfig=t,this.binderClassificationId=i.IndexedPoint2dIdentifier,this.linkId=h,this.offsets=c.Vec4.i32.factory.createOneEmpty(),this.uniformsToBind=d.getUniformsToBind(e.offsets),this.bindings=this.getBindings(e,t),this.specification=d.generateProgram(e,t),this.pointsBound=d.isTransformConfig(t)?1:t.pointsToBind}getTransformId(){return"interleavedPoint2d"}getBinderId(){const e=["interleavedPoint2d",this.pointsBound,null==this.bindingDescriptor.offsets.color?"noColor":"color",null==this.bindingDescriptor.offsets.size?"size":"noSize"];return e.join("_")}link(r){var n=this.bindings.pointAttributes[0].getSharableState();for(let e=0,t=r.length;e<t;++e){const i=r[e].bindings.pointAttributes;for(let e=0,t=i.length;e<t;++e)i[e].link(n)}}swapBuffers(e){this.bindings.pointAttributes[0].swapBuffer(e.bindings.pointAttributes[0])}setResultBuffers(e,t,r,n){const i=t.bindings.pointAttributes;t=e.data.getBlockByteSize()*e.data.getLength(),e=e.changeId;i[0].setSize(r.context,t,n,e),i[0].bindTransform(r,0)}getTransformBinder(){return new d(this.bindingDescriptor,Object.assign(Object.assign({},this.binderConfig),{bindsOutput:!0}))}clearResultBuffers(e){e.context.bindBufferBase(e.context.TRANSFORM_FEEDBACK_BUFFER,0,null)}initialize(r){const n=this.bindings.pointAttributes;for(let e=0,t=n.length;e<t;++e)n[e].initialize(r);this.uniformsToBind&u.BindDisplaySettings&&this.bindings.displayConfigUniform.initialize(r),this.uniformsToBind&u.BindSizeTransform&&this.bindings.sizeTransformUniform.initialize(r),this.bindings.offsetUniform.initialize(r)}updateData(e,t){const r=e.data;this.bindings.pointAttributes[0].setData(r.getInterleavedBuffer(),t),this.uniformsToBind&u.BindDisplaySettings&&this.bindings.displayConfigUniform.setData(e.graphicsSettings.pointDisplay,t),this.uniformsToBind&u.BindSizeTransform&&(e=e.graphicsSettings.pointSizeNormalizer.getSizeToPixelTransform(),this.bindings.sizeTransformUniform.setData(e,t)),this.offsets[0]=r.offsets.x,this.offsets[1]=r.offsets.y,null!=r.offsets.size&&(this.offsets[2]=r.offsets.size),null!=r.offsets.color&&(this.offsets[3]=r.offsets.color)}overrideColors(r,e,n){var t=e.graphicsSettings.pointDisplay.highlightedSegments,i=e.data.offsets.color;if(null!=t&&null!=i){const l=this.bindings.pointAttributes[0];var a=e.data.getBlockByteSize(),o=i*Float32Array.BYTES_PER_ELEMENT,s=d.generateOverrides(e,t);for(let e=0,t=s.length;e<t;++e){var c=s[e];l.setSubBufferData(r,c[0]*a+o,c[1],n,e)}}}updatePointers(e){this.setPointers(e.data.getStart(),e.data.getBlockByteSize())}setPointers(e,r){var n=this.bindings.pointAttributes,i=e*r,a=this.pointsBound*r;for(let e=0,t=n.length;e<t;++e){const o=n[e];o.setOffset(i+r*e),o.setStride(a)}}bindUniforms(e){this.bindings.offsetUniform.bind(e),this.uniformsToBind&u.BindDisplaySettings&&this.bindings.displayConfigUniform.bind(e),this.uniformsToBind&u.BindSizeTransform&&this.bindings.sizeTransformUniform.bind(e)}bindAttributes(r){const n=this.bindings.pointAttributes;for(let e=0,t=n.length;e<t;++e)n[e].bindArray(r)}bindInstanced(r,n,i){const a=this.bindings.pointAttributes;for(let e=0,t=a.length;e<t;++e)a[e].bindArrayInstanced(r,n,i)}getBindings(e,r){var n=e.blockElementCount,i=e.byteOffset;const a=[new l.GlFloatAttribute("interleavedPoint_point",new l.GlFloatBuffer(null),n,i)];var o=a[0].getSharableState();if(!d.isTransformConfig(r))for(let e=1,t=r.pointsToBind;e<t;++e){const s=new l.GlFloatAttribute(`interleavedPoint_point${e}`,new l.GlFloatBuffer(null),n,i*e);s.link(o),a.push(s)}return{pointAttributes:a,displayConfigUniform:new l.GlMat4Uniform("interleavedPoint_config",c.Mat4.f32.factory.createOneEmpty()),sizeTransformUniform:new l.GlMat2Uniform("interleavedPoint_sizeTransform",c.Mat2.f32.factory.createOneEmpty()),offsetUniform:new l.GlIVec4Uniform("interleavedPoint_offsets",this.offsets)}}static generateProgram(e,r){var t=d.isTransformConfig(r);const n=[d.getPreprocessorConstants(e,t),l.unpackColorShader,l.mat2MultiplyValueShader,a,o(void 0),s];if(!t)for(let e=1,t=r.pointsToBind;e<t;++e)n.push(o(e));return new l.GlProgramSpecification(l.GlShader.combineShaders(n),l.emptyShader,c._Array.emptyArray,c._Array.emptyArray,t?["interleavedPoint_outPoint"]:c._Array.emptyArray)}static getPreprocessorConstants(e,t){const r=[l.GlShader.getShaderFlag("INTERLEAVED_BINDS_OUTPUT",t),l.GlShader.getShaderFlag("HAS_COLOR_OFFSET",null!=e.offsets.color),l.GlShader.getShaderFlag("HAS_SIZE_OFFSET",null!=e.offsets.size)];return new l.GlShader(r.join("\n"))}static getUniformsToBind(e){return(null==e.color||null==e.size?u.BindDisplaySettings:0)|(null!=e.size?u.BindSizeTransform:0)}static isTransformConfig(e){return Boolean(e.bindsOutput)}static generateOverrides(e,t){var r=e.graphicsSettings.pointDisplay.packedHighlightColor;const n=new Array(2*t.size);let i=0;for(const a of t)n[i]=[a,new Float32Array([r])],n[i+1]=[a+1,new Float32Array([r])],i+=2;return n}}(0,n.__decorate)([c.Once],d.prototype,"getBinderId",null),t.GlInterleaved2dPointBinder=d;const a=new l.GlShader(`
/* === interleaved point connector === */
uniform highp mat4 interleavedPoint_config;
uniform highp mat2 interleavedPoint_sizeTransform;
uniform lowp ivec4 interleavedPoint_offsets;

#define GET_POSITION(NAME, SOURCE) vec2 NAME (void) \\
{ \\
    return vec2( SOURCE [interleavedPoint_offsets.x], SOURCE [interleavedPoint_offsets.y]); \\
}
#define SET_POSITION(NAME, DESTINATION) void NAME (vec2 position) \\
{ \\
    DESTINATION[interleavedPoint_offsets.x] = position.x; \\
    DESTINATION[interleavedPoint_offsets.y] = position.y; \\
}
#define GET_SIZE_FROM_UNIFORM(NAME) float NAME (void) \\
{ \\
    return interleavedPoint_config[0][0]; \\
}
#define GET_SIZE_FROM_ATTRIBUTE(NAME, SOURCE) float NAME (void) \\
{ \\
    return mat2MultiplyValue(interleavedPoint_sizeTransform, SOURCE [interleavedPoint_offsets.z]); \\
}
# define GET_COLOR_FROM_UNIFORM(NAME) vec4 NAME (void) \\
{ \\
    return vec4(interleavedPoint_config[1]); \\
}
# define GET_COLOR_FROM_ATTRIBUTE(NAME, SOURCE) vec4 NAME (void) \\
{ \\
 return unpackColor( SOURCE [interleavedPoint_offsets.w]); \\
}
`);function o(e){e=null==e?"":e.toString();return new l.GlShader(`
ATTRIBUTE highp vec4 interleavedPoint_point${e};

GET_POSITION(pointConnector_getPosition${e}, interleavedPoint_point${e})

#if HAS_SIZE_OFFSET
GET_SIZE_FROM_ATTRIBUTE(pointConnector_getSize${e}, interleavedPoint_point${e})
#else
GET_SIZE_FROM_UNIFORM(pointConnector_getSize${e})
#endif

#if HAS_COLOR_OFFSET
GET_COLOR_FROM_ATTRIBUTE(pointConnector_getColor${e}, interleavedPoint_point${e})
#else
GET_COLOR_FROM_UNIFORM(pointConnector_getColor${e})
#endif
`)}const s=new l.GlShader(`
#if INTERLEAVED_BINDS_OUTPUT
VARYING vec4 interleavedPoint_outPoint;
void pointConnector_copyAllOutputs()
{
    interleavedPoint_outPoint = interleavedPoint_point;
}
SET_POSITION(pointConnector_setPosition, interleavedPoint_outPoint)
#endif
`);var u;(t=u=u||{})[t.BindDisplaySettings=1]="BindDisplaySettings",t[t.BindSizeTransform=2]="BindSizeTransform";const h=Symbol("cart-trace-2d")},8394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InterleavedLine2dHitTestComponent=void 0;const n=r(8078),i=r(4289);class d{hitTest(e,t,r,n){return i.IndexablePointEntityLineHitTester.hitTestEntity(e,t,r,n)}index(e,r,n){const i=d.aabb,a=e.data;var o=e.data.offsets.x,s=e.data.offsets.y,c=e.groupMask,l=e.hitTestId;for(let e=a.getStart(),t=a.getEnd()-1;e<t;++e)i[0]=r.interactionTransforms.dataToInteractiveArea.getVec3MultiplyX(a.getValue(e,o)),i[1]=r.interactionTransforms.dataToInteractiveArea.getVec3MultiplyX(a.getValue(e+1,o)),i[2]=r.interactionTransforms.dataToInteractiveArea.getVec3MultiplyY(a.getValue(e,s)),i[3]=r.interactionTransforms.dataToInteractiveArea.getVec3MultiplyY(a.getValue(e+1,s)),i.ensureAABB(),n.sharedTree.addBoundingBox(i,l,e,c)}}(t.InterleavedLine2dHitTestComponent=d).aabb=new n.Range2d.f32},8720:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedInterleavedCircle2dQuadIndexerFactory=void 0;const n=r(2331);t.SharedInterleavedCircle2dQuadIndexerFactory=class{static createOneF32(e){return n.SharedInterleavedPoint2dQuadIndexer.createOne(e,"f32Interleaved2dCircleQuadIndexer",Float32Array)}static createOneF64(e){return n.SharedInterleavedPoint2dQuadIndexer.createOne(e,"f32Interleaved2dCircleQuadIndexer",Float64Array)}}},7591:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedInterleavedLine2dQuadIndexerFactory=void 0;const n=r(2331);t.SharedInterleavedLine2dQuadIndexerFactory=class{static createOneF32(e){return n.SharedInterleavedPoint2dQuadIndexer.createOne(e,"f32Interleaved2dLineQuadIndexer",Float32Array)}static createOneF64(e){return n.SharedInterleavedPoint2dQuadIndexer.createOne(e,"f64Interleaved2dLineQuadIndexer",Float64Array)}}},8479:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedInterleavedPoint2dHitTestComponent=void 0;const i=r(4289);t.SharedInterleavedPoint2dHitTestComponent=class{constructor(e){this.indexer=e}hitTest(e,t,r,n){return i.IndexablePointEntityLineHitTester.hitTestEntity(e,t,r,n)}index(e,t,r){this.indexer.addToTree(r,e,t.interactionTransforms.dataToInteractiveArea,t.userTransform)}}},2331:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedInterleavedPoint2dQuadIndexer=void 0;const n=r(8078),o=r(1300);class s{constructor(e,t,r){this.wrapper=e,this.cIndex=`_${t}_index`;t=BigInt.asUintN(64,BigInt(this.wrapper.instance[r]())),r=Number(t&BigInt(255));this.connectorOffset=Number(t>>BigInt(8)&BigInt(255)),this.displayConfigOffset=Number(t>>BigInt(16)&BigInt(255)),this.offsetsOffset=Number(t>>BigInt(24)&BigInt(255)),this.sizeTransformOffset=Number(t>>BigInt(32)&BigInt(255)),this.worldTransformOffset=Number(t>>BigInt(40)&BigInt(255)),this.rvp=n.RawVoidPointer.createOne(e,r,!0),this.sharedObject=this.rvp.sharedObject}static createOne(e,t,r){r=4===r.BYTES_PER_ELEMENT?"_f32Interleaved2dQuadIndexer_getOffsets":"_f64Interleaved2dQuadIndexer_getOffsets";return new s(e,t,r)}addToTree(e,t,r,n){const i=t.data,a=this.rvp.getDataView();a.setUint32(0,e.sharedObject.getPtr(),s.littleEndian),a.setUint32(this.connectorOffset,i.sharedObject.getPtr(),s.littleEndian),a.setInt8(this.displayConfigOffset,n.xTransformEnabled?n.transformId:o.ECartesian2dUserTransform.Identity),a.setInt8(this.displayConfigOffset+1,n.yTransformEnabled?n.transformId:o.ECartesian2dUserTransform.Identity),a.setUint16(this.displayConfigOffset+2,t.graphicsSettings.pointDisplay.getPixelSize(),s.littleEndian),a.setInt8(this.offsetsOffset,i.offsets.x),a.setInt8(this.offsetsOffset+1,i.offsets.y),a.setInt8(this.offsetsOffset+2,null==i.offsets.size?-1:i.offsets.size),a.setInt8(this.offsetsOffset+3,null==i.offsets.color?-1:i.offsets.color),t.graphicsSettings.pointSizeNormalizer.getSizeToPixelTransform().copyToBuffer(a,this.sizeTransformOffset),r.copyToBuffer(a,this.worldTransformOffset),this.wrapper.instance[this.cIndex](this.rvp.sharedObject.getPtr(),t.hitTestId,t.groupMask)}}(t.SharedInterleavedPoint2dQuadIndexer=s).littleEndian=n.isLittleEndian},1975:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasCartesian2dPlotFactory=void 0;const n=r(231),i=r(5940),a=r(6877),o=r(5567),s=r(1843),c=r(4347),l=r(9547);class d{static createOne(e,t){var r=t.getPlotArea(e.attachPoint),r=new i.Cartesian2dPlotCtorArg(e,t,r);return new u(r)}static setDefaultAxis(e,t,r){var n=new a.Cartesian2dTraceEntityConnector(Float64Array,t.traceOptions.maxTraceCount,e.changeIdFactory),r=l.CompositeGraphicsComponent.createOne(new c.CanvasCartesian2dTraceGraphicsComponent).addComponent(new s.CanvasCartesian2dAxisLabelGraphicsComponent(r.attachPoint)).build();e.metaCategory.addEntity(new l.ChartDataEntity(n,{traceColor:t.traceOptions.traceColor,traceLinePixelSize:t.traceOptions.traceLinePixelSize,axisOptions:t.axisConfig,zIndexRel:0,zIndexAbs:0},e.changeIdFactory,function(e){this.changeId=this.data.update(e.plotRange)}),r)}}t.CanvasCartesian2dPlotFactory=d;const u=(0,o.createCartesianPlotCtor)(d,new n.CanvasCartesianUpdateHooks(e=>e.plotDimensionsOTL.pixelArea.wholeRange),new n.CanvasCartesianUpdateHooks(e=>e.plotDimensionsOTL.pixelArea.interactiveRange))},5940:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dPlotCtorArg=void 0;t.Cartesian2dPlotCtorArg=class{constructor(e,t,r){this.chart=e,this.plotOptions=t,this.plotArea=r}}},5567:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCartesianPlotCtor=void 0;const i=r(8078),a=r(3190),o=r(9547);t.createCartesianPlotCtor=function(e,t,r){var n=class extends o.Plot{constructor(e){super(e),this.plotListeners=new i.TemporaryListener;var t=this.constructor;this.updateArgProvider=e.plotOptions.updateGroup.updateArgProvider,this.metaCategory=new a.EntityCategory2d(this,e.chart.renderer,e.plotOptions.updateGroup,t.metaUpdateHooks),this.dataCategory=new a.EntityCategory2d(this,e.chart.renderer,e.plotOptions.updateGroup,t.dataUpdateHooks),this.configureDefaults(e.plotOptions,e.chart),this.registerEventHandlers(e.plotOptions)}configureDefaults(e,t){e.useDefaultAxis&&this.constructor.axisFactory.setDefaultAxis(this,e,t)}registerEventHandlers(t){o.OnPlotDetached.registerListener(this,()=>this.plotListeners.clearingEmit()),this.plotListeners.addListener(o.OnCanvasResized.registerListener(this.eventService,()=>{this.setPlotArea(t.getPlotArea(this.attachPoint))})),this.plotListeners.addListener(o.OnDprChanged.registerListener(this.eventService,e=>{t.axisConfig.regenerate(e)}))}};return n.axisFactory=e,n.metaUpdateHooks=t,n.dataUpdateHooks=r,n}},5335:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlCartesian2dPlotFactory=void 0;const n=r(9547),i=r(5940),a=r(3696),o=r(6877),s=r(5567),c=r(7495),l=r(6351),d=r(6359),u=r(8591),h=r(224);class p{static createOne(e,t){var r=t.getPlotArea(e.attachPoint),r=new i.Cartesian2dPlotCtorArg(e,t,r);return new f(r)}static setDefaultAxis(e,t){var r=n.CompositeGraphicsComponent.createOneLinked(new l.GlCartesian2dTraceGraphicsComponent(new a.GlCartesian2dTraceBinder,new c.GlCartesian2dCameraBinder)).addComponent(new u.GlCartesian2dAxisGraphicsComponent(e.attachPoint,new a.GlCartesian2dTraceBinder,new c.GlCartesian2dCameraBinder)).build();e.metaCategory.addEntity(new n.ChartDataEntity(new o.Cartesian2dTraceEntityConnector(Float32Array,t.traceOptions.maxTraceCount,e.changeIdFactory),{traceColor:t.traceOptions.traceColor,traceLinePixelSize:t.traceOptions.traceLinePixelSize,zIndexAbs:0,zIndexRel:0,axisOptions:t.axisConfig,traces:new Float32Array(8*(t.traceOptions.maxTraceCount+3))},e.changeIdFactory,function(e){this.changeId=this.data.update(e.plotRange),(0,d.populateCartesian2dTraceBindings)(this)}),r)}}t.GlCartesian2dPlotFactory=p;const f=(0,s.createCartesianPlotCtor)(p,new h.GlCartesianUpdateHooks(e=>e.plotDimensionsOBL.pixelArea.wholeRange),new h.GlCartesianUpdateHooks(e=>e.plotDimensionsOBL.pixelArea.interactiveRange))},4599:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dAxisLabelConfig=void 0;class r{constructor(e){this.isDirty=!0,Object.assign(this,e),this.fontString=r.createFontString(this,0)}regenerate(e){this.fontString=r.createFontString(this,e),this.isDirty=!1}static createFontString(e,t){return r.tmp[0]=e.fontSize*t,r.tmp[2]=e.fontFamilies.join(" "),r.tmp.join("")}}t.Cartesian2dAxisLabelConfig=r,r.tmp=[12,'px "',"Times new roman",'"']},3466:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CartesianPlotConstructionOptions=void 0;const n=r(8078),i=r(9547),a=r(9170);t.CartesianPlotConstructionOptions=class{constructor(e){this.useDefaultAxis=!0,Object.assign(this,e)}getPlotArea(e){var t=e.canvasDims,r=this.gutterOptions.margins.slice();switch(this.gutterOptions.unit){case a.EScreenUnit.ActualPixel:this.gutterOptions.margins.mat3TransformLength(t.transforms.pixelToClip,r);break;case a.EScreenUnit.Clip:break;case a.EScreenUnit.CssPixel:this.gutterOptions.margins.mat3TransformLength(t.transforms.cssToClip,r);break;default:n._Production.assertValueIsNever(this.gutterOptions.unit)}return i.PlotArea.createOneWithMargins(this.plotPosition,r)}}},9170:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EScreenUnit=void 0,(t=t.EScreenUnit||(t.EScreenUnit={}))[t.Clip=1]="Clip",t[t.ActualPixel=2]="ActualPixel",t[t.CssPixel=3]="CssPixel"},8392:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasLineGraphicsComponent=void 0;const g=r(8078),n=r(9547),i=r(4081),a=r(8902);class o{constructor(){this.type=n.EGraphicsComponentType.Entity,this.specification={},this.transform=new n.NoTransformProvider,this.pointProvider=new s,this.valueProvider=new i.Indexed2dCappedLineValueProvider,this.cappedLine=new a.CanvasVariableWidthCappedLine(this.valueProvider)}getCacheId(){return"CanvasLine"}initialize(){}onBeforeUpdate(){}update(e,t,r){e.data.getLength()<2||(t.context.save(),e.data.getLength()<3||null==e.data.offsets.size?o.drawConstantSizeLine(e,t.context,r):this.drawLineWithPointSize(e,t.context,r,e.data.offsets.size),t.context.restore())}drawLineWithPointSize(r,n,e,i){const a=r.data;var o=a.offsets.x,s=a.offsets.y,t=e.userTransform,c=r.graphicsSettings.pointSizeNormalizer.getSizeToPixelTransform();const l=this.cappedLine;this.pointProvider.update(r,0),this.valueProvider.update(r,e.drawTransforms.dataToInteractiveArea,c,t),l.beginLine(n,this.pointProvider.p1,this.pointProvider.p2);for(let e=a.getStart()+2,t=a.getEnd()-1;e<t;++e)l.setMidPoint(n,a.getValue(e,o),a.getValue(e,s),a.getValue(e,i),d(r,e));t=a.getEnd()-1;l.endLine(n,a.getValue(t,o),a.getValue(t,s),a.getValue(t,i),d(r,t))}static drawConstantSizeLine(r,n,i){const a=r.data;var o=a.offsets.x,s=a.offsets.y,c=a.offsets.color;const l=i.drawTransforms.dataToInteractiveArea,d=i.userTransform;i=a.getStart();let u=l.getVec3MultiplyX(d.forwardX(a.getValue(i,o))),h=l.getVec3MultiplyY(d.forwardY(a.getValue(i,s)));var p=g.RgbaColorPacker.makeDomColorString(r.graphicsSettings.pointDisplay.packedColor),f=g.RgbaColorPacker.makeDomColorString(r.graphicsSettings.pointDisplay.packedHighlightColor);null==c&&(n.strokeStyle=p),n.lineWidth=r.graphicsSettings.pointDisplay.getPixelSize(),n.beginPath(),n.moveTo(u,h);for(let e=i+1,t=a.getEnd();e<t;++e)null!=c?(u=l.getVec3MultiplyX(d.forwardX(a.getValue(e,o))),h=l.getVec3MultiplyY(d.forwardY(a.getValue(e,s))),n.strokeStyle=m(r,e-1)?f:g.RgbaColorPacker.makeDomColorString(r.data.getValue(e,c)),n.lineTo(u,h),n.stroke(),n.beginPath(),n.moveTo(u,h)):m(r,e-1)?(n.stroke(),n.beginPath(),n.moveTo(u,h),n.strokeStyle=f,u=l.getVec3MultiplyX(d.forwardX(a.getValue(e,o))),h=l.getVec3MultiplyY(d.forwardY(a.getValue(e,s))),n.lineTo(u,h),n.stroke(),n.beginPath(),n.moveTo(u,h),n.strokeStyle=p):(u=l.getVec3MultiplyX(d.forwardX(a.getValue(e,o))),h=l.getVec3MultiplyY(d.forwardY(a.getValue(e,s))),n.lineTo(u,h));null==c&&n.stroke()}}t.CanvasLineGraphicsComponent=o;class s{constructor(){this.p1=new g.Vec4.f64,this.p2=new g.Vec4.f64}update(e,t){var r;const n=e.data;this.p1.update(n.getValue(t,n.offsets.x),n.getValue(t,n.offsets.y),null==n.offsets.size?0:n.getValue(t,n.offsets.size),null!==(r=d(e,t))&&void 0!==r?r:0),this.p2.update(n.getValue(t+1,n.offsets.x),n.getValue(t+1,n.offsets.y),null==n.offsets.size?0:n.getValue(t+1,n.offsets.size),null!==(t=d(e,t+1))&&void 0!==t?t:0)}}function d(e,t){if(m(e,t))return e.graphicsSettings.pointDisplay.packedHighlightColor;var r=e.data.offsets.color;return null==r?e.graphicsSettings.pointDisplay.packedColor:e.data.getValue(t,r)}function m(e,t){const r=e.graphicsSettings.pointDisplay;return null!=r.highlightedSegments&&r.highlightedSegments.has(t)}},8902:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasVariableWidthCappedLine=void 0;const n=r(8078),o=r(5128);class s{constructor(e){this.valueProvider=e,this.p1=new n.Vec2.f64,this.p2=new n.Vec2.f64,this.p1Display=new n.Vec2.f64,this.p2Display=new n.Vec2.f64,this.l1Normal=new n.Vec2.f64,this.l2Normal=new n.Vec2.f64,this.cap=new n.Vec2.f64}beginLine(e,t,r){this.valueProvider.setPosition(this.p1,t.getX(),t.getY()),this.valueProvider.setPosition(this.p2,r.getX(),r.getY()),this.p1Display.update(this.valueProvider.getSize(t.getZ()),t.getW()),this.p2Display.update(this.valueProvider.getSize(r.getZ()),r.getW()),o.Context2dRenderUtil.getLineNormal(this.p1,this.p2,this.l1Normal),e.lineWidth=1,e.beginPath(),o.Context2dRenderUtil.moveTo(e,this.p1,this.l1Normal,-this.p1Display[0]),o.Context2dRenderUtil.lineTo(e,this.p1,this.l1Normal,this.p1Display[0])}setMidPoint(e,t,r,n,i){this.endSegment(e,t,r,n,i),o.Context2dRenderUtil.moveTo(e,this.p2,this.cap,-this.p2Display[0]),o.Context2dRenderUtil.lineTo(e,this.p2,this.cap,this.p2Display[0]),this.performSwitcheroo()}endLine(e,t,r,n,i){this.endSegment(e,t,r,n,i),o.Context2dRenderUtil.moveTo(e,this.p2,this.cap,-this.p2Display[0]),o.Context2dRenderUtil.lineTo(e,this.p2,this.cap,this.p2Display[0]),s.fillGap(e,this.p2Display[1]),o.Context2dRenderUtil.lineTo(e,this.p1,this.l2Normal,this.p1Display[0]),o.Context2dRenderUtil.lineTo(e,this.p1,this.l2Normal,-this.p1Display[0]),o.Context2dRenderUtil.closeMidSegment(e,this.p2Display[1])}endSegment(e,t,r,n,i){var a=this.p1Display[1];s.fillGap(e,a),this.valueProvider.setPosition(this.p1,t,r),this.p1Display.update(this.valueProvider.getSize(n),i),o.Context2dRenderUtil.getLineNormal(this.p2,this.p1,this.l2Normal),o.Context2dRenderUtil.normalizedAddition(this.l1Normal,this.l2Normal,this.cap),o.Context2dRenderUtil.lineTo(e,this.p2,this.cap,this.p2Display[0]),o.Context2dRenderUtil.lineTo(e,this.p2,this.cap,-this.p2Display[0]),o.Context2dRenderUtil.closeMidSegment(e,a)}performSwitcheroo(){var e=this.p2;this.p2=this.p1,this.p1=e;e=this.p2Display;this.p2Display=this.p1Display,this.p1Display=e;e=this.l1Normal;this.l1Normal=this.l2Normal,this.l2Normal=e}static fillGap(e,t){e.strokeStyle=n.RgbaColorPacker.makeDomColorString(t),e.stroke()}}t.CanvasVariableWidthCappedLine=s},5128:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context2dRenderUtil=void 0;const n=r(8078);class i{static normalizedAddition(e,t,r){return e.add(t,i.tmp).normalize(r)}static getLineNormal(e,t,r){return t.subtract(e,i.tmp).normalize(i.tmp).getNormal(r)}static moveTo(e,t,r,n){r.scalarMultiply(n,i.tmp),t.add(i.tmp,i.tmp),e.moveTo(i.tmp.getX(),i.tmp.getY())}static lineTo(e,t,r,n){r.scalarMultiply(n,i.tmp),t.add(i.tmp,i.tmp),e.lineTo(i.tmp.getX(),i.tmp.getY())}static closeMidSegment(e,t){e.fillStyle=n.RgbaColorPacker.makeDomColorString(t),e.fill(),e.beginPath()}}t.Context2dRenderUtil=i,i.tmp=new n.Vec2.f64},7230:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlCaplessLineGraphicsComponent=void 0;const n=r(1147),i=r(8078),a=(r(7400),r(9547));class o{constructor(e,t){this.cameraBinder=e,this.indexedBinder=t,this.type=a.EGraphicsComponentType.Entity,this.specification=a.GlProgramSpecification.mergeProgramSpecifications([e.specification,t.specification,s]),this.bindings=o.getBindings(),this.transform=new a.GlTransformProvider(this,this.indexedBinder,e=>e.userTransform)}getCacheId(){return["CaplessLine",this.cameraBinder.getBinderId(),this.indexedBinder.getBinderId()].join("_")}getLinkableBinders(){return[this.indexedBinder]}initialize(e){this.cameraBinder.initialize(e),this.indexedBinder.initialize(e),this.bindings.trianglePositionAttribute.initialize(e),this.bindings.canvasToClipUniform.initialize(e)}onBeforeUpdate(e,t){this.bindings.trianglePositionAttribute.bindArray(e,e.context.STATIC_DRAW);var r=e.sharedState.frameCounter;this.bindings.canvasToClipUniform.setData(t.canvasDimensions.pixelToClipSize,r),this.bindings.canvasToClipUniform.bind(e)}update(e,t,r){e.data.getLength()<2||(this.cameraBinder.setZ(e),this.cameraBinder.update(r.drawTransforms,t,t.sharedState.frameCounter),this.indexedBinder.updateInstanced(e,t,e.changeId,1),this.indexedBinder.overrideColors(t,e,e.changeId),t.drawInstancedArrays(t.context.TRIANGLE_STRIP,0,4,.5*e.data.getLength()|0),this.indexedBinder.setPointers(e.data.getStart()+1,e.data.getBlockByteSize()),this.indexedBinder.bindInstanced(t,1),t.drawInstancedArrays(t.context.TRIANGLE_STRIP,0,4,.5*(e.data.getLength()-1)|0))}static getBindings(){return{trianglePositionAttribute:new a.GlFloatAttribute("caplessLine_trianglePosition",new a.GlFloatBuffer(new Float32Array([0,0,1,0,0,1,1,1])),2),canvasToClipUniform:new a.GlMat3Uniform("caplessLine_canvasToClipSize",new i.Mat3.f32)}}}(0,n.__decorate)([i.Once],o.prototype,"getCacheId",null),t.GlCaplessLineGraphicsComponent=o;r=new a.GlShader(`
/* === capless line === */
ATTRIBUTE lowp vec2 caplessLine_trianglePosition;
uniform highp mat3 caplessLine_canvasToClipSize;
VARYING lowp vec4 caplessLine_lineColor;

float caplessLine_getSize(vec2 sizes)
{
    return mix(sizes[0], sizes[1], caplessLine_trianglePosition.y);
}

vec2 caplessLine_getAdjustedPoistion(vec2 p1, vec2 p2, vec2 sizes)
{
    vec2 normal = generate2dLineNormal(p1, p2, vec2(1));
    vec2 position = mix(p1, p2, caplessLine_trianglePosition.y);

    float xSign = caplessLine_trianglePosition.x * 2. - 1.;
    vec2 pixelWidthOffset = xSign * caplessLine_getSize(sizes) * normal;

    return position + mat3MultiplyVec2(caplessLine_canvasToClipSize, pixelWidthOffset);
}

vec4 caplessLine_getColor(vec4 p1Color, vec4 p2Color)
{
    return mix(p1Color, p2Color, caplessLine_trianglePosition.y);
}

void main()
{
    vec3 p1 = v_2dCamera_getClipspaceCoords2d(pointConnector_getPosition());
    vec3 p2 = v_2dCamera_getClipspaceCoords2d(pointConnector_getPosition1());
    vec2 sizes = vec2(pointConnector_getSize(), pointConnector_getSize1()) * 0.5;

    gl_Position = vec4(caplessLine_getAdjustedPoistion(p1.xy, p2.xy, sizes), p1.z, 1);
    
    vec4 p1Color = pointConnector_getColor();
    vec4 p2Color = pointConnector_getColor1();
    caplessLine_lineColor = caplessLine_getColor(p1Color, p2Color);
}
`),t=new a.GlShader(`
VARYING lowp vec4 caplessLine_lineColor;

void main()
{
    setFragmentColor(caplessLine_lineColor);
}
`);const s=new a.GlProgramSpecification(a.GlShader.combineShaders([a.generate2LinedNormalShader,a.mat3MultiplyVec2Shader,r]),t,["ANGLE_instanced_arrays"])},626:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlLineFlatCapGraphicsComponent=void 0;const n=r(1147),i=r(8078),a=(r(7400),r(9547));class o{constructor(e,t){this.cameraBinder=e,this.indexedBinder=t,this.type=a.EGraphicsComponentType.Entity,this.specification=a.GlProgramSpecification.mergeProgramSpecifications([e.specification,t.specification,s]),this.bindings=o.getBindings(),this.transform=new a.GlTransformProvider(this,this.indexedBinder,e=>e.userTransform)}getCacheId(){return["GlFlatCapLine",this.cameraBinder.getBinderId(),this.indexedBinder.getBinderId()].join("_")}getLinkableBinders(){return[this.indexedBinder]}initialize(e){this.cameraBinder.initialize(e),this.indexedBinder.initialize(e),this.bindings.capGeometryAttribute.initialize(e),this.bindings.canvasToClipUniform.initialize(e)}onBeforeUpdate(e,t){this.bindings.capGeometryAttribute.bindArray(e,e.context.STATIC_DRAW);var r=e.sharedState.frameCounter;this.bindings.canvasToClipUniform.setData(t.canvasDimensions.pixelToClipSize,r),this.bindings.canvasToClipUniform.bind(e)}update(e,t,r){var n=e.data.getLength();n<3||(this.cameraBinder.setZ(e),this.cameraBinder.update(r.drawTransforms,t,t.sharedState.frameCounter),this.indexedBinder.updateInstanced(e,t,e.changeId,1),this.indexedBinder.overrideColors(t,e,e.changeId),t.drawInstancedArrays(t.context.TRIANGLE_STRIP,0,4,.3333333333333333*n|0),r=e.data.getStart(),this.indexedBinder.setPointers(r+1,e.data.getBlockByteSize()),this.indexedBinder.bindInstanced(t,1),t.drawInstancedArrays(t.context.TRIANGLE_STRIP,0,4,.3333333333333333*(n-1)|0),this.indexedBinder.updatePointers(e),this.indexedBinder.setPointers(r+2,e.data.getBlockByteSize()),this.indexedBinder.bindInstanced(t,1),t.drawInstancedArrays(t.context.TRIANGLE_STRIP,0,4,.3333333333333333*(n-2)|0))}static getBindings(){return{capGeometryAttribute:new a.GlFloatAttribute("caplessLine_trianglePosition",new a.GlFloatBuffer(new Float32Array([1,0,0,0,1,1,0,1])),2),canvasToClipUniform:new a.GlMat3Uniform("caplessLine_canvasToClipSize",new i.Mat3.f32)}}}(0,n.__decorate)([i.Once],o.prototype,"getCacheId",null),t.GlLineFlatCapGraphicsComponent=o;r=new a.GlShader(`
/* === capless line === */
ATTRIBUTE lowp vec2 caplessLine_trianglePosition;
uniform highp mat3 caplessLine_canvasToClipSize;
VARYING lowp vec4 caplessLine_lineColor;

vec2 caplessLine_getAdjustedPoistion(vec2 p1, vec2 p2, vec2 p3, float p2Size)
{
    vec2 l1Normal = generate2dLineNormal(p1, p2, vec2(1));
    vec2 l2Normal = generate2dLineNormal(p2, p3, vec2(1));
    vec2 normal = mix(l2Normal, l1Normal, caplessLine_trianglePosition.y);

    float xSign = caplessLine_trianglePosition.x * 2. - 1.;
    vec2 pixelWidthOffset = xSign * p2Size * normal;

    return p2 + mat3MultiplyVec2(caplessLine_canvasToClipSize, pixelWidthOffset);
}

void main()
{
    vec3 p1 = v_2dCamera_getClipspaceCoords2d(pointConnector_getPosition());
    vec3 p2 = v_2dCamera_getClipspaceCoords2d(pointConnector_getPosition1());
    vec3 p3 = v_2dCamera_getClipspaceCoords2d(pointConnector_getPosition2());
    float p2Size =  pointConnector_getSize1() * 0.5;

    gl_Position = vec4(caplessLine_getAdjustedPoistion(p1.xy, p2.xy, p3.xy, p2Size), p1.z, 1);
    
    vec4 p2Color = pointConnector_getColor1();
    caplessLine_lineColor = p2Color;
}
`),t=new a.GlShader(`
    VARYING highp vec4 caplessLine_lineColor;

    void main()
    {
        setFragmentColor(caplessLine_lineColor);
    }
    `);const s=new a.GlProgramSpecification(a.GlShader.combineShaders([a.generate2LinedNormalShader,a.mat3MultiplyVec2Shader,r]),t,["ANGLE_instanced_arrays"])},1803:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlPoint2dGraphicsComponent=void 0;const n=r(1147),i=(r(7400),r(8078)),a=r(9547);class o{constructor(e,t){this.cameraBinder=e,this.indexedBinder=t,this.type=a.EGraphicsComponentType.Entity,this.outerVertices=40,this.specification=this.getSpec(),this.bindings=this.getBindings(),this.transform=new a.GlTransformProvider(this,this.indexedBinder,e=>e.userTransform)}getCacheId(){return["Point",this.cameraBinder.getBinderId(),this.indexedBinder.getBinderId()].join("_")}getLinkableBinders(){return[this.indexedBinder]}initialize(e){this.indexedBinder.initialize(e),this.cameraBinder.initialize(e),this.bindings.circleGeometryAttribute.initialize(e),this.bindings.canvasToClipSizeUniform.initialize(e)}onBeforeUpdate(e,t){this.bindings.circleGeometryAttribute.bindArray(e);var r=e.sharedState.frameCounter;this.bindings.canvasToClipSizeUniform.setData(t.canvasDimensions.pixelToClipSize,r),this.bindings.canvasToClipSizeUniform.bind(e)}update(e,t,r){this.indexedBinder.updateInstanced(e,t,e.changeId,1),this.indexedBinder.overrideColors(t,e,e.changeId),this.cameraBinder.setZ(e),this.cameraBinder.update(this.cameraBinder.getBinderData(r),t,t.sharedState.frameCounter),t.drawInstancedArrays(t.context.TRIANGLE_FAN,0,this.outerVertices+1,e.data.getLength())}static generateCircleGeometry(e){var t=Math.PI/(e-1),r=2*e+2;const n=new Float32Array(r);for(let e=2;e<r;e+=2){var i=t*e;n[e]=Math.cos(i),n[e+1]=Math.sin(i)}return n}getSpec(){return a.GlProgramSpecification.mergeProgramSpecifications([this.cameraBinder.specification,this.indexedBinder.specification,new a.GlProgramSpecification(a.GlShader.combineShaders([a.mat2MultiplyValueShader,s]),c,["ANGLE_instanced_arrays"])])}getBindings(){var e=o.generateCircleGeometry(this.outerVertices);return{circleGeometryAttribute:new a.GlFloatAttribute("pointGc_position",new a.GlFloatBuffer(e),2),canvasToClipSizeUniform:new a.GlMat3Uniform("pointGc_canvasToClipSize",new i.Mat3.f32)}}}(0,n.__decorate)([i.Once],o.prototype,"getCacheId",null),t.GlPoint2dGraphicsComponent=o;const s=new a.GlShader(`
ATTRIBUTE lowp vec2 pointGc_position;
uniform highp mat3 pointGc_canvasToClipSize;
VARYING lowp vec4 pointGc_color;

vec2 pointGc_getOffset()
{
    return mat3MultiplyVec2(pointGc_canvasToClipSize, pointGc_position * pointConnector_getSize()) * 0.5;
}

void main()
{
    vec3 position = v_2dCamera_getClipspaceCoords2d(pointConnector_getPosition());
    gl_Position = vec4(pointGc_getOffset() + position.xy, position.z, 1);
    pointGc_color = pointConnector_getColor();
}
`),c=new a.GlShader(`
VARYING highp vec4 pointGc_color;

void main()
{
    setFragmentColor(pointGc_color);
}
`)},5002:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hoverHighlightLineSegment=void 0;const n=r(9547),i=r(8078);t.hoverHighlightLineSegment=function(e,t,r){switch(e.updateChangeId(),t){case n.EHoverState.Left:e.graphicsSettings.pointDisplay.highlightedSegments=null;break;case n.EHoverState.Unchanged:case n.EHoverState.Entered:case n.EHoverState.SegmentChange:e.graphicsSettings.pointDisplay.highlightedSegments=r;break;default:i._Production.assertValueIsNever(t)}}},4081:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Indexed2dCappedLineValueProvider=void 0;t.Indexed2dCappedLineValueProvider=class{constructor(){this.fallbackColor=0}update(e,t,r,n){this.fallbackColor=e.graphicsSettings.pointDisplay.packedColor,this.screenTransform=t,this.sizeTransform=r,this.userTransform=n}getSize(e){return.5*this.sizeTransform.getVec2MultiplyX(e)}setPosition(e,t,r){e.update(this.screenTransform.getVec3MultiplyX(this.userTransform.forwardX(t)),this.screenTransform.getVec3MultiplyY(this.userTransform.forwardY(r)))}}},1632:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestCartesian2dUpdateArgProvider=void 0;const n=r(9547),i=r(8078),a=r(149);t.TestCartesian2dUpdateArgProvider=class{constructor(e,t,r=1){this.ctor=e,this.dims=t;e=i.Range2d.f32.factory.createOne(0,this.dims.getX(),0,this.dims.getY()),t=i.Range2d.f32.factory.createOne(0,this.dims.getX()*r,0,this.dims.getY()*r);this.canvasDims=new n.CanvasDimensions(r,e,t,new i.Range2d.f32)}createTestCartesian2dUpdateArg(){const e=new a.Cartesian2dUpdateArg(this.ctor);e.plotRange.update(0,4,0,4),e.canvasDimensions=this.canvasDims;var t=n.PlotArea.createDefault();return e.plotDimensionsOBL=n.PlotDimensions.createOneOBL(t,this.canvasDims),e.plotDimensionsOTL=n.PlotDimensions.createOneOTL(t,this.canvasDims),e.interactionTransforms.update(e.plotRange,e.plotDimensionsOBL.cssArea.wholeRange,e.plotDimensionsOBL.cssArea.interactiveRange),e.drawTransforms.update(e.plotRange,e.plotDimensionsOBL.clipSpaceArea.wholeRange,e.plotDimensionsOBL.clipSpaceArea.interactiveRange),e}}},7863:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Point2dDisplaySettings=void 0;const n=r(8078);class i extends n.Mat4.f32{constructor(e,t,r=t){super(),this.highlightedSegments=null,this.color=null,this.highlight=null,this.setSize(e),this.packedColor=this.setColor(t),this.packedHighlightColor=this.setHighlightColor(r)}setSize(e){this[0]=e}setColor(e){return this.setColorImpl(e,4),this.packedColor=this.getNormalizedColor().getPackedRGBAColor(!0)}getNormalizedColor(){return null==this.color&&(this.color=new n.Vec4.f32),this.getRow(1,this.color)}setHighlightColor(e){return this.setColorImpl(e,8),this.packedHighlightColor=this.getNormalizedHighlightColor().getPackedRGBAColor(!0)}getNormalizedHighlightColor(){return null==this.highlight&&(this.highlight=new n.Vec4.f32),this.getRow(2,this.highlight)}getPixelSize(){return this[0]}setColorImpl(e,t){this[t]=.00392156862745098*n.RgbaColorPacker.unpackR(e),this[t+1]=.00392156862745098*n.RgbaColorPacker.unpackG(e),this[t+2]=.00392156862745098*n.RgbaColorPacker.unpackB(e),this[t+3]=.00392156862745098*n.RgbaColorPacker.unpackA(e)}}t.Point2dDisplaySettings=i},3389:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Point2dSizeNormalizer=void 0;t.Point2dSizeNormalizer=class{constructor(e){this.pixelSizeRange=e,this.tmpRange=e.slice(),this.sizeRange=e.slice(),this.sizeRange.update(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY),this.transform=this.sizeRange.getRangeTransform(this.pixelSizeRange),this.requiresInitialization=!0}getSizeToPixelTransform(){return this.requiresInitialization&&(this.sizeRange.getRangeTransform(this.pixelSizeRange,this.transform),this.requiresInitialization=!1),this.transform}extendDataRange(e,t){this.tmpRange.update(e,t),this.sizeRange.unionRange(this.tmpRange,this.sizeRange),this.requiresInitialization=!0}}},7494:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CategoryStack2d=void 0;const n=r(8078);t.CategoryStack2d=class{constructor(e){this.category=e,this.entities=new n.DirtyCheckedUniqueCollection}addEntity(e){this.entities.add(e)}update(){if(this.entities.isDirty){const r=this.entities.getArray();this.category.entityZIndexRange=r.length;for(let e=0,t=r.length;e<t;++e)r[e].graphicsSettings.zIndexRel=e}}}},231:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasCartesianUpdateHooks=void 0;t.CanvasCartesianUpdateHooks=class{constructor(e){this.getDrawRange=e}onAfterUpdate(e){e.sharedState.updateScissorRange(null)}onBeforeUpdate(e,t){e.sharedState.updateScissorRange(this.getDrawRange(t))}}},924:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasCartesian2dUpdateArgProvider=void 0;const n=r(149),i=r(8078);class a{constructor(){this.reverseWholeRange=new i.Range2d.f32,this.reverseInteractiveRange=new i.Range2d.f32,this.updateArg=new n.Cartesian2dUpdateArg(Float64Array)}getUpdateArg(e,t){return a.copyReverseY(this.reverseWholeRange,e.plotDimensionsOTL.pixelArea.wholeRange),a.copyReverseY(this.reverseInteractiveRange,e.plotDimensionsOTL.pixelArea.interactiveRange),this.updateArg.update(e,t),this.updateArg.drawTransforms.update(this.updateArg.transformedDataRange,this.reverseWholeRange,this.reverseInteractiveRange),this.updateArg}static copyReverseY(e,t){e[0]=t[0],e[1]=t[1],e[2]=t[3],e[3]=t[2]}}t.CanvasCartesian2dUpdateArgProvider=a},9012:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dPlotRange=void 0;const n=r(8078),i=r(7341);t.Cartesian2dPlotRange=class a{constructor(e,t,r,n,i,a){this.userTransform=a,this.interactionBounder=i,this.maxBounds=e,this.dataRange=t,this.minRange=t.slice().fill(0),this.updateBounds(e,r),this.updateDataRange(t,n),this.transformedDataRange=this.userTransform.forwardTransformRange(t)}static createOneF32(e){return new a(e.maxBounds,e.dataRange,e.maxZoom,e.canvasDims,new i.Cartesian2dFloatPrecisionRangeBounder(n._F32,.1),e.userTransform)}static createOneF64(e){return new a(e.maxBounds,e.dataRange,e.maxZoom,e.canvasDims,new i.Cartesian2dFloatPrecisionRangeBounder(n._F64,.1),e.userTransform)}updateDataRange(e,t){this.dataRange.set(e),this.dataRange.ensureMinRange(this.minRange.getXMax(),this.minRange.getYRange()),this.interactionBounder.boundRange(this.dataRange,t.pixelDims,this.maxBounds),this.userTransform.forwardTransformRange(this.dataRange,this.transformedDataRange)}updateBounds(e,t){t=n._Math.bound(t,1,this.interactionBounder.maxZoom),this.maxBounds.set(e),this.maxBounds.bound(this.interactionBounder.maxBounds),this.minRange.update(0,e.getXRange()/t,0,e.getYRange()/t)}}},1186:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dTransforms=void 0;const n=r(8078);t.Cartesian2dTransforms=class{constructor(e){const t=n.Mat3.getCtor(e);this.dataToPlotArea=new t,this.dataToInteractiveArea=new t,this.dataToPlotSize=new t,this.dataToInteractiveSize=new t,this.tmp=n.Range2d.getCtor(e).factory.createOneEmpty()}update(e,t,r){e.getRangeTransform(t,this.dataToPlotArea),e.getRangeTransform(r,this.dataToInteractiveArea);const n=this.tmp;n.setXMax(t.getXRange()),n.setYMax(t.getYRange()),e.getRangeTransform(n,this.dataToPlotSize),n.setXMax(r.getXRange()),n.setYMax(r.getYRange()),e.getRangeTransform(n,this.dataToInteractiveSize)}}},149:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dUpdateArg=void 0;const n=r(8078),i=r(1186),a=r(9547),o=r(1823);t.Cartesian2dUpdateArg=class{constructor(e){const t=n.Range2d.getCtor(e).factory;this.plotRange=t.createOneEmpty(),this.transformedDataRange=t.createOneEmpty(),this.userTransform=new o.Cartesian2dIdentityTransform,this.drawTransforms=new i.Cartesian2dTransforms(e),this.interactionTransforms=new i.Cartesian2dTransforms(e),this.canvasDimensions=a.CanvasDimensions.createDefault(),this.plotDimensionsOBL=a.PlotDimensions.createDefault(),this.plotDimensionsOTL=a.PlotDimensions.createDefault()}update(e,t){this.userTransform=e.plotRange.userTransform,this.plotRange=e.plotRange.dataRange,this.transformedDataRange=e.plotRange.transformedDataRange,this.plotDimensionsOBL=e.plotDimensionsOBL,this.plotDimensionsOTL=e.plotDimensionsOTL,this.canvasDimensions=t,this.interactionTransforms.update(this.transformedDataRange,e.plotDimensionsOBL.cssArea.wholeRange,e.plotDimensionsOBL.cssArea.interactiveRange)}}},224:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlCartesianUpdateHooks=void 0;t.GlCartesianUpdateHooks=class{constructor(e){this.getDrawRange=e}onBeforeUpdate(e,t){e.sharedState.updateScissorRange(this.getDrawRange(t))}onAfterUpdate(){}}},8058:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlCartesian2dUpdateArgProvider=void 0;const n=r(149);t.GlCartesian2dUpdateArgProvider=class{constructor(){this.updateArg=new n.Cartesian2dUpdateArg(Float32Array)}getUpdateArg(e,t){return this.updateArg.update(e,t),this.updateArg.drawTransforms.update(this.updateArg.transformedDataRange,e.plotDimensionsOBL.clipSpaceArea.wholeRange,e.plotDimensionsOBL.clipSpaceArea.interactiveRange),this.updateArg}}},3190:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntityCategory2d=void 0;class i extends r(9547).EntityCategory{constructor(e,t,r,n){super(e,t,r,n),this.entityZIndexRange=0,this.zIndex=i.counter++,r.categories.addCategory(this)}}t.EntityCategory2d=i,i.counter=0},3658:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Point2dSubcategory=void 0;const n=r(4188),i=r(3389);t.Point2dSubcategory=class{constructor(e){this.normalization=new i.Point2dSizeNormalizer(e)}onEntityAdded(e){const t=(0,n.getRangeFromIndexedConnector)(e.data);null!=t&&this.normalization.extendDataRange(t.getMin(),t.getMax())}onEntityRemoved(){}}},9786:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Update2dGroup=void 0;const n=r(9547);class i extends n.AEntityGroup{constructor(e,t=new n.CategoryStore){super(),this.updateArgProvider=e,this.categories=t,this.entitiesInGroup=new Set,this.graphicsComponents=new n.EntityComponentStore}onEntityAdded(e,t){this.graphicsComponents.setComponent(e,t.graphicsComponent),this.entitiesInGroup.add(e)}onEntityRemoved(r){this.graphicsComponents.deleteComponent(r),this.entitiesInGroup.delete(r);const n=this.categories.toArray();for(let e=0,t=n.length;e<t;++e)n[e].removeEntity(r)}}t.Update2dGroup=i},9865:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene2dCategorySorted=void 0;const c=r(8078),a=r(9547);t.Scene2dCategorySorted=class{constructor(e){this.update2dGroup=e}getSortedCategories(e){return e.categories.toArray().slice().sort((e,t)=>e.zIndex-t.zIndex)}getEntitiesByComponents(e){const t=c._Array.collect(e.getEntities(),new Map,(e,t)=>{var r=this.update2dGroup.graphicsComponents.getComponent(t);this.collectComponents(e,r,t)});return Array.from(t.entries())}collectComponents(r,e,n){switch(e.type){case a.EGraphicsComponentType.Composite:if(e.groupUpdatesByEntity)c._Map.push(r,e,n);else{var i=e.subComponents.getSubComponents();for(let e=0,t=i.length;e<t;++e)this.collectComponents(r,i[e],n)}break;case a.EGraphicsComponentType.Entity:c._Map.push(r,e,n);break;default:c._Production.assertValueIsNever(e)}}update(){var e=this.getZRange(this.update2dGroup),r=-1/c._Math.max(e,1);let n=0;var i=this.getSortedCategories(this.update2dGroup);for(let e=0,t=i.length;e<t;e++){const o=i[e];var a=o.getEntities();for(let e=0,t=a.length;e<t;e++){const s=a[e].graphicsSettings;s.zIndexAbs=(n+s.zIndexRel)*r}n+=o.entityZIndexRange+1}}getZRange(e){let r=0;var n=e.categories.toArray();for(let e=0,t=n.length;e<t;e++){const i=n[e];0!==i.getEntities().length&&(r+=i.entityZIndexRange+1)}return r}}},4398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sorted2dUpdateStrategy=void 0;const p=r(9547),f=r(8078);t.Sorted2dUpdateStrategy=class g{constructor(e,t,r,n){this.plot=e,this.scene=r,this.getUserTransform=n,this.renderLists=[],this.isDirty=!0,this.lastUserTransform=null,this.updateGroup=t,p.OnEntityAddedToGroup.registerListener(this.plot,()=>this.isDirty=!0),p.OnEntityRemovedFromGroup.registerListener(this.plot,()=>this.isDirty=!0),p.OnEntityModified.registerListener(this.plot,()=>this.isDirty=!0),p.OnRendererContextLost.registerListener(this.plot.eventService,()=>this.isDirty=!0)}update(e,t){var r=this.updateGroup.updateArgProvider.getUpdateArg(this.plot,e),e=this.getUserTransform(r);this.lastUserTransform!==e&&(this.isDirty=!0,this.lastUserTransform=e),this.isDirty&&(this.scene.update(),this.updateRenderList(t,r),this.isDirty=!1),this.drawRenderList(t,r)}updateRenderList(r,n){var i=this.scene.getSortedCategories(this.updateGroup),a=this.renderLists=f._Array.map(i,e=>new p.RenderList(e.updateHooks));const o=g.createEntityGrouping;for(let e=0,t=i.length;e<t;++e){var s=i[e];const h=a[e];var c=this.scene.getEntitiesByComponents(s);for(let e=0,t=c.length;e<t;++e){var l=c[e],d=l[0],u=l[1];h.addGrouping(o(d,r,n));for(let e=0,t=u.length;e<t;++e)h.addEntity(u[e])}h.build()}}static createEntityGrouping(e,r,n){switch(e.type){case p.EGraphicsComponentType.Entity:var t=r.componentRendererProvider.getRenderer(e);return e.transform.updateTransform(r,n),null==e.transform.transformComponent?new p.EntityUpdateGrouping(e,t):new p.EntityUpdateTransformGrouping(e,t,e.transform.transformComponent,r.componentRendererProvider.getRenderer(e.transform.transformComponent));case p.EGraphicsComponentType.Composite:{const i=[],a=[],o=[],s=[];return e.recurseIterate(p.EGraphicsComponentType.Entity,e=>{var t=r.componentRendererProvider.getRenderer(e);i.push(e),a.push(t),e.transform.updateTransform(r,n),null!=e.transform.transformComponent?(o.push(e.transform.transformComponent),s.push(r.componentRendererProvider.getRenderer(e.transform.transformComponent))):(o.push(null),s.push(null))}),new p.UpdateTransformGroupingByEntity(i,a,o,s)}default:f._Production.assertValueIsNever(e)}}drawRenderList(r,n){var i=this.renderLists;for(let e=0,t=i.length;e<t;++e){const o=i[e];o.updateGroupHooks.onBeforeUpdate(r,n);const s=o.uniqueEntities;for(let e=0,t=s.length;e<t;++e)s[e].onBeforeUpdate(n);var a=o.groupings;for(let e=0,t=a.length;e<t;++e){const c=a[e];c[0].drawUpdateGroup(c[1],n)}o.updateGroupHooks.onAfterUpdate(r,n)}}}},4792:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACartesian2dUserTransform=void 0;t.ACartesian2dUserTransform=class{updateTransform(e,t){this.xTransformEnabled=e,this.yTransformEnabled=t}forwardTransformRange(e,t=e.slice()){return t[0]=this.forwardX(e[0]),t[1]=this.forwardX(e[1]),t[2]=this.forwardY(e[2]),t[3]=this.forwardY(e[3]),t}forwardTransformPoint(e,t=e.slice()){return t[0]=this.forwardX(e[0]),t[1]=this.forwardY(e[1]),t}reverseTransformRange(e,t=e.slice()){return t[0]=this.reverseX(e[0]),t[1]=this.reverseX(e[1]),t[2]=this.reverseY(e[2]),t[3]=this.reverseY(e[3]),t}reverseTransformPoint(e,t=e.slice()){return t[0]=this.reverseX(e[0]),t[1]=this.reverseY(e[1]),t}}},1823:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dIdentityTransform=void 0;var n=r(4792);const i=r(1300);class a extends n.ACartesian2dUserTransform{constructor(){super(...arguments),this.transformId=i.ECartesian2dUserTransform.Identity,this.xTransformEnabled=!0,this.yTransformEnabled=!0,this.userTransformId=a.transformId}forwardX(e){return e}forwardY(e){return e}reverseX(e){return e}reverseY(e){return e}}(t.Cartesian2dIdentityTransform=a).transformId=Symbol("identity")},7621:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cartesian2dNaturalLogTransform=void 0;const n=r(8078);var i=r(4792);const a=r(1300);class o extends i.ACartesian2dUserTransform{constructor(e,t){super(),this.xTransformEnabled=e,this.yTransformEnabled=t,this.transformId=a.ECartesian2dUserTransform.NaturalLog,this.userTransformId=o.transformId,e?(this.forwardX=this.forwardTransform,this.reverseX=this.reverseTransform):(this.forwardX=n._Fp.identity,this.reverseX=n._Fp.identity),t?(this.forwardY=this.forwardTransform,this.reverseY=this.reverseTransform):(this.forwardY=n._Fp.identity,this.reverseY=n._Fp.identity)}forwardTransform(e){return Math.log(e)}reverseTransform(e){return Math.pow(Math.E,e)}}(t.Cartesian2dNaturalLogTransform=o).transformId=Symbol("natural log")},1300:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ECartesian2dUserTransform=void 0,(t=t.ECartesian2dUserTransform||(t.ECartesian2dUserTransform={}))[t.Identity=0]="Identity",t[t.NaturalLog=1]="NaturalLog"},7109:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTransformChangeId=void 0,t.getTransformChangeId=function(e){return e.changeId-Number.MAX_SAFE_INTEGER}},89:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlPoint2dNaturalLogTransform=void 0;const n=r(1147),i=r(9547),a=r(8078);var o=r(7400);const s=r(5805);var c=r(7621);const l=r(7109);class d{constructor(e){this.point2dBinder=e,this.config=new a.Vec2.f32,this.bindings={feedbackTransform:new i.GlTransformFeedback,configUniform:new i.GlVec2Uniform("point2dNaturalLogTransform_config",this.config)},this.specification=i.GlProgramSpecification.mergeProgramSpecifications([this.point2dBinder.specification,new i.GlProgramSpecification(i.GlShader.combineShaders([s.point2dNaturalLogTransformShader,u]),i.dummyGlProgramSpecification.fragmentShader)])}getCacheId(){return["logFeedbackTransform",this.point2dBinder.getTransformId()].join("_")}initialize(e){this.point2dBinder.initialize(e),this.bindings.feedbackTransform.initialize(e),this.bindings.configUniform.initialize(e)}setOutputBuffers(e,t,r){this.bindings.feedbackTransform.bind(r),this.point2dBinder.swapBuffers(t),this.point2dBinder.setResultBuffers(e,t,r,r.context.STREAM_DRAW)}performTransform(e,t,r){const n=t.context;this.config[0]=Number(r.userTransform.xTransformEnabled),this.config[1]=Number(r.userTransform.yTransformEnabled),this.bindings.configUniform.setData(this.config,t.sharedState.frameCounter),this.bindings.configUniform.bind(t),this.bindings.feedbackTransform.beginTransform(t),this.point2dBinder.update(e,t,(0,l.getTransformChangeId)(e)),n.drawArrays(n.POINTS,e.data.getStart(),e.data.getLength()),this.bindings.feedbackTransform.endTransform(t),this.point2dBinder.clearResultBuffers(t)}}d.factory=new i.GlTransformComponentFactory(c.Cartesian2dNaturalLogTransform.transformId,o.IndexedPoint2dIdentifier,d),(0,n.__decorate)([a.Once],d.prototype,"getCacheId",null),t.GlPoint2dNaturalLogTransform=d;const u=new i.GlShader(`
uniform vec2 point2dNaturalLogTransform_config;
void main()
{
    pointConnector_copyAllOutputs();
    pointConnector_setPosition(point2dNaturalLogTransform(pointConnector_getPosition(), point2dNaturalLogTransform_config));
}
`,300)},7616:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlTrace2dNaturalLogTransform=void 0;const n=r(1147),i=r(9547),a=r(8078);var o=r(3696);const s=r(5805);var c=r(7621);const l=r(7109);class d{constructor(e){this.traceBinder=e,this.config=new a.Vec2.f32,this.bindings={feedbackTransform:new i.GlTransformFeedback,configUniform:new i.GlVec2Uniform("traceNaturalLogTransform_config",this.config)},this.specification=i.GlProgramSpecification.mergeProgramSpecifications([this.traceBinder.specification,new i.GlProgramSpecification(i.GlShader.combineShaders([s.point2dNaturalLogTransformShader,u]),i.dummyGlProgramSpecification.fragmentShader)])}getCacheId(){return["trace2dLogTransform",this.traceBinder.getTransformId()].join("_")}initialize(e){this.traceBinder.initialize(e),this.bindings.feedbackTransform.initialize(e),this.bindings.configUniform.initialize(e)}setOutputBuffers(e,t,r){this.bindings.feedbackTransform.bind(r),this.traceBinder.swapBuffers(t),this.traceBinder.setResultBuffers(e,t,r,r.context.STREAM_DRAW)}performTransform(e,t,r){this.config[0]=Number(r.userTransform.xTransformEnabled),this.config[1]=Number(r.userTransform.yTransformEnabled),this.bindings.configUniform.setData(this.config,t.sharedState.frameCounter),this.bindings.configUniform.bind(t),this.bindings.feedbackTransform.beginTransform(t),this.traceBinder.update(e,t,(0,l.getTransformChangeId)(e)),t.context.drawArrays(t.context.POINTS,0,e.data.getTraceCount()),this.bindings.feedbackTransform.endTransform(t),this.traceBinder.clearResultBuffers(t)}}d.factory=new i.GlTransformComponentFactory(c.Cartesian2dNaturalLogTransform.transformId,o.TraceBinderIdentifier,d),(0,n.__decorate)([a.Once],d.prototype,"getCacheId",null),t.GlTrace2dNaturalLogTransform=d;const u=new i.GlShader(`
uniform vec2 traceNaturalLogTransform_config;

void main()
{
    mat2 position = traceConnector_getPosition();
    vec2 lowerPoint = point2dNaturalLogTransform(position[0], traceNaturalLogTransform_config);
    vec2 upperPoint = point2dNaturalLogTransform(position[1], traceNaturalLogTransform_config);

    traceConnector_setPosition(lowerPoint, upperPoint);
}
`,300)},5805:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.point2dNaturalLogTransformShader=void 0;const n=r(9547);t.point2dNaturalLogTransformShader=new n.GlShader(`
vec2 point2dNaturalLogTransform(vec2 point, vec2 transformConfig)
{
    return vec2(
        mix(point.x, log(point.x), transformConfig.x),
        mix(point.y, log(point.y), transformConfig.y)
    );
}
`)},1228:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasChartFactory=void 0;const a=r(5018),o=r(1780),s=r(9513),c=r(9850),l=r(9145),d=r(451);t.CanvasChartFactory=class{static createOne(e,t){var r=new c.EventService,n=new a.GraphAttachPoint(new o.GraphAttachPointProvider(e),r,t);const i=new d.CanvasContextAdapter(n.canvasElement);e=s.CanvasRenderer.createOne(i.getContext());return null==e?null:new l.ChartComponent(n,e,r,t,i)}}},9145:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChartComponent=void 0;const o=r(8078),n=r(1004),i=r(2241),a=r(9048),s=r(1997),c=r(786),l=r(3484),d=r(7018),u=r(82),h=r(8015),p=r(4465);class f extends o.AOnDestroy{constructor(e,t,r,n,i,a){super(),this.plotCollection=new o.DirtyCheckedUniqueCollection,this.transformProvider=null,this.contextLost=!1,this.contextAdapter=i,this.renderer=t,this.eventService=r,this.updateOptions=n.updateOptions,this.attachPoint=e,this.changeIdFactory=n.changeIdFactory,this.frameProvider=null!=a?a:this.createDefaultFrameProvider(n),this.registerEventHandlers()}cancelNextFrame(){this.frameProvider.cancelNextFrame()}updateOnNextFrame(e,r=!0){if(r=Boolean(r),null==e||this.updateOptions.updateAllPlotsOnDraw){var n=this.plotCollection.getArray();for(let e=0,t=n.length;e<t;++e)this.frameProvider.updateOnNextFrame(n[e],r)}else this.frameProvider.updateOnNextFrame(e,r)}updateImmediate(r){if(!this.contextLost){this.updateOptions.updateDimsOnDraw&&this.resize();var n=this.attachPoint.canvasDims;if(null!=r)this.plotCollection.has(r)&&this.drawPlot(r,n);else{var i=this.plotCollection.getArray();for(let e=0,t=i.length;e<t;++e){const r=i[e];this.drawPlot(r,n)}}}}drawPlot(e,t){this.renderer.onBeforePlotDraw(e,t),e.updateStrategy.update(t,this.renderer),this.renderer.onAfterPlotDraw()}updateInteractionHandlers(e){o._Iterator.consumeAll(this.updateInteractionHandlersIncremental(e))}*updateInteractionHandlersIncremental(r){var e,n,i=performance.now(),a=this.attachPoint.canvasDims;if(null!=r){if(this.plotCollection.has(r)){const t=f.updateInteractionHandler(r,a,i);for(;null===(e=t.next().done)||void 0===e||!e;)yield}}else{var o=this.plotCollection.getArray();for(let e=0,t=o.length;e<t;++e){const r=o[e];if(this.plotCollection.has(r)){const s=f.updateInteractionHandler(r,a,i);for(;null===(n=s.next().done)||void 0===n||!n;)yield}}}}resize(){var e=this.attachPoint.canvasDims,t=this.attachPoint.resizeCanvas();return e==t||(this.contextAdapter.onResize(t),s.OnCanvasResized.emit(this.eventService,t)),t}addPlot(e){return this.plotCollection.has(e)||(this.plotCollection.add(e),this.eventService.getCategory(s.OnCanvasResized).addListener(e),i.OnPlotAttached.emit(e,this)),e}removePlot(e){this.eventService.getCategory(s.OnCanvasResized).removeListener(e),e.clearInteractionHandler(),this.plotCollection.delete(e),a.OnPlotDetached.emit(e,this)}getTransformProvider(e,t=!1){return null!=this.transformProvider?this.transformProvider:this.transformProvider=new u.ChartTransformFactory(this.renderer,e,t)}static updateInteractionHandler(e,t,r){const n=e.getInteractionHandler();return null==n?o._Iterator.emptyIterator:n.update(t,r)}createDefaultFrameProvider(e){return new n.FrameProvider(e=>this.updateImmediate(e),e=>this.updateInteractionHandlersIncremental(e),e.updateOptions.interactionRollupTime)}registerEventHandlers(){this.contextAdapter.graphContextChangeHooks.registerCallbacks(()=>{this.contextLost=!0,this.renderer.onContextLost(),h.OnRendererContextLost.emit(this.eventService),o._Array.forEach(this.plotCollection.getArray(),e=>{h.OnRendererContextLost.emit(e.eventService)})},()=>{var e=this.contextAdapter.getContext();null!=e&&(this.contextLost=!1,this.renderer.onContextRegained(e))}),c.OnPlotRequiresUpdate.registerListener(this.eventService,(e,t)=>{var r=0!=(t&d.EEntityUpdateFlag.InteractionHandlerUpdateRequired);t&d.EEntityUpdateFlag.DrawRequired?this.frameProvider.updateOnNextFrame(e,r):r&&this.updateInteractionHandlers(e)}),s.OnCanvasResized.registerListener(this.eventService,r=>{var n=this.plotCollection.getArray();const i=s.OnCanvasResized.emit;for(let e=0,t=n.length;e<t;++e)i(n[e].eventService,r)}),l.OnDprChanged.registerListener(this.eventService,r=>{var n=this.plotCollection.getArray();const i=l.OnDprChanged.emit;for(let e=0,t=n.length;e<t;++e)i(n[e].eventService,r)}),p.OnGraphicsComponentAdded.registerListener(this.eventService,e=>{null!=this.transformProvider&&this.transformProvider.initializeTransformComponent(e)})}}t.ChartComponent=f},8811:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChartConfig=void 0;const i=r(8078);t.ChartConfig=class{constructor(e={disableLongPressContext:!0,scrollZooms:!0,disableAllInteraction:!1},t={updateDimsOnDraw:!0,updateAllPlotsOnDraw:!1,interactionRollupTime:500},r=a,n=new i.IncrementingIdentifierFactory){this.interactionOptions=e,this.updateOptions=t,this.changeDetectionConfig=r,this.changeIdFactory=n}};const a={runOutsideOfChangeDetection:e=>e(),runInsideOfChangeDetection:e=>e()}},82:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChartTransformFactory=void 0;const n=r(8078),d=r(4062);t.ChartTransformFactory=class{constructor(e,t,r){this.renderer=e,this.transformsToInitialize=t,this.missIsDebugError=r,this.transformMap=new Map}addTransforms(r){for(let e=0,t=r.length;e<t;++e)this.addTransform(r[e]);return this}addTransform(e){const t=n._Map.initializeGet(this.transformMap,e.userTransformId,()=>new Map);return t.set(e.binderId,e),this}initializeTransformComponent(r){var n=r.transform.getTransformBinder();if(null!=n){var i=this.transformsToInitialize;const s=this.transformMap;for(let e=0,t=i.length;e<t;++e){var a=i[e];const c=s.get(a);if(null!=c){const l=c.get(n.binderClassificationId);if(null!=l){let e=l.createOne(n);var o=this.renderer.graphicsComponents.getComponent(e.getCacheId());null==o?(0,d.initializeGraphicsComponent)(this.renderer,e):e=o,this.renderer.transformComponents.setTransform(a,r,e)}}}}}}},7078:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlChartFactory=void 0;const o=r(9145),s=r(9850),c=r(5018),l=r(1780),d=r(8811),u=r(7625);t.GlChartFactory=class{static createOne(e,t,r,n){var i=new s.EventService,r=new c.GraphAttachPoint(new l.GraphAttachPointProvider(e),i,r);const a=new t(r.canvasElement,n.onCreate.contextAttributes);t=new d.ChartConfig,n=u.GlRenderer.createOne(a.getContext(),n);return null==n?null:new o.ChartComponent(r,n,i,t,a)}}},3737:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addEntityToCategory=void 0,t.addEntityToCategory=function(e,t,r,n){e.addEntity(t,r,n)}},5612:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CategoryStore=void 0;const n=r(8078);t.CategoryStore=class{constructor(e=[]){this.categories=e}addCategory(e){return this.categories.push(e),e}toArray(){return this.categories}removeCategory(e){n._Array.removeOne(this.categories,e)}}},8348:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntityCategory=void 0;const n=r(8078),i=r(6630),a=r(4062),o=r(7529),s=r(4465);t.EntityCategory=class{constructor(e,t,r,n){this.plot=e,this.renderer=t,this.updateGroup=r,this.entities=[],this.hooks=new WeakMap,this.updateHooks=n}addEntity(e,t,r){switch(t.type){case i.EGraphicsComponentType.Composite:t.recurseIterate(i.EGraphicsComponentType.Entity,e=>{this.getInitializedGraphicsComponent(e)});break;case i.EGraphicsComponentType.Entity:t=this.getInitializedGraphicsComponent(t);break;default:n._Production.assertValueIsNever(t)}this.plot.addEntity(e),this.plot.addToGroup(e,this.updateGroup,{graphicsComponent:t}),this.entities.push(e),null!=r&&r.onEntityAdded(e)}removeEntity(e){if(n._Array.removeOne(this.entities,e)){const t=this.hooks.get(e);null!=t&&t.onEntityRemoved(e)}}getEntities(){return this.entities}getInitializedGraphicsComponent(e){var t=this.renderer.graphicsComponents.getComponent(e.getCacheId());return null==t?((0,a.initializeGraphicsComponent)(this.renderer,e),s.OnGraphicsComponentAdded.emit(o.Plot.getChartEventService(this.plot),e),e):t}}},4540:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChartDataEntity=void 0;const i=r(8078);t.ChartDataEntity=class{constructor(e,t,r,n=i._Fp.noOp){this.data=e,this.graphicsSettings=t,this.changeIdFactory=r,this.beforeUpdate=n,this.groupMask=0,this.hitTestId=-1,this.changeId=this.changeIdFactory.getNextId()}onBeforeUpdate(e){this.beforeUpdate(e)}updateChangeId(){this.changeId=this.changeIdFactory.getNextId()}}},3569:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChartEntity=void 0;t.ChartEntity=class{constructor(e){this.identifierFactory=e,this.changeId=this.identifierFactory.getNextId()}onBeforeUpdate(){}updateChangeId(){this.changeId=this.identifierFactory.getNextId()}}},533:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasNoOpGraphicsComponent=void 0;const n=r(1018),i=r(6630);t.CanvasNoOpGraphicsComponent=class{constructor(){this.type=i.EGraphicsComponentType.Entity,this.specification={},this.transform=new n.NoTransformProvider}getCacheId(){return"NoOpGraphicsComponent"}initialize(){}onBeforeUpdate(){}update(){}}},9600:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompositeGraphicsComponent=void 0;const n=r(9677),o=r(6630),s=r(8078),i=r(1941);t.CompositeGraphicsComponent=class a{constructor(e,t){this.type=o.EGraphicsComponentType.Composite,this.subComponents=new n.GraphicsSubComponents([e]),this.groupUpdatesByEntity=t}static createOne(e){return new a(e,!1)}static createOneLinked(e){return new a(e,!0)}addComponent(e){return this.subComponents.addComponent(e),this}build(){return this.groupUpdatesByEntity&&(0,i.linkGraphicsComponents)(this.subComponents.getSubComponents()),this}recurseIterate(e,t){null!=t?this.recurseIterateImpl(t,e):this.recurseIterateImpl(e,void 0)}recurseIterateImpl(r,n){var i=this.subComponents.getSubComponents();for(let e=0,t=i.length;e<t;++e){var a=i[e];if(null==n||a.type&n)switch(a.type){case o.EGraphicsComponentType.Entity:case o.EGraphicsComponentType.Composite:r(a);break;default:s._Production.assertValueIsNever(a)}}}}},7446:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlNoOpGraphicsComponent=void 0;const n=r(6952),i=r(1018),a=r(6630);t.GlNoOpGraphicsComponent=class{constructor(){this.type=a.EGraphicsComponentType.Entity,this.specification=n.dummyGlProgramSpecification,this.transform=new i.NoTransformProvider}getCacheId(){return"NoOpGraphicsComponent"}initialize(){}onBeforeUpdate(){}update(){}}},9469:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AInterleavedConnector=void 0;t.AInterleavedConnector=class{constructor(e,t,r){this.offsets=e.offsets,this.blockElementCount=e.blockElementCount,this.startIndex=this.getInitialStartIndex(e),this.length=this.getInitialLength(e,t,this.startIndex),this.blockByteSize=r*this.blockElementCount}static getDescriptor(e,t){var r;return{offsets:e.offsets,byteOffset:(null!==(r=e.startIndex)&&void 0!==r?r:0)*e.blockElementCount*t.BYTES_PER_ELEMENT,blockElementCount:e.blockElementCount,blockByteSize:e.blockElementCount*t.BYTES_PER_ELEMENT}}getDescriptor(){return{offsets:this.offsets,byteOffset:this.getStart()*this.getBlockByteSize(),blockElementCount:this.getBlockElementCount(),blockByteSize:this.getBlockByteSize()}}getValue(e,t){return this.getData()[e*this.blockElementCount+t]}setValue(e,t,r){this.getData()[e*this.blockElementCount+t]=r}getStart(){return this.startIndex}setStart(e){this.startIndex=e}getLength(){return this.length}setLength(e){this.length=e}getMaximumLength(){return this.getData().length/this.blockElementCount}getBlockElementCount(){return this.blockElementCount}getBlockByteSize(){return this.blockByteSize}getInterleavedBuffer(){return this.getData()}getEnd(){return this.getStart()+this.getLength()}getLoggableValue(){var r=this.getData(),n=this.getBlockElementCount();const i=new Array(r.length/n);for(let t=0,e=i.length;t<e;++t){const a=i[t]=new Array(n);for(let e=0;e<n;++e)a[e]=r[t*n+e]}return i}getInitialStartIndex(e){return null==e.startIndex?0:e.startIndex}getInitialLength(e,t,r){return null==e.length?(t-r*this.blockElementCount)/this.blockElementCount|0:e.length}}},5200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InterleavedConnector=void 0;class n extends r(9469).AInterleavedConnector{constructor(e,t){super(t,e.length,e.BYTES_PER_ELEMENT),this.data=e}getData(){return this.data}}t.InterleavedConnector=n},3111:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedInterleavedConnector=void 0;const i=r(8078);class a extends r(9469).AInterleavedConnector{constructor(e,t,r,n){super(n,r.length,r.elementByteSize),this.cSetStart=`_${e}_setStart`,this.cSetLength=`_${e}_setLength`,this.wrapper=t,this.sharedArray=r;r=this.initialize(e,t,r.sharedObject.getPtr());this.sharedObject=new i.ReferenceCountedPtr(!1,r),this.sharedObject.registerOnFreeListener(()=>this.wrapper.instance._f32InterleavedConnector_delete(this.sharedObject.getPtr())),this.sharedObject.bindLifecycle(this.sharedArray.sharedObject)}static createOneExistingF32SharedArray(e,t,r,n){r=new a("f32InterleavedConnector",e,t,r);return n&&t.sharedObject.release(),r}static createOneF32(e,t,r){t=i.SharedArray.createOneF32(e,t,!0);return a.createOneExistingF32SharedArray(e,t,r,!0),new a("f32InterleavedConnector",e,t,r)}static createOneExistingF64SharedArray(e,t,r,n){r=new a("f64InterleavedConnector",e,t,r);return n&&t.sharedObject.release(),r}static createOneF64(e,t,r){t=i.SharedArray.createOneF64(e,t,!0);return a.createOneExistingF64SharedArray(e,t,r,!0),new a("f64InterleavedConnector",e,t,r)}getInterleavedBuffer(){return this.sharedArray.getInstance()}getData(){return this.sharedArray.getInstance()}setStart(e){super.setStart(e),this.wrapper.instance[this.cSetStart](this.sharedObject.getPtr(),e)}setLength(e){super.setLength(e),this.wrapper.instance[this.cSetLength](this.sharedObject.getPtr(),e)}initialize(e,t,r){const n=new o(t,this,r);e=t.instance[`_${e}_createOne`](n.sharedObject.getPtr());return n.sharedObject.release(),e}}t.SharedInterleavedConnector=a;class o{constructor(e,t,r){this.rvp=i.RawVoidPointer.createOne(e,5*Uint32Array.BYTES_PER_ELEMENT,!0),this.sharedObject=this.rvp.sharedObject;const n=this.rvp.getDataView();n.setUint32(0,r,o.littleEndian),n.setUint32(Uint32Array.BYTES_PER_ELEMENT,t.getStart(),o.littleEndian),n.setUint32(2*Uint32Array.BYTES_PER_ELEMENT,t.getLength(),o.littleEndian),n.setUint32(3*Uint32Array.BYTES_PER_ELEMENT,t.getMaximumLength(),o.littleEndian),n.setUint32(4*Uint32Array.BYTES_PER_ELEMENT,t.getBlockElementCount(),o.littleEndian)}}o.littleEndian=i.isLittleEndian},199:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntityComponentStore=void 0;r(8078);t.EntityComponentStore=class{constructor(){this.components=new WeakMap}getComponent(e){return this.components.get(e)}setComponent(e,t){this.components.set(e,t)}deleteComponent(e){this.components.delete(e)}}},4459:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AEntityGroup=void 0;t.AEntityGroup=class{isEntityInGroup(e){return this.entitiesInGroup.has(e)}}},9651:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HitTestableGroup=void 0;var n=r(4459);const i=r(8078);class a extends n.AEntityGroup{constructor(e,t){super(),this.argProvider=e,this.plot=t,this.entitiesByHitTester=new Map,this.hitTesterByEntity=new WeakMap,this.referenceCounts=new WeakMap,this.isDirty=!0,this.entitiesInGroup=new Set,this.cache=[]}getHitTester(e){return this.hitTesterByEntity.get(e)}getEntitiesByHitTester(){return this.isDirty?(this.isDirty=!1,this.cache=i._Map.arrayMap(this.entitiesByHitTester,(e,t)=>[t,e.getArray()])):this.cache}refCountingAddEntity(e,t){var r=1+(null!==(r=this.referenceCounts.get(e))&&void 0!==r?r:0);this.referenceCounts.set(e,r),1<r||this.plot.addToGroup(e,this,t)}refCountingRemoveEntity(e){var t=null!==(t=this.referenceCounts.get(e))&&void 0!==t?t:0;1===t?(this.plot.removeFromGroup(e,this),this.referenceCounts.delete(e)):this.referenceCounts.set(e,t-1)}onEntityAdded(e,t){i.DirtyCheckedUniqueCollection.mapInitializeAdd(this.entitiesByHitTester,t.hitTestComponent,e),this.hitTesterByEntity.set(e,t.hitTestComponent),this.entitiesInGroup.add(e),this.isDirty=!0}onEntityRemoved(e){var t=this.hitTesterByEntity.get(e);null!=t&&(this.hitTesterByEntity.delete(e),i._Map.clearingDeleteFromSet(this.entitiesByHitTester,t,e),this.entitiesInGroup.delete(e),this.isDirty=!0)}}t.HitTestableGroup=a},9069:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionGroup=void 0;var n=r(4459);const i=r(199);class a extends n.AEntityGroup{constructor(e,t,r){super(),this.plot=r,this.entitiesInGroup=new Set,this.hitAllowedComponentStore=new i.EntityComponentStore,this.groupMask=e,this.hitTestableGroup=t}addToGroup(e,t){this.plot.addToGroup(e,this,t)}onEntityAdded(e,t){this.hitTestableGroup.refCountingAddEntity(e,t),this.hitAllowedComponentStore.setComponent(e,t.hitAllowedComponent),e.groupMask|=this.groupMask,this.entitiesInGroup.add(e)}onEntityRemoved(e){e.groupMask&=~this.groupMask,this.entitiesInGroup.delete(e),this.hitTestableGroup.refCountingRemoveEntity(e),this.hitAllowedComponentStore.deleteComponent(e)}}t.InteractionGroup=a},5916:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EHoverState=void 0,(t=t.EHoverState||(t.EHoverState={}))[t.Left=1]="Left",t[t.Unchanged=2]="Unchanged",t[t.SegmentChange=3]="SegmentChange",t[t.Entered=4]="Entered"},611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.developerErrorLocalization=void 0,t.developerErrorLocalization={getTx:e=>e,glCompileError:"Failed to compile program, errors / warnings follow:"}},5139:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlCompileError=void 0;class n extends r(8078).NestableError{}t.GlCompileError=n},9850:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventService=void 0;const n=r(8078);t.EventService=class{constructor(){this.categories=new WeakMap}getCategory(e){let t=this.categories.get(e);return null==t&&(t=new n.BroadcastEvent(e.callbackKey),this.categories.set(e,t)),t}}},7589:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HitAlwaysAllowedComponent=void 0;t.HitAlwaysAllowedComponent=class{isHitAllowed(){return!0}}},3420:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HitTestResult=void 0;t.HitTestResult=class{constructor(e,t,r,n){this.entity=e,this.segmentIds=t,this.hitTestArg=r,this.filterMask=n}}},6765:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuadElementSharedObject=void 0;const n=r(8078);class i{constructor(e){this.rvp=n.RawVoidPointer.createOne(e,i.byteSize,!0),this.sharedObject=this.rvp.sharedObject}update(e,t,r){const n=this.rvp.getDataView();n.setUint32(0,e,i.littleEndian),n.setUint32(Uint32Array.BYTES_PER_ELEMENT,t,i.littleEndian),n.setUint32(2*Uint32Array.BYTES_PER_ELEMENT,r,i.littleEndian)}}(t.QuadElementSharedObject=i).elementCount=3,i.byteSize=Uint32Array.BYTES_PER_ELEMENT*i.elementCount,i.littleEndian=n.isLittleEndian},2878:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Range2dSharedObject=void 0;const n=r(8078);class i{constructor(e,t){this.byteSize=t,this.rvp=n.RawVoidPointer.createOne(e,t,!0),this.sharedObject=this.rvp.sharedObject}static createOneF32(e){return new i(e,4*Float32Array.BYTES_PER_ELEMENT)}static createOneF64(e){return new i(e,4*Float64Array.BYTES_PER_ELEMENT)}update(e){e.copyToBuffer(this.rvp.getDataView(),0,i.littleEndian)}}(t.Range2dSharedObject=i).littleEndian=n.isLittleEndian},147:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedEntityQuadTree=void 0;const n=r(8078),i=r(5880);t.SharedEntityQuadTree=class{constructor(e,t,r){this.hitTestArg=null,this.entities=[],this.uniqueEntities=new Set,this.isDirty=!0,this.sharedTree=i.SharedQuadTree.createOneF32(e,t,r),this.sharedObject=this.sharedTree.sharedObject}update(e){this.hitTestArg=e,this.isDirty&&this.regenerateIds()}addEntity(e){this.uniqueEntities.add(e),this.isDirty=!0}removeEntity(e){this.uniqueEntities.delete(e),this.isDirty=!0}regenerateIds(){var e=this.uniqueEntities;const r=this.entities=n._Set.valuesToArray(e);for(let e=0,t=r.length;e<t;++e)r[e].hitTestId=e;this.isDirty=!1}}},5880:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedQuadTree=void 0;const i=r(8078),a=r(2878),o=r(6765);class s{constructor(e,t,r,n){this.wrapper=e,this.maximumResultCount=n,this.onMemoryResize=()=>{this.results=this.getResultArray()};r=e.instance._f32QuadTree_createTree(t,r);this.sharedObject=new i.ReferenceCountedPtr(!1,r),this.sharedObject.registerOnFreeListener(this.wrapper.memoryResize.addTemporaryListener(this)),this.sharedObject.registerOnFreeListener(()=>this.wrapper.instance._f32QuadTree_delete(this.sharedObject.getPtr())),this.sharedRange2d=a.Range2dSharedObject.createOneF32(e),this.sharedObject.takeOwnership(this.sharedRange2d.sharedObject),this.sharedQuadElement=new o.QuadElementSharedObject(e),this.sharedObject.takeOwnership(this.sharedQuadElement.sharedObject),this.maximumResultCount=s.getResultCount(n),this.resultAddress=this.wrapper.instance._quadTree_getResultAddress(),this.results=this.getResultArray()}static createOneF32(e,t,r,n){return new s(e,t,r,n)}getResults(){return this.results}addBoundingBox(e,t,r,n){this.sharedQuadElement.update(t,r,n),this.sharedRange2d.update(e),this.wrapper.instance._f32QuadTree_insertRange(this.sharedObject.getPtr(),this.sharedRange2d.sharedObject.getPtr(),this.sharedQuadElement.sharedObject.getPtr())}setTopLevel(e){this.sharedRange2d.update(e),this.wrapper.instance._f32QuadTree_setTopLevel(this.sharedObject.getPtr(),this.sharedRange2d.sharedObject.getPtr())}setOptions(e,t){this.wrapper.instance._quadTree_setOptions(this.sharedObject.getPtr(),e,t)}queryPoint(e,t){return this.wrapper.instance._f32QuadTree_queryPoint(this.sharedObject.getPtr(),e.getX(),e.getY(),t)}getQuadElementCount(){return this.wrapper.instance._quadTree_getQuadElementCount(this.sharedObject.getPtr())}getResultArray(){return new Uint32Array(this.wrapper.memory.buffer,this.resultAddress,this.maximumResultCount)}static getResultCount(e){var t=16384*o.QuadElementSharedObject.byteSize;return i._Math.min(null!=e?e:t,t)}}t.SharedQuadTree=s},9533:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultInteractionGroups=void 0;const n=r(9651),i=r(9069);t.DefaultInteractionGroups=class{constructor(e,t){this.hitTestable=new n.HitTestableGroup(e,t),this.draggable=new i.InteractionGroup(1,this.hitTestable,t),this.clickable=new i.InteractionGroup(2,this.hitTestable,t),this.hoverable=new i.InteractionGroup(4,this.hitTestable,t)}}},391:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultInteractionSharedState=void 0;const c=r(8078),l=r(5916),d=r(7018),u=r(5286);function h(r,n){let i=d.EEntityUpdateFlag.NoUpdateRequired;for(let e=0,t=n.length;e<t;++e){const a=n[e];null!=a.entity.onHover&&(i|=a.entity.onHover(l.EHoverState.Left,a.segmentIds,r))}return i}function p(r,n,i){let a=d.EEntityUpdateFlag.NoUpdateRequired;for(let e=0,t=n.length;e<t;++e){const o=n[e];null!=o.entity.onHover&&(a|=o.entity.onHover(i,o.segmentIds,r))}return i===l.EHoverState.Unchanged?d.EEntityUpdateFlag.NoUpdateRequired:a}t.DefaultInteractionSharedState=class{constructor(e){this.providers=e,this.dragTargets=null,this.hoveredEntities=new Map}clearAllHoveredEntities(e){e=h(e,c._Map.valuesToArray(this.hoveredEntities));this.hoveredEntities.clear(),e!==d.EEntityUpdateFlag.NoUpdateRequired&&this.providers.callbacks.onEntityRequiresUpdate(e)}onHover(e){var t=this.providers.eventTargets.hoverTargetProvider.hitTestPlot(e),r=c._Array.index(t,e=>e.entity),n=c._Map.setDifference(r,this.hoveredEntities),i=c._Map.setDifference(this.hoveredEntities,r),a=c._Map.intersect(r,this.hoveredEntities),o=c._Map.valuesToArray(a),s=c._Map.valuesToArray(n),t=c._Map.valuesToArray(i),n=function(e,n){const i=new Map;return e.forEach((e,t)=>{var r=n.get(t);c._Set.isSetEqual(r.segmentIds,e.segmentIds)||i.set(t,e)}),i}(a,this.hoveredEntities),i=c._Map.valuesToArray(n),a=c._Map.setDifference(a,n),n=c._Map.valuesToArray(a),a=h(e,t);a|=p(e,n,l.EHoverState.Unchanged),a|=function(r,n){let i=d.EEntityUpdateFlag.NoUpdateRequired;for(let e=0,t=n.length;e<t;++e){const a=n[e];null!=a.entity.onHover&&(i|=a.entity.onHover(l.EHoverState.Entered,a.segmentIds,r))}return i}(e,s),a|=p(e,i,l.EHoverState.SegmentChange),this.hoveredEntities=r,(0<s.length||0<i.length||0<t.length)&&(n=new u.OnHoverResult(s,o,t,n),this.providers.callbacks.onHover(n,e)),a!==d.EEntityUpdateFlag.NoUpdateRequired&&this.providers.callbacks.onEntityRequiresUpdate(a)}onClick(e){var t=this.providers.eventTargets.clickTargetProvider.hitTestPlot(e),r=function(r,n){let i=d.EEntityUpdateFlag.NoUpdateRequired;for(let e=0,t=r.length;e<t;++e){const a=r[e];null!=a.entity.onClick&&(i|=a.entity.onClick(n,a.segmentIds))}return i}(t,e);this.providers.callbacks.onClick(t,e),r!==d.EEntityUpdateFlag.NoUpdateRequired&&this.providers.callbacks.onEntityRequiresUpdate(r)}onDblClick(e){var t=this.providers.eventTargets.clickTargetProvider.hitTestPlot(e),r=function(r,n){let i=d.EEntityUpdateFlag.NoUpdateRequired;for(let e=0,t=r.length;e<t;++e){const a=r[e];null!=a.entity.onDblClick&&(i|=a.entity.onDblClick(n,a.segmentIds))}return i}(t,e);this.providers.callbacks.onDoubleClick(t,e),r!==d.EEntityUpdateFlag.NoUpdateRequired&&this.providers.callbacks.onEntityRequiresUpdate(r)}}},4893:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DraggingState=void 0;const n=r(8078),i=r(4767);t.DraggingState=class{constructor(e,t,r,n){this.startEvent=e,this.options=t,this.providers=r,this.sharedState=n,this.handlePointerEvent(i.EPointerEventType.Move,this.startEvent)}handleMouseEvent(){return null}handlePointerEvent(e,t){switch(e){case i.EPointerEventType.Out:case i.EPointerEventType.Up:return this.startEvent.$event.pointerId===t.$event.pointerId?(this.providers.callbacks.onDragEnd(t),this.providers.stateFactories.getIdleState(null,this.options,this.providers,this.sharedState)):null;case i.EPointerEventType.Down:return null;case i.EPointerEventType.Move:return this.startEvent.$event.pointerId===t.$event.pointerId&&this.providers.callbacks.onDrag(t),null}return n._Production.assertValueIsNever(e)}}},8322:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChartInitialState=void 0;const n=r(4234),i=r(391);t.getChartInitialState=function(e,t){return new n.IdleState(null,e,t,new i.DefaultInteractionSharedState(t))}},4234:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdleState=void 0;const i=r(8078),a=r(4767),n=r(7287),o=r(7363);t.IdleState=class{constructor(e,t,r,n){this.lastClick=e,this.options=t,this.providers=r,this.sharedState=n,null!=this.lastClick&&null!=this.options.doubleClickOptions&&setTimeout(()=>this.lastClick=null,this.options.doubleClickOptions.timeout)}handleMouseEvent(e,t){return e===n.EMouseEventType.Wheel?(this.providers.callbacks.onWheel(t,-t.$event.deltaY),null):i._Production.assertValueIsNever(e)}handlePointerEvent(e,n){switch(e){case a.EPointerEventType.Down:if(n.$event.button!==o.EPointerEventButton.LeftMouse)return n.$event.button===o.EPointerEventButton.RightMouse&&this.sharedState.onClick(n),null;{const t=this.providers.eventTargets.dragTargetProvider.hitTestPlot(n);return 0<t.length&&(this.sharedState.dragTargets=this.providers.callbacks.onDragStart(t,n)?t.filter(e=>{var t,r;return null===(r=(t=e.entity).onDragStart)||void 0===r?void 0:r.call(t,n,e.segmentIds)}):null,null!=this.sharedState.dragTargets)?this.providers.stateFactories.getDraggingState(n,this.options,this.providers,this.sharedState):this.providers.stateFactories.getIndeterminateState(n,this.options,this.providers,this.sharedState,this.lastClick)}case a.EPointerEventType.Move:return this.sharedState.onHover(n),null;case a.EPointerEventType.Out:case a.EPointerEventType.Up:return this.sharedState.clearAllHoveredEntities(n),null}return i._Production.assertValueIsNever(e)}}},4438:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndeterminateState=void 0;const n=r(8078),i=r(4767),a=r(4723);t.IndeterminateState=class{constructor(e,t,r,n,i){this.downEvent=e,this.options=t,this.providers=r,this.sharedState=n,this.lastClick=i}handleMouseEvent(){return null}handlePointerEvent(e,t){switch(e){case i.EPointerEventType.Down:return t.$event.pointerId!==this.downEvent.$event.pointerId?(this.sharedState.clearAllHoveredEntities(t),this.providers.stateFactories.getPinchZoomingState(this.downEvent,t,this.options,this.providers,this.sharedState)):null;case i.EPointerEventType.Move:return this.downEvent.$event.pointerId!==t.$event.pointerId?null:this.providers.stateFactories.getPanningState(t,this.options,this.providers,this.sharedState);case i.EPointerEventType.Out:return this.providers.stateFactories.getIdleState(null,this.options,this.providers,this.sharedState);case i.EPointerEventType.Up:return this.isDoubleClick(t.$event)?(this.sharedState.onDblClick(t),this.providers.stateFactories.getIdleState(null,this.options,this.providers,this.sharedState)):(this.sharedState.onClick(t),this.providers.stateFactories.getIdleState({chartEvent:t,timestamp:performance.now()},this.options,this.providers,this.sharedState))}return n._Production.assertValueIsNever(e)}isDoubleClick(e){return null!=this.options.doubleClickOptions&&(null!=this.lastClick&&this.downEvent.$event.pointerId===e.pointerId&&(!(performance.now()>this.lastClick.timestamp+this.options.doubleClickOptions.timeout)&&!((0,a.getDistanceBetweenPointerEvents)(this.lastClick.chartEvent.$event,e)>this.options.doubleClickOptions.maxRadius)))}}},6156:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PanningState=void 0;const a=r(8078),o=r(4767);t.PanningState=class{constructor(e,t,r,n){this.startEvent=e,this.options=t,this.providers=r,this.sharedState=n,this.previousClientX=e.$event.clientX,this.previousClientY=e.$event.clientY,this.handlePointerEvent(o.EPointerEventType.Move,this.startEvent)}handleMouseEvent(){return null}handlePointerEvent(e,t){switch(e){case o.EPointerEventType.Out:case o.EPointerEventType.Up:return this.startEvent.$event.pointerId!==t.$event.pointerId?null:this.providers.stateFactories.getIdleState(null,this.options,this.providers,this.sharedState);case o.EPointerEventType.Down:return a._Fp.valueOrNull(t.$event.pointerId!==this.startEvent.$event.pointerId,this.providers.stateFactories.getPinchZoomingState(this.startEvent,t,this.options,this.providers,this.sharedState));case o.EPointerEventType.Move:var r,n,i;return this.startEvent.$event.pointerId===t.$event.pointerId&&(r=t.$event.clientX-this.previousClientX,n=t.$event.clientY-this.previousClientY,i=this.providers.attachPoint.canvasDims,this.providers.callbacks.onPan(t,r*i.dpr,-n*i.dpr),this.previousClientX=t.$event.clientX,this.previousClientY=t.$event.clientY),null}return a._Production.assertValueIsNever(e)}}},6290:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PinchZoomingState=void 0;const a=r(8078),n=r(4767),o=r(4723),s=r(9812);t.PinchZoomingState=class{constructor(e,t,r,n,i){this.firstFingerDownEvent=e,this.secondFingerDownEvent=t,this.options=r,this.providers=n,this.sharedState=i,this.cssCenterPoint=new a.Vec2.f32;i=(0,o.getDistanceBetweenPointerEvents)(e.$event,t.$event);this.initialDistance=a._Math.max(i,1),(0,s.getCenterBetweenPointerEvents)(e,t,this.cssCenterPoint),this.providers.callbacks.onPanZoomStart(this.cssCenterPoint,this.initialDistance)}handleMouseEvent(){return null}handlePointerEvent(e,t){switch(this.updateEvents(t),(0,s.getCenterBetweenPointerEvents)(this.firstFingerDownEvent,this.secondFingerDownEvent,this.cssCenterPoint),e){case n.EPointerEventType.Out:case n.EPointerEventType.Up:return a._Fp.valueOrNull(this.isInitialPointer(t),this.providers.stateFactories.getPanningState(this.getRemainingEvent(t),this.options,this.providers,this.sharedState));case n.EPointerEventType.Down:return null;case n.EPointerEventType.Move:var r;return this.isInitialPointer(t)&&(r=(0,o.getDistanceBetweenPointerEvents)(this.firstFingerDownEvent.$event,this.secondFingerDownEvent.$event),r=a._Math.max(r,1),this.providers.callbacks.onPanZoomChange(t,this.cssCenterPoint,r)),null}return a._Production.assertValueIsNever(e)}updateEvents(e){this.firstFingerDownEvent.$event.pointerId===e.$event.pointerId?this.firstFingerDownEvent=e.clone():this.secondFingerDownEvent.$event.pointerId===e.$event.pointerId&&(this.secondFingerDownEvent=e.clone())}isInitialPointer(e){return this.firstFingerDownEvent.$event.pointerId===e.$event.pointerId||this.secondFingerDownEvent.$event.pointerId===e.$event.pointerId}getRemainingEvent(e){return this.firstFingerDownEvent.$event.pointerId===e.$event.pointerId?this.secondFingerDownEvent:this.firstFingerDownEvent}}},80:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlotStateFactories=void 0;const i=r(4893),a=r(4234),o=r(4438),s=r(6156),c=r(6290);t.PlotStateFactories=class{getDraggingState(e,t,r,n){return new i.DraggingState(e.clone(),t,r,n)}getIdleState(e,t,r,n){return new a.IdleState(e,t,r,n)}getIndeterminateState(e,t,r,n,i){return new o.IndeterminateState(e.clone(),t,r,n,i)}getPanningState(e,t,r,n){return new s.PanningState(e.clone(),t,r,n)}getPinchZoomingState(e,t,r,n,i){return new c.PinchZoomingState(e.clone(),t.clone(),r,n,i)}}},9727:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChartPointerEvent=void 0;const n=r(8078),i=r(3460);t.ChartPointerEvent=class a{constructor(e,t,r,n){this.canvasDims=e,this.pointerCssPosition=t,this.pointerClipPosition=r,this.$event=n}static createOneEmpty(){return new a(i.CanvasDimensions.createDefault(),n.Vec2.f32.factory.createOneEmpty(),n.Vec2.f32.factory.createOneEmpty(),new PointerEvent("dummy"))}clone(){return new a(this.canvasDims.clone(),this.pointerCssPosition.slice(),this.pointerClipPosition.slice(),this.$event)}}},7287:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EMouseEventTypeNames=t.EMouseEventType=void 0,(r=t.EMouseEventType||(t.EMouseEventType={}))[r.Wheel=0]="Wheel";class n{}(t.EMouseEventTypeNames=n)[r.Wheel]="Wheel"},7363:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EPointerEventButton=void 0,(t=t.EPointerEventButton||(t.EPointerEventButton={}))[t.LeftMouse=0]="LeftMouse",t[t.TouchContact=0]="TouchContact",t[t.PenContact=0]="PenContact",t[t.MiddleMouse=1]="MiddleMouse",t[t.RightMouse=2]="RightMouse",t[t.PenBarrelButton=2]="PenBarrelButton",t[t.MouseBack=3]="MouseBack",t[t.MouseForward=4]="MouseForward",t[t.PenEraser=5]="PenEraser"},4767:(e,t)=>{"use strict";var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.EPointerEventTypeNames=t.EPointerEventType=void 0,(i=n=t.EPointerEventType||(t.EPointerEventType={}))[i.Move=0]="Move",i[i.Up=1]="Up",i[i.Down=2]="Down",i[i.Out=3]="Out";class a{}t.EPointerEventTypeNames=a,r=n.Move,i=n.Up,t=n.Down,n=n.Out,a[r]="Mouse move",a[i]="Mouse up",a[t]="Mouse down",a[n]="Mouse out"},6175:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PointerEventProvider=void 0;const n=r(3460);t.PointerEventProvider=class{constructor(e){this.attachPoint=e,this.canvasDimensions=n.CanvasDimensions.createDefault()}updatePointerEvent(e,t){var r=(t.$event=e).clientX-this.attachPoint.canvasDims.boundingRect.getXMin(),e=e.clientY-this.attachPoint.canvasDims.boundingRect.getYMin();t.pointerCssPosition.update(r,this.canvasDimensions.cssDims.getYRange()-e),t.pointerCssPosition.mat3Multiply(this.canvasDimensions.transforms.cssToClip,t.pointerClipPosition),t.canvasDims=this.canvasDimensions}setCanvasDims(e){this.canvasDimensions=e}}},5286:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnHoverResult=void 0;t.OnHoverResult=class{constructor(e,t,r,n){this.newlyHovered=e,this.stillHovered=t,this.noLongerHovered=r,this.unchanged=n}}},1225:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlotEventHandler=void 0;const n=r(4767),i=(r(8078),r(7287),r(6175)),a=r(9727);t.PlotEventHandler=class{constructor(e,t){this.plot=t,this.pointerEvent=a.ChartPointerEvent.createOneEmpty(),this.currentState=e,this.pointerEventProvider=new i.PointerEventProvider(t.attachPoint)}onCanvasResized(e){this.pointerEventProvider.setCanvasDims(e)}onPointerEvent(e,t){this.pointerEventProvider.updatePointerEvent(t,this.pointerEvent),this.plot.plotDimensionsOBL.clipSpaceArea.interactiveRange.isPointInRange(this.pointerEvent.pointerClipPosition)||(e=n.EPointerEventType.Out);const r=this.currentState.handlePointerEvent(e,this.pointerEvent);null!=r&&(this.currentState=r)}onMouseEvent(e,t){if(this.pointerEventProvider.updatePointerEvent(t,this.pointerEvent),this.plot.plotDimensionsOBL.clipSpaceArea.interactiveRange.isPointInRange(this.pointerEvent.pointerClipPosition)){const r=this.currentState.handleMouseEvent(e,this.pointerEvent);null!=r&&(this.currentState=r)}}}},7490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlotInteractionProviders=void 0;const n=r(80);t.PlotInteractionProviders=class{constructor(e,t,r){this.callbacks=e,this.eventTargets=t,this.attachPoint=r,this.stateFactories=new n.PlotStateFactories}}},4499:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuadEventTargetProvider=void 0;const h=r(3420),p=r(6765),f=r(8078);t.QuadEventTargetProvider=class{constructor(e,t){this.hitTestableEntities=e,this.quadTree=t}hitTestPlot(r){var n=this.quadTree.sharedTree.queryPoint(r.pointerCssPosition,this.hitTestableEntities.groupMask),i=this.quadTree.entities,a=this.quadTree.sharedTree.getResults(),o=this.quadTree.hitTestArg;const s=new Map;null==o&&f._Production.error("updateArg must be set before query");for(let e=0,t=n*p.QuadElementSharedObject.elementCount;e<t;e+=p.QuadElementSharedObject.elementCount){var c=i[a[e]];if(this.hitTestableEntities.hitAllowedComponentStore.getComponent(c).isHitAllowed(c,r,o)){var l=a[e+1];if(this.hitTestableEntities.hitTestableGroup.getHitTester(c).hitTest(c,l,r.pointerCssPosition,o)){const d=s.get(c);if(null==d){const u=new Set;u.add(l),s.set(c,new h.HitTestResult(c,u,o,a[e+2]))}else d.segmentIds.add(l)}}}return f._Map.valuesToArray(s)}}},2481:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuadTreeEventTargetProvider=void 0;const i=r(4499),u=r(8078);t.QuadTreeEventTargetProvider=class{constructor(e,t,r,n){this.entityTree=e,this.plot=t,this.interactiveGroups=r,this.options=n,this.dragTargetProvider=new i.QuadEventTargetProvider(this.interactiveGroups.draggable,this.entityTree),this.clickTargetProvider=new i.QuadEventTargetProvider(this.interactiveGroups.clickable,this.entityTree),this.hoverTargetProvider=new i.QuadEventTargetProvider(this.interactiveGroups.hoverable,this.entityTree)}*update(e,r){const t=this.plot.plotDimensionsOBL.cssArea.wholeRange;var n=u._Math.max(t.getXRange(),t.getYRange());this.entityTree.sharedTree.setOptions(Math.ceil(Math.log2(n)),4),this.entityTree.sharedTree.setTopLevel(t);var i=this.interactiveGroups.hitTestable.getEntitiesByHitTester(),a=this.interactiveGroups.hitTestable.argProvider.getUpdateArg(this.plot,e);this.entityTree.update(a);var o=this.entityTree,s=this.options.yieldTime;for(let e=0,t=i.length;e<t;++e){const d=i[e][0];var c=i[e][1];for(let e=0,t=c.length;e<t;++e){performance.now()-r>s&&(yield,r=performance.now());var l=c[e];d.index(l,a,o)}}}}},7758:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserEventHandlerCallbacks=void 0;const n=r(8078);t.UserEventHandlerCallbacks=class{onEntityRequiresUpdate(){}onDragStart(){return!0}onDrag(){}onDragEnd(){}onPan(){}onWheel(){}onPanZoomStart(){}onPanZoomChange(){}onClick(){}onDoubleClick(){}onHover(){}onCanvasResized(){}constructor(e){n._Dictionary.extend(this,e)}}},9812:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCenterBetweenPointerEvents=void 0;const n=r(8078);t.getCenterBetweenPointerEvents=function(e,t,r=new n.Vec2.f32){return e.pointerCssPosition.add(t.pointerCssPosition,r).scalarMultiply(.5,r),r}},4723:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDistanceBetweenPointerEvents=void 0,t.getDistanceBetweenPointerEvents=function(e,t){var r=e.clientX-t.clientX,t=e.clientY-t.clientY;return Math.hypot(r,t)}},6899:()=>{},9547:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpriteProvider=t.SpriteLookup=t.GlProgramSpecification=t.GlFloatAttribute=t.GlBuffer=t.UserEventHandlerCallbacks=t.OnPlotRequiresUpdate=t.OnCanvasPointerEvent=t.OnCanvasMouseEvent=t.AGlInstancedBinder=t.reverseYFullClipSpaceRange2d=t.fullClipSpaceSize2d=t.fullClipSpaceRange2d=t.DefaultInteractionGroups=t.PlotInteractionConnector=t.QuadTreeEventTargetProvider=t.QuadEventTargetProvider=t.getChartInitialState=t.emptyShader=t.CanvasRendererSharedState=t.CanvasRendererFactory=t.CanvasComponentRendererProvider=t.CanvasContextAdapter=t.CanvasRenderer=t.InterleavedConnector=t.AGlAttribute=t.InteractionGroup=t.IdleState=t.HitTestableGroup=t.HitAlwaysAllowedComponent=t.OnDprChanged=t.EEntityUpdateFlag=t.GlTransformProvider=t.TransformComponentStore=t.NoTransformProvider=t.EGraphicsComponentType=t.UpdateTransformGroupingByEntity=t.EntityUpdateTransformGrouping=t.GlTransformFeedback=t.AttributeState=t.ChartTransformFactory=t.linkGraphicsComponents=t.assertBinder=t.GlIVec2Uniform=t.GlIVec3Uniform=t.GlIVec4Uniform=t.OnRendererContextLost=t.OnGraphicsComponentAdded=t.addEntityToCategory=t.OnHoverResult=void 0,t.GlContextAdapter=t.Gl2ContextAdapter=t.Gl1ContextAdapter=t.generate2LinedNormalShader=t.mat2MultiplyValueShader=t.mat3MultiplyVec2Shader=t.mixComponentsShader=t.unpackColorShader=t.GlTexture2d=t.ChartEntity=t.GraphicsSubComponents=t.GlComponentRendererProvider=t.Plot=t.PlotArea=t.GraphAttachPoint=t.AEntityGroup=t.EventService=t.OnCanvasResized=t.PlotDimensions=t.ChartPointerEvent=t.HitTestResult=t.EMouseEventType=t.EPointerEventType=t.PlotCtorArg=t.PlotInteractionProviders=t.ChartConfig=t.GraphAttachPointProvider=t.CanvasTransforms=t.ChartComponent=t.PlotStateFactories=t.FrameProvider=t.CanvasChartFactory=t.GlChartFactory=t.CanvasComponentRenderer=t.EntityComponentStore=t.CategoryStore=t.OnEntityAdded=t.OnEntityAddedToGroup=t.OnPlotDetached=t.OnPlotAttached=t.OnEntityRemovedFromGroup=t.OnEntityRemoved=t.OnEntityModified=t.RenderList=t.EntityUpdateGrouping=t.EntityCategory=t.EHoverState=t.ChartDataEntity=t.dummyGlProgramSpecification=t.CanvasDimensions=void 0,t.GraphicsComponentStore=t.GlTransformComponentFactory=t.GlFloatBuffer=t.AInterleavedConnector=t.SharedInterleavedConnector=t.SharedQuadTree=t.SharedEntityQuadTree=t.GlNoOpGraphicsComponent=t.CanvasNoOpGraphicsComponent=t.CompositeGraphicsComponent=t.GlShader=t.GlRendererSharedState=t.GlRendererOptions=t.GlComponentRendererFactory=t.GlRenderer=t.AGlUniformArray=t.GlMat4Uniform=t.GlMat3Uniform=t.GlMat2Uniform=t.GlVec4Uniform=t.GlVec3Uniform=t.GlVec2Uniform=t.GlFloatUniform=t.AGlUniformValue=t.AGlBinder=t.GlComponentRenderer=void 0,r(6899);var n=r(5286);Object.defineProperty(t,"OnHoverResult",{enumerable:!0,get:function(){return n.OnHoverResult}});var i=r(3737);Object.defineProperty(t,"addEntityToCategory",{enumerable:!0,get:function(){return i.addEntityToCategory}});var a=r(4465);Object.defineProperty(t,"OnGraphicsComponentAdded",{enumerable:!0,get:function(){return a.OnGraphicsComponentAdded}});var o=r(8015);Object.defineProperty(t,"OnRendererContextLost",{enumerable:!0,get:function(){return o.OnRendererContextLost}});var s=r(8952);Object.defineProperty(t,"GlIVec4Uniform",{enumerable:!0,get:function(){return s.GlIVec4Uniform}});var c=r(7573);Object.defineProperty(t,"GlIVec3Uniform",{enumerable:!0,get:function(){return c.GlIVec3Uniform}});var l=r(1973);Object.defineProperty(t,"GlIVec2Uniform",{enumerable:!0,get:function(){return l.GlIVec2Uniform}});var d=r(9435);Object.defineProperty(t,"assertBinder",{enumerable:!0,get:function(){return d.assertBinder}});var u=r(1941);Object.defineProperty(t,"linkGraphicsComponents",{enumerable:!0,get:function(){return u.linkGraphicsComponents}});var h=r(82);Object.defineProperty(t,"ChartTransformFactory",{enumerable:!0,get:function(){return h.ChartTransformFactory}});var p=r(3739);Object.defineProperty(t,"AttributeState",{enumerable:!0,get:function(){return p.AttributeState}});var f=r(6660);Object.defineProperty(t,"GlTransformFeedback",{enumerable:!0,get:function(){return f.GlTransformFeedback}});var g=r(1363);Object.defineProperty(t,"EntityUpdateTransformGrouping",{enumerable:!0,get:function(){return g.EntityUpdateTransformGrouping}});var m=r(2513);Object.defineProperty(t,"UpdateTransformGroupingByEntity",{enumerable:!0,get:function(){return m.UpdateTransformGroupingByEntity}});var y=r(6630);Object.defineProperty(t,"EGraphicsComponentType",{enumerable:!0,get:function(){return y.EGraphicsComponentType}});var v=r(1018);Object.defineProperty(t,"NoTransformProvider",{enumerable:!0,get:function(){return v.NoTransformProvider}});var b=r(9275);Object.defineProperty(t,"TransformComponentStore",{enumerable:!0,get:function(){return b.TransformComponentStore}});var C=r(3296);Object.defineProperty(t,"GlTransformProvider",{enumerable:!0,get:function(){return C.GlTransformProvider}});var P=r(7018);Object.defineProperty(t,"EEntityUpdateFlag",{enumerable:!0,get:function(){return P.EEntityUpdateFlag}});var E=r(3484);Object.defineProperty(t,"OnDprChanged",{enumerable:!0,get:function(){return E.OnDprChanged}});var _=r(7589);Object.defineProperty(t,"HitAlwaysAllowedComponent",{enumerable:!0,get:function(){return _.HitAlwaysAllowedComponent}});var O=r(9651);Object.defineProperty(t,"HitTestableGroup",{enumerable:!0,get:function(){return O.HitTestableGroup}});var T=r(4234);Object.defineProperty(t,"IdleState",{enumerable:!0,get:function(){return T.IdleState}});var w=r(9069);Object.defineProperty(t,"InteractionGroup",{enumerable:!0,get:function(){return w.InteractionGroup}});var S=r(3261);Object.defineProperty(t,"AGlAttribute",{enumerable:!0,get:function(){return S.AGlAttribute}});var M=r(5200);Object.defineProperty(t,"InterleavedConnector",{enumerable:!0,get:function(){return M.InterleavedConnector}});var A=r(9513);Object.defineProperty(t,"CanvasRenderer",{enumerable:!0,get:function(){return A.CanvasRenderer}});var R=r(451);Object.defineProperty(t,"CanvasContextAdapter",{enumerable:!0,get:function(){return R.CanvasContextAdapter}});var x=r(724);Object.defineProperty(t,"CanvasComponentRendererProvider",{enumerable:!0,get:function(){return x.CanvasComponentRendererProvider}});var I=r(1893);Object.defineProperty(t,"CanvasRendererFactory",{enumerable:!0,get:function(){return I.CanvasRendererFactory}});var G=r(7462);Object.defineProperty(t,"CanvasRendererSharedState",{enumerable:!0,get:function(){return G.CanvasRendererSharedState}});var j=r(1224);Object.defineProperty(t,"emptyShader",{enumerable:!0,get:function(){return j.emptyShader}});var D=r(8322);Object.defineProperty(t,"getChartInitialState",{enumerable:!0,get:function(){return D.getChartInitialState}});var L=r(4499);Object.defineProperty(t,"QuadEventTargetProvider",{enumerable:!0,get:function(){return L.QuadEventTargetProvider}});var B=r(2481);Object.defineProperty(t,"QuadTreeEventTargetProvider",{enumerable:!0,get:function(){return B.QuadTreeEventTargetProvider}});var U=r(5841);Object.defineProperty(t,"PlotInteractionConnector",{enumerable:!0,get:function(){return U.PlotInteractionConnector}});var F=r(9533);Object.defineProperty(t,"DefaultInteractionGroups",{enumerable:!0,get:function(){return F.DefaultInteractionGroups}});var V=r(1030);Object.defineProperty(t,"fullClipSpaceRange2d",{enumerable:!0,get:function(){return V.fullClipSpaceRange2d}});var k=r(1538);Object.defineProperty(t,"fullClipSpaceSize2d",{enumerable:!0,get:function(){return k.fullClipSpaceSize2d}});var z=r(7905);Object.defineProperty(t,"reverseYFullClipSpaceRange2d",{enumerable:!0,get:function(){return z.reverseYFullClipSpaceRange2d}});var N=r(8635);Object.defineProperty(t,"AGlInstancedBinder",{enumerable:!0,get:function(){return N.AGlInstancedBinder}});var Y=r(6454);Object.defineProperty(t,"OnCanvasMouseEvent",{enumerable:!0,get:function(){return Y.OnCanvasMouseEvent}});var H=r(7124);Object.defineProperty(t,"OnCanvasPointerEvent",{enumerable:!0,get:function(){return H.OnCanvasPointerEvent}});var X=r(786);Object.defineProperty(t,"OnPlotRequiresUpdate",{enumerable:!0,get:function(){return X.OnPlotRequiresUpdate}});var q=r(7758);Object.defineProperty(t,"UserEventHandlerCallbacks",{enumerable:!0,get:function(){return q.UserEventHandlerCallbacks}});var W=r(3453);Object.defineProperty(t,"GlBuffer",{enumerable:!0,get:function(){return W.GlBuffer}});var $=r(836);Object.defineProperty(t,"GlFloatAttribute",{enumerable:!0,get:function(){return $.GlFloatAttribute}});var Q=r(2934);Object.defineProperty(t,"GlProgramSpecification",{enumerable:!0,get:function(){return Q.GlProgramSpecification}});var Z=r(6447);Object.defineProperty(t,"SpriteLookup",{enumerable:!0,get:function(){return Z.SpriteLookup}});var K=r(5281);Object.defineProperty(t,"SpriteProvider",{enumerable:!0,get:function(){return K.SpriteProvider}});var J=r(3460);Object.defineProperty(t,"CanvasDimensions",{enumerable:!0,get:function(){return J.CanvasDimensions}});var ee=r(6952);Object.defineProperty(t,"dummyGlProgramSpecification",{enumerable:!0,get:function(){return ee.dummyGlProgramSpecification}});var te=r(4540);Object.defineProperty(t,"ChartDataEntity",{enumerable:!0,get:function(){return te.ChartDataEntity}});var re=r(5916);Object.defineProperty(t,"EHoverState",{enumerable:!0,get:function(){return re.EHoverState}});var ne=r(8348);Object.defineProperty(t,"EntityCategory",{enumerable:!0,get:function(){return ne.EntityCategory}});var ie=r(81);Object.defineProperty(t,"EntityUpdateGrouping",{enumerable:!0,get:function(){return ie.EntityUpdateGrouping}});var ae=r(2739);Object.defineProperty(t,"RenderList",{enumerable:!0,get:function(){return ae.RenderList}});var oe=r(1605);Object.defineProperty(t,"OnEntityModified",{enumerable:!0,get:function(){return oe.OnEntityModified}});var se=r(6803);Object.defineProperty(t,"OnEntityRemoved",{enumerable:!0,get:function(){return se.OnEntityRemoved}});var ce=r(2806);Object.defineProperty(t,"OnEntityRemovedFromGroup",{enumerable:!0,get:function(){return ce.OnEntityRemovedFromGroup}});var le=r(2241);Object.defineProperty(t,"OnPlotAttached",{enumerable:!0,get:function(){return le.OnPlotAttached}});var de=r(9048);Object.defineProperty(t,"OnPlotDetached",{enumerable:!0,get:function(){return de.OnPlotDetached}});var ue=r(2601);Object.defineProperty(t,"OnEntityAddedToGroup",{enumerable:!0,get:function(){return ue.OnEntityAddedToGroup}});var he=r(7809);Object.defineProperty(t,"OnEntityAdded",{enumerable:!0,get:function(){return he.OnEntityAdded}});var pe=r(5612);Object.defineProperty(t,"CategoryStore",{enumerable:!0,get:function(){return pe.CategoryStore}});var fe=r(199);Object.defineProperty(t,"EntityComponentStore",{enumerable:!0,get:function(){return fe.EntityComponentStore}});var ge=r(3624);Object.defineProperty(t,"CanvasComponentRenderer",{enumerable:!0,get:function(){return ge.CanvasComponentRenderer}});var me=r(7078);Object.defineProperty(t,"GlChartFactory",{enumerable:!0,get:function(){return me.GlChartFactory}});var ye=r(1228);Object.defineProperty(t,"CanvasChartFactory",{enumerable:!0,get:function(){return ye.CanvasChartFactory}});var ve=r(1004);Object.defineProperty(t,"FrameProvider",{enumerable:!0,get:function(){return ve.FrameProvider}});var be=r(80);Object.defineProperty(t,"PlotStateFactories",{enumerable:!0,get:function(){return be.PlotStateFactories}});var Ce=r(9145);Object.defineProperty(t,"ChartComponent",{enumerable:!0,get:function(){return Ce.ChartComponent}});var Pe=r(8245);Object.defineProperty(t,"CanvasTransforms",{enumerable:!0,get:function(){return Pe.CanvasTransforms}});var Ee=r(1780);Object.defineProperty(t,"GraphAttachPointProvider",{enumerable:!0,get:function(){return Ee.GraphAttachPointProvider}});var _e=r(8811);Object.defineProperty(t,"ChartConfig",{enumerable:!0,get:function(){return _e.ChartConfig}});var Oe=r(7490);Object.defineProperty(t,"PlotInteractionProviders",{enumerable:!0,get:function(){return Oe.PlotInteractionProviders}});var Te=r(6554);Object.defineProperty(t,"PlotCtorArg",{enumerable:!0,get:function(){return Te.PlotCtorArg}});var we=r(4767);Object.defineProperty(t,"EPointerEventType",{enumerable:!0,get:function(){return we.EPointerEventType}});var Se=r(7287);Object.defineProperty(t,"EMouseEventType",{enumerable:!0,get:function(){return Se.EMouseEventType}});var Me=r(3420);Object.defineProperty(t,"HitTestResult",{enumerable:!0,get:function(){return Me.HitTestResult}});var Ae=r(9727);Object.defineProperty(t,"ChartPointerEvent",{enumerable:!0,get:function(){return Ae.ChartPointerEvent}});var Re=r(7752);Object.defineProperty(t,"PlotDimensions",{enumerable:!0,get:function(){return Re.PlotDimensions}});var xe=r(1997);Object.defineProperty(t,"OnCanvasResized",{enumerable:!0,get:function(){return xe.OnCanvasResized}});var Ie=r(9850);Object.defineProperty(t,"EventService",{enumerable:!0,get:function(){return Ie.EventService}});var Ge=r(4459);Object.defineProperty(t,"AEntityGroup",{enumerable:!0,get:function(){return Ge.AEntityGroup}});var je=r(5018);Object.defineProperty(t,"GraphAttachPoint",{enumerable:!0,get:function(){return je.GraphAttachPoint}});var De=r(1717);Object.defineProperty(t,"PlotArea",{enumerable:!0,get:function(){return De.PlotArea}});var Le=r(7529);Object.defineProperty(t,"Plot",{enumerable:!0,get:function(){return Le.Plot}});var Be=r(7130);Object.defineProperty(t,"GlComponentRendererProvider",{enumerable:!0,get:function(){return Be.GlComponentRendererProvider}});var Ue=r(9677);Object.defineProperty(t,"GraphicsSubComponents",{enumerable:!0,get:function(){return Ue.GraphicsSubComponents}});var Fe=r(3569);Object.defineProperty(t,"ChartEntity",{enumerable:!0,get:function(){return Fe.ChartEntity}});var Ve=r(1127);Object.defineProperty(t,"GlTexture2d",{enumerable:!0,get:function(){return Ve.GlTexture2d}});var ke=r(8783);Object.defineProperty(t,"unpackColorShader",{enumerable:!0,get:function(){return ke.unpackColorShader}});var ze=r(5377);Object.defineProperty(t,"mixComponentsShader",{enumerable:!0,get:function(){return ze.mixComponentsShader}});var Ne=r(1850);Object.defineProperty(t,"mat3MultiplyVec2Shader",{enumerable:!0,get:function(){return Ne.mat3MultiplyVec2Shader}});var Ye=r(6196);Object.defineProperty(t,"mat2MultiplyValueShader",{enumerable:!0,get:function(){return Ye.mat2MultiplyValueShader}});var He=r(1626);Object.defineProperty(t,"generate2LinedNormalShader",{enumerable:!0,get:function(){return He.generate2LinedNormalShader}});var Xe=r(3669);Object.defineProperty(t,"Gl1ContextAdapter",{enumerable:!0,get:function(){return Xe.Gl1ContextAdapter}});var qe=r(6576);Object.defineProperty(t,"Gl2ContextAdapter",{enumerable:!0,get:function(){return qe.Gl2ContextAdapter}});var We=r(40);Object.defineProperty(t,"GlContextAdapter",{enumerable:!0,get:function(){return We.GlContextAdapter}});var $e=r(2516);Object.defineProperty(t,"GlComponentRenderer",{enumerable:!0,get:function(){return $e.GlComponentRenderer}});var Qe=r(2889);Object.defineProperty(t,"AGlBinder",{enumerable:!0,get:function(){return Qe.AGlBinder}});var Ze=r(9836);Object.defineProperty(t,"AGlUniformValue",{enumerable:!0,get:function(){return Ze.AGlUniformValue}});var Ke=r(9333);Object.defineProperty(t,"GlFloatUniform",{enumerable:!0,get:function(){return Ke.GlFloatUniform}});var Je=r(4992);Object.defineProperty(t,"GlVec2Uniform",{enumerable:!0,get:function(){return Je.GlVec2Uniform}});var et=r(9253);Object.defineProperty(t,"GlVec3Uniform",{enumerable:!0,get:function(){return et.GlVec3Uniform}});var tt=r(7558);Object.defineProperty(t,"GlVec4Uniform",{enumerable:!0,get:function(){return tt.GlVec4Uniform}});var rt=r(1394);Object.defineProperty(t,"GlMat2Uniform",{enumerable:!0,get:function(){return rt.GlMat2Uniform}});var nt=r(502);Object.defineProperty(t,"GlMat3Uniform",{enumerable:!0,get:function(){return nt.GlMat3Uniform}});var it=r(3066);Object.defineProperty(t,"GlMat4Uniform",{enumerable:!0,get:function(){return it.GlMat4Uniform}});var at=r(8763);Object.defineProperty(t,"AGlUniformArray",{enumerable:!0,get:function(){return at.AGlUniformArray}});var ot=r(7625);Object.defineProperty(t,"GlRenderer",{enumerable:!0,get:function(){return ot.GlRenderer}});var st=r(4577);Object.defineProperty(t,"GlComponentRendererFactory",{enumerable:!0,get:function(){return st.GlComponentRendererFactory}});var ct=r(5734);Object.defineProperty(t,"GlRendererOptions",{enumerable:!0,get:function(){return ct.GlRendererOptions}});var lt=r(159);Object.defineProperty(t,"GlRendererSharedState",{enumerable:!0,get:function(){return lt.GlRendererSharedState}});var dt=r(3890);Object.defineProperty(t,"GlShader",{enumerable:!0,get:function(){return dt.GlShader}});var ut=r(9600);Object.defineProperty(t,"CompositeGraphicsComponent",{enumerable:!0,get:function(){return ut.CompositeGraphicsComponent}});var ht=r(533);Object.defineProperty(t,"CanvasNoOpGraphicsComponent",{enumerable:!0,get:function(){return ht.CanvasNoOpGraphicsComponent}});var pt=r(7446);Object.defineProperty(t,"GlNoOpGraphicsComponent",{enumerable:!0,get:function(){return pt.GlNoOpGraphicsComponent}});var ft=r(147);Object.defineProperty(t,"SharedEntityQuadTree",{enumerable:!0,get:function(){return ft.SharedEntityQuadTree}});var gt=r(5880);Object.defineProperty(t,"SharedQuadTree",{enumerable:!0,get:function(){return gt.SharedQuadTree}});var mt=r(3111);Object.defineProperty(t,"SharedInterleavedConnector",{enumerable:!0,get:function(){return mt.SharedInterleavedConnector}});var yt=r(9469);Object.defineProperty(t,"AInterleavedConnector",{enumerable:!0,get:function(){return yt.AInterleavedConnector}});var vt=r(5255);Object.defineProperty(t,"GlFloatBuffer",{enumerable:!0,get:function(){return vt.GlFloatBuffer}});var bt=r(133);Object.defineProperty(t,"GlTransformComponentFactory",{enumerable:!0,get:function(){return bt.GlTransformComponentFactory}});var Ct=r(359);Object.defineProperty(t,"GraphicsComponentStore",{enumerable:!0,get:function(){return Ct.GraphicsComponentStore}})},2601:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnEntityAddedToGroup=void 0;class a{constructor(e){this.onEntityAddedToGroup=e}static registerListener(e,t){return e.eventService.getCategory(a).addTemporaryListener(new a(t))}static registerOneTimeListener(e,t){return e.eventService.getCategory(a).addOneTimeListener(new a(t))}static emit(e,r,n){const i=e.eventService.getCategory(a).getTargets();for(let e=0,t=i.length;e<t;++e)i[e].onEntityAddedToGroup(r,n)}}(t.OnEntityAddedToGroup=a).callbackKey="onEntityAddedToGroup"},7809:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnEntityAdded=void 0;class a{constructor(e){this.onEntityAdded=e}static registerListener(e,t){return e.eventService.getCategory(a).addTemporaryListener(new a(t))}static registerOneTimeListener(e,t){return e.eventService.getCategory(a).addOneTimeListener(new a(t))}static emit(r,n){const i=r.eventService.getCategory(a).getTargets();for(let e=0,t=i.length;e<t;++e)i[e].onEntityAdded(n,r)}}(t.OnEntityAdded=a).callbackKey="onEntityAdded"},1605:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnEntityModified=void 0;class a{constructor(e){this.onEntityModified=e}static registerListener(e,t){return e.eventService.getCategory(a).addTemporaryListener(new a(t))}static registerOneTimeListener(e,t){return e.eventService.getCategory(a).addOneTimeListener(new a(t))}static emit(r,n){const i=r.eventService.getCategory(a).getTargets();for(let e=0,t=i.length;e<t;++e)i[e].onEntityModified(n,r)}}(t.OnEntityModified=a).callbackKey="onEntityModified"},2806:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnEntityRemovedFromGroup=void 0;class a{constructor(e){this.onEntityRemovedFromGroup=e}static registerListener(e,t){return e.eventService.getCategory(a).addTemporaryListener(new a(t))}static registerOneTimeListener(e,t){return e.eventService.getCategory(a).addOneTimeListener(new a(t))}static emit(e,r,n){const i=e.eventService.getCategory(a).getTargets();for(let e=0,t=i.length;e<t;++e)i[e].onEntityRemovedFromGroup(r,n)}}(t.OnEntityRemovedFromGroup=a).callbackKey="onEntityRemovedFromGroup"},6803:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnEntityRemoved=void 0;class a{constructor(e){this.onEntityRemoved=e}static registerListener(e,t){return e.eventService.getCategory(a).addTemporaryListener(new a(t))}static registerOneTimeListener(e,t){return e.eventService.getCategory(a).addOneTimeListener(new a(t))}static emit(r,n){const i=r.eventService.getCategory(a).getTargets();for(let e=0,t=i.length;e<t;++e)i[e].onEntityRemoved(n,r)}}(t.OnEntityRemoved=a).callbackKey="onEntityRemoved"},2241:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnPlotAttached=void 0;class i{constructor(e){this.onPlotAttached=e}static registerListener(e,t){return e.eventService.getCategory(i).addTemporaryListener(new i(t))}static emit(e,r){const n=e.eventService.getCategory(i).getTargets();for(let e=0,t=n.length;e<t;++e)n[e].onPlotAttached(r)}}(t.OnPlotAttached=i).callbackKey="onPlotAttached"},9048:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnPlotDetached=void 0;class i{constructor(e){this.onPlotDetached=e}static registerListener(e,t){return e.eventService.getCategory(i).addTemporaryListener(new i(t))}static registerOneTimeListener(e,t){return e.eventService.getCategory(i).addOneTimeListener(new i(t))}static emit(e,r){const n=e.eventService.getCategory(i).getTargets();for(let e=0,t=n.length;e<t;++e)n[e].onPlotDetached(r)}}(t.OnPlotDetached=i).callbackKey="onPlotDetached"},786:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnPlotRequiresUpdate=void 0;const a=r(7529);class o{constructor(e){this.onPlotRequiresUpdate=e}static registerListener(e,t){return e.getCategory(o).addTemporaryListener(new o(t))}static emit(r,n){const i=a.Plot.getChartEventService(r).getCategory(o).getTargets();for(let e=0,t=i.length;e<t;++e)i[e].onPlotRequiresUpdate(r,n)}}(t.OnPlotRequiresUpdate=o).callbackKey="onPlotRequiresUpdate"},1717:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlotArea=void 0;const n=r(1030);t.PlotArea=class i{constructor(e,t){this.wholeRange=e,this.interactiveRange=t}static createOneWithMargins(e,t){return t=t.getInnerRange(e),new i(e,t)}static createDefault(){return new i(n.fullClipSpaceRange2d.slice(),n.fullClipSpaceRange2d.slice())}}},5841:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlotInteractionConnector=void 0;const i=r(7490),n=r(1225),a=r(6454),o=r(7124),s=r(1997),c=r(8078);t.PlotInteractionConnector=class{constructor(e,t={doubleClickOptions:{timeout:500,maxRadius:2},pinchZoomSensitivity:1},r=(e,t)=>new n.PlotEventHandler(e,t)){this.stateChangeCallbacks=e,this.options=t,this.createEventHandler=r,this.eventHandler=null,this.userCallbacks=null,this.targetProvider=null,this.temporaryListeners=new c.TemporaryListener}register(e,t,r,n){this.unregister();r=this.targetProvider=r();this.userCallbacks=this.stateChangeCallbacks(r);n=n(this.options,new i.PlotInteractionProviders(this.userCallbacks,r,e.attachPoint));return this.eventHandler=this.createEventHandler(n,e),this.temporaryListeners.addListener(t.getCategory(s.OnCanvasResized).addTemporaryListener(this.userCallbacks)),this.temporaryListeners.addListener(t.getCategory(s.OnCanvasResized).addTemporaryListener(this.eventHandler)),this.temporaryListeners.addListener(t.getCategory(a.OnCanvasMouseEvent).addTemporaryListener(this.eventHandler)),this.temporaryListeners.addListener(t.getCategory(o.OnCanvasPointerEvent).addTemporaryListener(this.eventHandler)),r}unregister(){this.temporaryListeners.clearingEmit(),this.eventHandler=null,this.userCallbacks=null}update(e,t){return null==this.targetProvider?c._Iterator.emptyIterator:this.targetProvider.update(e,t)}}},6554:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlotCtorArg=void 0;t.PlotCtorArg=class{constructor(e,t,r){this.chart=e,this.plotOptions=t,this.plotArea=r}}},7752:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlotDimensions=void 0;const n=r(1717);t.PlotDimensions=class i{constructor(e,t,r){this.clipSpaceArea=e,this.cssArea=t,this.pixelArea=r}static createOneOBL(e,t){return new i(e,new n.PlotArea(e.wholeRange.mat3Multiply(t.transforms.clipToCss),e.interactiveRange.mat3Multiply(t.transforms.clipToCss)),new n.PlotArea(e.wholeRange.mat3Multiply(t.transforms.clipToPixel),e.interactiveRange.mat3Multiply(t.transforms.clipToPixel)))}static createOneOTL(e,t){const r=new i(e,new n.PlotArea(e.wholeRange.mat3Multiply(t.reverseYTransforms.clipToCss),e.interactiveRange.mat3Multiply(t.reverseYTransforms.clipToCss)),new n.PlotArea(e.wholeRange.mat3Multiply(t.reverseYTransforms.clipToPixel),e.interactiveRange.mat3Multiply(t.reverseYTransforms.clipToPixel)));return r.cssArea.interactiveRange.ensureAABB(),r.cssArea.wholeRange.ensureAABB(),r.pixelArea.interactiveRange.ensureAABB(),r.pixelArea.wholeRange.ensureAABB(),r}static createDefault(){return new i(n.PlotArea.createDefault(),n.PlotArea.createDefault(),n.PlotArea.createDefault())}}},7529:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plot=void 0;const i=r(8078),n=r(7752),a=r(9850),o=r(6803),s=r(7809),c=r(2601),l=r(2806);t.Plot=class{constructor(e){var t;this.eventService=new a.EventService,this.onCanvasResized=()=>{this.setPlotArea(this.plotDimensionsOBL.clipSpaceArea)},this.interactionHandler=null,this.entities=new Set,this.entitiesByGroup=new Map,this.groupsByEntities=new Map,this.changeIdFactory=e.chart.changeIdFactory,this.plotRange=e.plotOptions.plotRange,this.plotName=null!==(t=e.plotOptions.plotName)&&void 0!==t?t:null,this.chartEventService=e.chart.eventService,this.attachPoint=e.chart.attachPoint,this.plotDimensionsOTL=n.PlotDimensions.createOneOTL(e.plotArea,this.attachPoint.canvasDims),this.plotDimensionsOBL=n.PlotDimensions.createOneOBL(e.plotArea,this.attachPoint.canvasDims),this.updateStrategy=e.plotOptions.createUpdateStrategy(this,e.plotOptions.updateGroup)}static getChartEventService(e){return e.chartEventService}getInteractionHandler(){return this.interactionHandler}setInteractionHandler(e,t,r){return this.clearInteractionHandler(),this.interactionHandler=e,this.interactionHandler.register(this,this.chartEventService,t,r)}clearInteractionHandler(){null!=this.interactionHandler&&(this.interactionHandler.unregister(this.chartEventService),this.interactionHandler=null)}setPlotArea(e){this.plotDimensionsOTL=n.PlotDimensions.createOneOTL(e,this.attachPoint.canvasDims),this.plotDimensionsOBL=n.PlotDimensions.createOneOBL(e,this.attachPoint.canvasDims)}addEntity(e){this.entities.has(e)||(-1===e.changeId&&(e.changeId=this.changeIdFactory.getNextId()),this.entities.add(e),s.OnEntityAdded.emit(this,e))}removeEntity(r){if(this.entities.delete(r)){const e=this.groupsByEntities.get(r);null!=e&&e.forEach(e=>{const t=this.entitiesByGroup.get(e);null!=t&&(t.delete(r),e.onEntityRemoved(r),l.OnEntityRemovedFromGroup.emit(this,r,e))}),o.OnEntityRemoved.emit(this,r)}}addToGroup(e,t,r){var n=i.DirtyCheckedUniqueCollection.mapInitializeAdd(this.entitiesByGroup,t,e);return i._Map.addToSet(this.groupsByEntities,e,t),n&&(t.onEntityAdded(e,r),c.OnEntityAddedToGroup.emit(this,e,t)),n}removeFromGroup(e,t){i._Map.deleteFromSet(this.groupsByEntities,e,t);var r=i._Map.deleteFromSet(this.entitiesByGroup,t,e);return r&&(t.onEntityRemoved(e),l.OnEntityRemovedFromGroup.emit(this,e,t)),r}getEntitiesInGroup(e){const t=this.entitiesByGroup.get(e);return null==t?i._Array.emptyArray:t.getArray()}}},724:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasComponentRendererProvider=void 0;t.CanvasComponentRendererProvider=class{constructor(e){this.context=e}getRenderer(){return this.context}initializeRenderer(){return this.context}onContextLost(){}reinitializeRenderers(){}}},3624:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasComponentRenderer=void 0;t.CanvasComponentRenderer=class{constructor(e,t){this.context=e,this.sharedState=t,this.specification={}}onAfterInitialization(){}onBeforeInitialization(){}onAfterDraw(){}onBeforeDraw(){}onContextLost(){}}},451:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasContextAdapter=void 0;const n=r(5554);t.CanvasContextAdapter=class{constructor(e,t=new n.ContextChangeHooks){this.canvasElement=e,this.graphContextChangeHooks=t,this.context=null}onResize(){}getContext(){return null!=this.context?this.context:this.context=this.canvasElement.getContext("2d")}}},1893:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasRendererFactory=void 0;t.CanvasRendererFactory=class{constructor(e){this.componentRenderer=e}createRenderer(){return this.componentRenderer}}},7462:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasRendererSharedState=void 0;t.CanvasRendererSharedState=class{constructor(e){this.context=e,this.frameCounter=0,this.scissorRange=null}onNewFrame(){++this.frameCounter}onContextLost(){}updateScissorRange(e){null==(this.scissorRange=e)?this.context.restore():(this.context.save(),this.context.beginPath(),this.context.rect(0|e.getXMin(),0|e.getYMin(),0|e.getXRange(),0|e.getYRange()),this.context.closePath(),this.context.clip())}setContext(e){this.context=e}}},9513:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasRenderer=void 0;const n=r(3624),i=r(8078),a=r(724),o=r(1893),s=r(7462),c=r(9275),l=r(359);t.CanvasRenderer=class d{constructor(e,t){this.graphicsComponents=new l.GraphicsComponentStore,this.callbacks={onBeforePlotDraw(e,t){const r=t.pixelArea.wholeRange;e.clearRect(0|r.getXMin(),0|r.getYMin(),0|r.getXRange(),0|r.getYRange())},onAfterPlotDraw(){}},null!=t&&i._Dictionary.extend(this.callbacks,t),this.context=e,this.sharedState=new s.CanvasRendererSharedState(e);var{componentRendererFactory:t,componentRendererProvider:e}=this.getFactories(e);this.componentRendererProvider=e,this.componentRendererFactory=t,this.transformComponents=new c.TransformComponentStore}static createOne(e,t){return null==e?null:new d(e,t)}onBeforePlotDraw(e,t){this.sharedState.onNewFrame(),this.callbacks.onBeforePlotDraw(this.context,e.plotDimensionsOTL,t)}onAfterPlotDraw(){this.callbacks.onAfterPlotDraw(this.context)}onContextLost(){}onContextRegained(e){var{componentRendererFactory:t,componentRendererProvider:r}=this.getFactories(e);this.sharedState.setContext(e),this.componentRendererProvider=r,this.componentRendererFactory=t}getFactories(e){return e=new n.CanvasComponentRenderer(e,this.sharedState),{componentRendererProvider:new a.CanvasComponentRendererProvider(e),componentRendererFactory:new o.CanvasRendererFactory(e)}}}},5554:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextChangeHooks=void 0;t.ContextChangeHooks=class{registerCallbacks(e,t){this.contextLost=e,this.contextRestored=t}onContextLost(){null!=this.contextLost&&this.contextLost()}onContextRestored(){null!=this.contextRestored&&this.contextRestored()}}},4465:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnGraphicsComponentAdded=void 0;class i{constructor(e){this.onGraphicsComponentAdded=e}static registerListener(e,t){return e.getCategory(i).addTemporaryListener(new i(t))}static emit(e,r){const n=e.getCategory(i).getTargets();for(let e=0,t=n.length;e<t;++e)n[e].onGraphicsComponentAdded(r)}}(t.OnGraphicsComponentAdded=i).callbackKey="onGraphicsComponentAdded"},8015:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnRendererContextLost=void 0;class n{constructor(e){this.onRendererContextLost=e}static registerListener(e,t){return e.getCategory(n).addTemporaryListener(new n(t))}static emit(e){const r=e.getCategory(n).getTargets();for(let e=0,t=r.length;e<t;++e)r[e].onRendererContextLost()}}(t.OnRendererContextLost=n).callbackKey="onRendererContextLost"},3261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AGlAttribute=void 0;r(8078);const o=r(3739);t.AGlAttribute=class{constructor(e,t,r,n=0,i=0,a=!1){this.name=e,this.componentsPerVertex=r,this.byteOffset=n,this.byteStride=i,this.normalized=a,this.attributeLocation=null,this.type=null,this.ptrRequiresSetting=!0,this.divisor=null,this.sharableState=new o.AttributeState(this,t)}onContextLost(){this.ptrRequiresSetting=!0,this.sharableState.buffer.onContextLost(),this.attributeLocation=null,this.type=null,this.divisor=null}initialize(e){e.addAttribute(this),this.sharableState.buffer.initialize(e),this.attributeLocation=e.getAttributeLocation(this.name),this.type=this.getGlType(e.context),e.isVaoActive()&&e.context.enableVertexAttribArray(this.attributeLocation)}getBuffer(){return this.sharableState.buffer}setBuffer(e){this.sharableState.buffer=e;const r=this.sharableState.attributes;for(let e=0,t=r.length;e<t;++e)r[e].ptrRequiresSetting=!0}setData(e,t){this.sharableState.buffer.setData(e,t)}setSize(e,t,r,n){this.sharableState.buffer.setSize(e,t,r,n)}swapBuffer(e){var t=this.sharableState.buffer;this.setBuffer(e.getBuffer()),e.setBuffer(t)}setSubBufferData(e,t,r,n,i){this.sharableState.buffer.setSubBufferData(e.context,t,r,n,i)}setOffset(e){this.byteOffset!==e&&(this.ptrRequiresSetting=!0,this.byteOffset=e)}setStride(e){this.byteStride!==e&&(this.ptrRequiresSetting=!0,this.byteStride=e)}bindTransform(e,t){this.sharableState.buffer.bindTransform(e.context,t)}bindArray(e,t=e.context.DYNAMIC_DRAW){const r=e.context;null!=this.attributeLocation&&null!=this.type&&(e.isVaoActive()?((this.sharableState.buffer.isDirty||this.ptrRequiresSetting)&&this.sharableState.buffer.bindArray(r,t),this.ptrRequiresSetting&&this.setAttributePtr(r,this.attributeLocation,this.type)):(this.sharableState.buffer.bindArray(r,t),r.enableVertexAttribArray(this.attributeLocation),this.setAttributePtr(r,this.attributeLocation,this.type)),this.ptrRequiresSetting=!1)}bindArrayInstanced(e,t,r){if(null!=this.attributeLocation){if(this.bindArray(e,r),e.isVaoActive()){if(this.divisor===t)return;this.divisor=t}e.isGl2?e.context.vertexAttribDivisor(this.attributeLocation,t):e.extensions.ANGLE_instanced_arrays.vertexAttribDivisorANGLE(this.attributeLocation,t)}}reset(e){e.isVaoActive()||null!=this.attributeLocation&&(e.isGl2?e.context.vertexAttribDivisor(this.attributeLocation,0):null!=e.extensions.ANGLE_instanced_arrays&&e.extensions.ANGLE_instanced_arrays.vertexAttribDivisorANGLE(this.attributeLocation,0),e.context.disableVertexAttribArray(this.attributeLocation))}link(e){(this.sharableState=e).addAttribute(this)}getSharableState(){return this.sharableState}setAttributePtr(e,t,r){e.vertexAttribPointer(t,this.componentsPerVertex,r,this.normalized,this.byteStride,this.byteOffset)}}},3739:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeState=void 0;r(8078);t.AttributeState=class{constructor(e,t){this.buffer=t,this.attributes=[e]}addAttribute(e){this.attributes.push(e)}}},3453:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlBuffer=void 0;r(8078);t.GlBuffer=class{constructor(e,t){this.data=e,this.ctor=t,this.isDirty=!0,this.buffer=null,this.changeId=-1,this.mutatorId=-1,this.modificationId=-1,this.byteSize=-1,this.updateSizeFromArray(e)}onContextLost(){this.buffer=null,this.isDirty=!0,this.changeId=-1,this.mutatorId=-1,this.modificationId=-1,this.byteSize=-1}initialize(e){null==this.buffer&&(this.buffer=e.context.createBuffer())}setSize(e,t,r,n){this.changeId!==n&&(this.data=null,this.changeId=n,e.bindBuffer(e.ARRAY_BUFFER,this.buffer),e.bufferData(e.ARRAY_BUFFER,t,r),this.byteSize=t)}setData(e,t){this.changeId!==t&&(this.changeId=t,this.isDirty=!0,this.data=e,this.updateSizeFromArray(e))}bindArray(e,t){var r;e.bindBuffer(e.ARRAY_BUFFER,this.buffer),this.isDirty&&(r=this.data,e.bufferData(e.ARRAY_BUFFER,r,t),this.isDirty=!1)}bindTransform(e,t){e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,t,this.buffer),this.isDirty=!1}getSubBufferData(e,t=new this.ctor(this.byteSize/this.ctor.BYTES_PER_ELEMENT)){return e.bindBuffer(e.ARRAY_BUFFER,this.buffer),e.getBufferSubData(e.ARRAY_BUFFER,0,t),t}setSubBufferData(e,t,r,n,i){if(this.mutatorId===n){if(i<this.modificationId)return;this.modificationId=i}else this.modificationId=i;e.bufferSubData(e.ARRAY_BUFFER,t,r),this.mutatorId=n}updateSizeFromArray(e){this.byteSize=null==e?-1:e.byteLength}}},836:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlFloatAttribute=void 0;class n extends r(3261).AGlAttribute{getGlType(e){return e.FLOAT}}t.GlFloatAttribute=n},5255:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlFloatBuffer=void 0;class n extends r(3453).GlBuffer{constructor(e){super(e,Float32Array)}}t.GlFloatBuffer=n},6660:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlTransformFeedback=void 0;t.GlTransformFeedback=class{constructor(){this.transformFeedback=null}initialize(e){null==this.transformFeedback&&(this.transformFeedback=e.context.createTransformFeedback()),e.addTransform(this)}onContextLost(){this.transformFeedback=null}bind(e){const t=e.context;t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,this.transformFeedback)}beginTransform(e){const t=e.context;t.enable(t.RASTERIZER_DISCARD),t.beginTransformFeedback(t.POINTS)}endTransform(e){const t=e.context;t.endTransformFeedback(),t.disable(t.RASTERIZER_DISCARD)}}},2889:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AGlBinder=void 0;t.AGlBinder=class{update(e,t,r){this.updateData(e,r),this.updatePointers(e),this.bindUniforms(t),this.bindAttributes(t)}}},8635:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AGlInstancedBinder=void 0;class n extends r(2889).AGlBinder{updateInstanced(e,t,r,n,i){this.updateData(e,r),this.updatePointers(e),this.bindUniforms(t),this.bindInstanced(t,n,i)}}t.AGlInstancedBinder=n},7130:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlComponentRendererProvider=void 0;const n=r(8078);t.GlComponentRendererProvider=class{constructor(){this.cache=new Map}getRenderer(e){return this.cache.get(e.getCacheId())}initializeRenderer(e,t){return n._Map.initializeGet(this.cache,e.getCacheId(),t)}onContextLost(){this.cache.forEach(e=>{e.onContextLost()})}reinitializeRenderers(r){this.cache.forEach((e,t)=>{this.cache.set(t,r.createRenderer(e.specification))})}}},2516:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlComponentRenderer=void 0;const a=r(8078);t.GlComponentRenderer=class{constructor(e,t,r,n,i){this.context=e,this.program=t,this.extensions=r,this.specification=n,this.sharedState=i,this.attributeLocations=new Map,this.attributes=new a.DirtyCheckedUniqueCollection,this.uniforms=new a.DirtyCheckedUniqueCollection,this.feedbackTransforms=new a.DirtyCheckedUniqueCollection,this.textures=new a.DirtyCheckedUniqueCollection,this.isGl2=this.context instanceof WebGL2RenderingContext,this.vao=this.createVao()}onContextLost(){a._Array.forEach(this.attributes.getArray(),e=>e.onContextLost()),a._Array.forEach(this.uniforms.getArray(),e=>e.onContextLost()),a._Array.forEach(this.feedbackTransforms.getArray(),e=>e.onContextLost()),a._Array.forEach(this.textures.getArray(),e=>e.onContextLost())}onBeforeDraw(){this.useProgram(),null!=this.vao&&this.bindVao(this.vao)}onAfterDraw(){if(null==this.vao){const r=this.attributes.getArray();for(let e=0,t=r.length;e<t;++e)r[e].reset(this)}}onBeforeInitialization(){null!=this.vao&&this.bindVao(this.vao)}onAfterInitialization(){null!=this.vao&&this.unbindVao()}getAttributeLocation(e){return a._Map.initializeGet(this.attributeLocations,e,()=>this.context.getAttribLocation(this.program,e))}useProgram(){this.context.useProgram(this.program)}isVaoActive(){return null!=this.vao}drawInstancedArrays(e,t,r,n){this.isGl2?this.context.drawArraysInstanced(e,t,r,n):this.extensions.ANGLE_instanced_arrays.drawArraysInstancedANGLE(e,t,r,n)}bindVao(e){e=void 0===e?this.vao:e;this.isGl2?this.context.bindVertexArray(e):this.extensions.OES_vertex_array_object.bindVertexArrayOES(e)}unbindVao(){this.bindVao(null)}createVao(){return this.isGl2?this.context.createVertexArray():null!=this.extensions.OES_vertex_array_object?this.extensions.OES_vertex_array_object.createVertexArrayOES():null}addAttribute(e){this.attributes.add(e)}addUniform(e){this.uniforms.add(e)}addTransform(e){this.feedbackTransforms.add(e)}addTexture(e){this.textures.add(e)}}},40:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlContextAdapter=void 0;t.GlContextAdapter=class{constructor(e,t,r,n){this.canvasElement=e,this.ctxId=t,this.options=r,this.graphContextChangeHooks=n,this.context=null,this.lastCanvasDims=null,this.registerEventHandlers()}onResize(e){this.lastCanvasDims=e,null!=this.context&&this.context.viewport(0,0,e.pixelDims.getXMax(),e.pixelDims.getYMax())}getContext(){return null!=this.context?this.context:this.context=this.canvasElement.getContext(this.ctxId,this.options)}registerEventHandlers(){this.canvasElement.addEventListener("webglcontextlost",e=>{e.preventDefault(),this.context=null,this.graphContextChangeHooks.onContextLost()}),this.canvasElement.addEventListener("webglcontextrestored",e=>{e.preventDefault(),this.getContext(),null!=this.lastCanvasDims&&this.onResize(this.lastCanvasDims),this.graphContextChangeHooks.onContextRestored()})}}},3669:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Gl1ContextAdapter=void 0;const n=r(5554);class i extends r(40).GlContextAdapter{constructor(e,t,r=new n.ContextChangeHooks){super(e,"webgl",t,r)}}t.Gl1ContextAdapter=i},6576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Gl2ContextAdapter=void 0;const n=r(5554);class i extends r(40).GlContextAdapter{constructor(e,t,r=new n.ContextChangeHooks){super(e,"webgl2",t,r)}}t.Gl2ContextAdapter=i},4577:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlComponentRendererFactory=void 0;const o=r(2516),s=r(8078),i=r(5139),c=r(611);class l{constructor(e,t,r,n){this.context=e,this.isGl2=t,this.localizations=r,this.sharedState=n}static createOne(r,n,e=c.developerErrorLocalization,t){if(null==r)return null;var i=r instanceof WebGL2RenderingContext;for(let e=0,t=n.length;e<t;++e){var a=n[e];if(!(null!=r.getExtension(a)||i&&l.gl2StandardExtensions.has(a)))return null}return new l(r,i,e,t)}createRenderer(r){var e=this.compileProgram(r.vertexShader.source,r.fragmentShader.source,r.outAttributes);const n={};for(let e=0,t=r.requiredExtensions.length;e<t;++e){var i=r.requiredExtensions[e],a=this.context.getExtension(i);if(null==a){if(this.isGl2&&l.gl2StandardExtensions.has(i))continue;throw s._Production.createError(`extension "${i}" is required but not available`)}n[i]=a}return s._Array.forEach(r.optionalExtensions,e=>{var t=this.context.getExtension(e);null!=t&&(n[e]=t)}),new o.GlComponentRenderer(this.context,e,n,r,this.sharedState)}compileProgram(e,t,r){var n=this.compileShader(this.context.VERTEX_SHADER,e),e=this.compileShader(this.context.FRAGMENT_SHADER,t),t=this.context.createProgram();if(null==t)throw s._Production.createError("failed to create program");if(this.context.attachShader(t,n),this.context.attachShader(t,e),s._Array.isNotEmpty(r)&&this.context instanceof WebGL2RenderingContext&&this.context.transformFeedbackVaryings(t,r,this.context.SEPARATE_ATTRIBS),this.context.linkProgram(t),this.context.getProgramParameter(t,this.context.LINK_STATUS))return t;r=this.context.getProgramInfoLog(t);throw this.context.deleteProgram(t),new i.GlCompileError(this.localizations.glCompileError,r,this.localizations.getTx)}setContext(e){this.context=e}compileShader(e,t){const r=this.context.createShader(e);if(null==r)throw s._Production.createError(`failed to create shader of type ${e}`);if(this.context.shaderSource(r,t),this.context.compileShader(r),this.context.getShaderParameter(r,this.context.COMPILE_STATUS))return r;t=this.context.getShaderInfoLog(r);throw this.context.deleteShader(r),new i.GlCompileError(this.localizations.glCompileError,t,this.localizations.getTx)}}t.GlComponentRendererFactory=l,l.gl2StandardExtensions=new Set(["ANGLE_instanced_arrays","OES_vertex_array_object","WEBGL_depth_texture","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_standard_derivatives","OES_element_index_uint","EXT_frag_depth","EXT_blend_minmax","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_sRGB"])},2934:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlProgramSpecification=void 0;const a=r(8078),c=r(3890);class o{constructor(e,t,r=[],n=[],i=null){this.vertexShader=e,this.fragmentShader=t,this.requiredExtensions=r,this.optionalExtensions=n,this.outAttributes=i,null!=this.vertexShader.requiredLanguageVersion&&(this.shaderLanguageVersion=this.vertexShader.requiredLanguageVersion)}static mergeProgramSpecifications(e){var t=o.getHighestShaderVersion(e,"vertexShader"),r=o.getHighestShaderVersion(e,"fragmentShader"),n=a._Math.max(t,r),i=o.combineShadersFinal(e,"vertexShader",n,o.vertexShaderCompat),t=o.combineShadersFinal(e,"fragmentShader",n,o.fragmentShaderCompat),r=a._Array.collect(e,new Set,(t,e)=>{a._Array.forEach(e.requiredExtensions,e=>t.add(e))}),n=a._Array.collect(e,new Set,(t,e)=>{a._Array.forEach(e.optionalExtensions,e=>t.add(e))});return new o(i,t,a._Set.valuesToArray(r),a._Set.valuesToArray(n),a._Array.flatMap(e,e=>e.outAttributes))}static getHighestShaderVersion(r,n){let i=-1;for(let e=0,t=r.length;e<t;++e){var a=r[e][n];null!=a.requiredLanguageVersion&&a.requiredLanguageVersion>i&&(i=a.requiredLanguageVersion)}return i}static combineShadersFinal(r,n,i,e){const a=new Array(r.length+3);let o=3;for(let e=0,t=r.length;e<t;++e){var s=r[e][n];a[o++]=s.source,null!=s.requiredLanguageVersion&&s.requiredLanguageVersion>i&&(i=s.requiredLanguageVersion)}return a[0]=-1===i?"":`#version ${i} es`,a[2]=e,new c.GlShader(a.join("\n"),-1===i?void 0:i)}}t.GlProgramSpecification=o,o.vertexShaderCompat=`
#if __VERSION__ >=300 && __VERSION__ < 400
#define ATTRIBUTE in
#define VARYING out
#else
#define ATTRIBUTE attribute
#define VARYING varying
#endif`,o.fragmentShaderCompat=`
#if __VERSION__ >=300 && __VERSION__ < 400
out highp vec4 fragColor;
#endif

#if __VERSION__ >=300 && __VERSION__ < 400
#define VARYING in
#define TEXTURE2D texture
#else
#define VARYING varying
#define TEXTURE2D texture2D
#endif

void setFragmentColor(in lowp vec4 color)
{
    #if __VERSION__ >=300 && __VERSION__ < 400
    fragColor = color;
    #else
    gl_FragColor = color;
    #endif
}`},5734:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlRendererOptions=void 0;const n=r(8078);t.GlRendererOptions=class{constructor(e,t,r){this.onCreate={featuresToEnable:null!=r?r:["CULL_FACE","DEPTH_TEST","SCISSOR_TEST"],requiredExtensionsToGet:e,contextAttributes:t},this.onNewFrame={bufferBitsToClear:["COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT"],clearWithColor:n.Vec4.f32.factory.createOne(0,0,0,0)}}}},159:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlRendererSharedState=void 0;t.GlRendererSharedState=class{constructor(e){this.context=e,this.textureIndex=0,this.frameCounter=0,this.scissorRange=null,this.maxTextureCount=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)}setContext(e){this.context=e}onNewFrame(){++this.frameCounter}onContextLost(){this.scissorRange=null,this.textureIndex=0}clearScissor(){null!=this.scissorRange&&(this.context.disable(this.context.SCISSOR_TEST),this.updateScissorRange(null),this.scissorRange=null)}updateScissorRange(e){if(null==e)return this.clearScissor();null==this.scissorRange&&(this.context.enable(this.context.SCISSOR_TEST),this.scissorRange=e),this.context.scissor(0|e.getXMin(),0|e.getYMin(),1+e.getXRange()|0,1+e.getYRange()|0)}claimTextureUnit(){return this.textureIndex++}}},7625:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlRenderer=void 0;const a=r(8078),o=r(7130),s=r(4577),c=r(611),l=r(159),d=r(9275),u=r(359);t.GlRenderer=class h{constructor(e,t,r,n,i){this.graphicsComponents=new u.GraphicsComponentStore,this.callbacks={onBeforePlotDraw:(e,t)=>{this.sharedState.updateScissorRange(t.pixelArea.wholeRange),e.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),e.clear(this.clearBit)},onAfterPlotDraw(){}},null!=n&&a._Dictionary.extend(this.callbacks,n),this.sharedState=i,this.context=e,this.componentRendererProvider=new o.GlComponentRendererProvider,this.componentRendererFactory=r,this.transformComponents=new d.TransformComponentStore,a._Array.forEach(t.onCreate.featuresToEnable,e=>this.context.enable(this.context[e])),this.clearBit=t.onNewFrame.bufferBitsToClear.reduce((e,t)=>e|this.context[t],0),this.clearColor=t.onNewFrame.clearWithColor}static createOne(e,t,r=c.developerErrorLocalization,n){if(null==e)return null;var i=new l.GlRendererSharedState(e);return null==(r=s.GlComponentRendererFactory.createOne(e,t.onCreate.requiredExtensionsToGet,r,i))?null:new h(e,t,r,n,i)}onBeforePlotDraw(e,t){this.sharedState.onNewFrame(),this.callbacks.onBeforePlotDraw(this.context,e.plotDimensionsOBL,t)}onAfterPlotDraw(){this.callbacks.onAfterPlotDraw(this.context)}onContextLost(){this.componentRendererProvider.onContextLost(),this.sharedState.onContextLost()}onContextRegained(e){this.context=e,this.sharedState.setContext(e),this.componentRendererFactory.setContext(e),this.componentRendererProvider.reinitializeRenderers(this.componentRendererFactory),this.graphicsComponents.reinitializeGraphicsComponents(this)}}},3890:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlShader=void 0;const a=r(8078);t.GlShader=class o{constructor(e,t){this.source=e,this.requiredLanguageVersion=t}static getShaderFlag(e,t){return["#define ",e,t?"1":"0","\n"].join(" ")}static getShaderInt(e,t){return["#define ",e,t,"\n"].join(" ")}static combineShaders(r){let n=-1;for(let e=0,t=r.length;e<t;++e){var i=r[e];null!=i.requiredLanguageVersion&&i.requiredLanguageVersion>n&&(n=i.requiredLanguageVersion)}var e=a._Array.map(r,e=>e.source).join("\n");return new o(e,-1===n?void 0:n)}}},6952:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dummyGlProgramSpecification=void 0;const n=r(2934);r=r(6428);t.dummyGlProgramSpecification=new n.GlProgramSpecification(r.dummyShader,r.dummyShader)},6428:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dummyShader=void 0;const n=r(3890);t.dummyShader=new n.GlShader(`
void main()
{
}
`)},1224:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emptyShader=void 0;const n=r(3890);t.emptyShader=new n.GlShader("")},1626:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generate2LinedNormalShader=void 0;const n=r(3890);t.generate2LinedNormalShader=new n.GlShader(`
#ifndef NORMAL_2D_GENERATOR

#define NORMAL_2D_GENERATOR 1
/* === normal generator === */
vec2 generate2dLineNormal(in vec2 a, in vec2 b, in vec2 fallback)
{
    vec2 difference = b - a;
    vec2 absoluteDifference = abs(difference);
    float isNonZero = sign(absoluteDifference.x + absoluteDifference.y);
    difference = mix(fallback, difference, isNonZero);

    return normalize(vec2(difference.y, -difference.x));
}

#endif
`)},6196:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mat2MultiplyValueShader=void 0;const n=r(3890);t.mat2MultiplyValueShader=new n.GlShader(`
#ifndef GET_MAT2_MULTIPLY_VALUE

#define GET_MAT2_MULTIPLY_VALUE 1

float mat2MultiplyValue(mat2 transform, float value)
{
    return (transform * vec2(value, 1)).x;
}

#endif
`)},1850:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mat3MultiplyVec2Shader=void 0;const n=r(3890);t.mat3MultiplyVec2Shader=new n.GlShader(`
#ifndef GET_MAT3_MULTIPLY_VEC2

#define GET_MAT3_MULTIPLY_VEC2 1

vec2 mat3MultiplyVec2(mat3 transform, vec2 coords)
{
    return (transform * vec3(coords, 1)).xy;
}

#endif
`)},5377:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mixComponentsShader=void 0;const n=r(3890);t.mixComponentsShader=new n.GlShader(`
#ifndef MIX_COMPONENTS

#define MIX_COMPONENTS 1

vec2 mixComponents(vec2 a, vec2 b, vec2 factor)
{
    return vec2(
    mix(a.x, b.x, factor.x),
    mix(a.y, b.y, factor.y)
    );
}

#endif
`)},8783:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackColorShader=void 0;var n=r(8078);const i=r(3890);t.unpackColorShader=new i.GlShader(`
#ifndef FLOAT_COLOR_PACKER

#define FLOAT_COLOR_PACKER 1

/* === color unpacker (float) === */
const highp int ERgbaShift_R = ${n.ERgbaShift.R};
const highp int ERgbaShift_G = ${n.ERgbaShift.G};
const highp int ERgbaShift_B = ${n.ERgbaShift.B};

const highp int ERgbaMasks_R = 0xFF << ERgbaShift_R;
const highp int ERgbaMasks_G = 0xFF << ERgbaShift_G;
const highp int ERgbaMasks_B = 0xFF << ERgbaShift_B;

mediump vec4 unpackColor(highp float packedColor)
{
    highp int tmp = int(packedColor);
    const highp float sf = 1./255.;

    return vec4(
        float(((tmp & ERgbaMasks_R) >> ERgbaShift_R) & 0xFF) * sf,
        float(((tmp & ERgbaMasks_G) >> ERgbaShift_G) & 0xFF) * sf,
        float(((tmp & ERgbaMasks_B) >> ERgbaShift_B) & 0xFF) * sf,
        1.
    );
}

#endif
`,300)},1127:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlTexture2d=void 0;const n=r(8078);t.GlTexture2d=class{constructor(e,t){this.name=e,this.data=t,this.uniformLocation=null,this.texture=null,this.isDirty=!0,this.textureUnit=null}initialize(e){e.addTexture(this),this.textureUnit=e.sharedState.claimTextureUnit();const t=e.context;t.activeTexture(t.TEXTURE0+this.textureUnit),this.uniformLocation=t.getUniformLocation(e.program,this.name),this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}updateData(e){this.data=e,this.isDirty=!0}bind(e){if(null==this.data||null==this.textureUnit)throw n._Production.createError("expected data to be initialized");if(this.isDirty){const t=e.context;t.activeTexture(t.TEXTURE0+this.textureUnit),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.data),this.isDirty=!1}}onContextLost(){this.uniformLocation=null,this.texture=null,this.isDirty=!0,this.textureUnit=null}}},133:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlTransformComponentFactory=void 0;t.GlTransformComponentFactory=class{constructor(e,t,r){this.userTransformId=e,this.binderId=t,this.transformCtor=r}createOne(e){return new this.transformCtor(e)}addToChart(e){e.addTransform(this)}}},3296:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlTransformProvider=void 0;const n=r(8078);t.GlTransformProvider=class{constructor(e,t,r){this.transformKey=e,this.binder=t,this.getUserTransform=r,this.transformComponent=null,this.groupId=n._Identifier.getNextIncrementingId()}getTransformBinder(){return this.binder.getTransformBinder()}updateTransform(e,t){t=this.getUserTransform(t).userTransformId;this.transformComponent=n._Fp.normalizeToNull(e.transformComponents.getTransform(t,this.transformKey))}setOutputBuffers(e,t){null!=this.transformComponent&&this.transformComponent.setOutputBuffers(e,this.binder,t)}setGroupId(e){this.groupId=e}}},8763:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AGlUniformArray=void 0;t.AGlUniformArray=class{constructor(e,t,r=!1){this.name=e,this.data=t,this.transpose=r,this.isDirty=!0,this.uniformLocation=null,this.changeId=Number.MIN_SAFE_INTEGER}onContextLost(){this.isDirty=!0,this.uniformLocation=null}initialize(e){e.addUniform(this),this.uniformLocation=e.context.getUniformLocation(e.program,this.name)}setData(e,t){this.changeId!==t&&(this.changeId=t,this.data=e,this.isDirty=!0)}}},9836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AGlUniformValue=void 0;t.AGlUniformValue=class{constructor(e,t){this.name=e,this.data=t,this.isDirty=!0,this.uniformLocation=null}onContextLost(){this.isDirty=!0,this.uniformLocation=null}initialize(e){e.addUniform(this),this.uniformLocation=e.context.getUniformLocation(e.program,this.name)}setData(e){this.data!==e&&(this.data=e,this.isDirty=!0)}}},9333:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlFloatUniform=void 0;class n extends r(9836).AGlUniformValue{bind(e){this.isDirty&&(e.context.uniform1f(this.uniformLocation,this.data),this.isDirty=!1)}}t.GlFloatUniform=n},1973:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlIVec2Uniform=void 0;class n extends r(8763).AGlUniformArray{bind(e){var t;this.isDirty&&(t=this.data,e.context.uniform2iv(this.uniformLocation,t),this.isDirty=!1)}}t.GlIVec2Uniform=n},7573:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlIVec3Uniform=void 0;class n extends r(8763).AGlUniformArray{bind(e){var t;this.isDirty&&(t=this.data,e.context.uniform3iv(this.uniformLocation,t),this.isDirty=!1)}}t.GlIVec3Uniform=n},8952:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlIVec4Uniform=void 0;class n extends r(8763).AGlUniformArray{bind(e){var t;this.isDirty&&(t=this.data,e.context.uniform4iv(this.uniformLocation,t),this.isDirty=!1)}}t.GlIVec4Uniform=n},1394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlMat2Uniform=void 0;class n extends r(8763).AGlUniformArray{bind(e){var t;this.isDirty&&(t=this.data,e.context.uniformMatrix2fv(this.uniformLocation,this.transpose,t),this.isDirty=!1)}}t.GlMat2Uniform=n},502:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlMat3Uniform=void 0;class n extends r(8763).AGlUniformArray{bind(e){var t;this.isDirty&&(t=this.data,e.context.uniformMatrix3fv(this.uniformLocation,this.transpose,t),this.isDirty=!1)}}t.GlMat3Uniform=n},3066:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlMat4Uniform=void 0;class n extends r(8763).AGlUniformArray{bind(e){var t;this.isDirty&&(t=this.data,e.context.uniformMatrix4fv(this.uniformLocation,this.transpose,t),this.isDirty=!1)}}t.GlMat4Uniform=n},4992:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlVec2Uniform=void 0;class n extends r(8763).AGlUniformArray{bind(e){var t;this.isDirty&&(t=this.data,e.context.uniform2fv(this.uniformLocation,t),this.isDirty=!1)}}t.GlVec2Uniform=n},9253:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlVec3Uniform=void 0;class n extends r(8763).AGlUniformArray{bind(e){var t;this.isDirty&&(t=this.data,e.context.uniform3fv(this.uniformLocation,t),this.isDirty=!1)}}t.GlVec3Uniform=n},7558:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlVec4Uniform=void 0;class n extends r(8763).AGlUniformArray{bind(e){var t;this.isDirty&&(t=this.data,e.context.uniform4fv(this.uniformLocation,t),this.isDirty=!1)}}t.GlVec4Uniform=n},359:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphicsComponentStore=void 0;const n=r(4062);t.GraphicsComponentStore=class{constructor(){this.graphicsComponents=new Map}getComponent(e){return this.graphicsComponents.get(e)}setComponent(e){this.graphicsComponents.set(e.getCacheId(),e)}reinitializeGraphicsComponents(t){this.graphicsComponents.forEach(e=>{(0,n.initializeGraphicsComponent)(t,e)})}}},6630:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EGraphicsComponentType=void 0,(t=t.EGraphicsComponentType||(t.EGraphicsComponentType={}))[t.Entity=1]="Entity",t[t.Composite=2]="Composite"},9677:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphicsSubComponents=void 0;t.GraphicsSubComponents=class{constructor(e){this.graphicsComponents=e}addComponent(e){this.graphicsComponents.push(e)}getSubComponents(){return this.graphicsComponents}}},4062:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeGraphicsComponent=void 0,t.initializeGraphicsComponent=function(e,t){const r=e.componentRendererProvider.initializeRenderer(t,()=>e.componentRendererFactory.createRenderer(t.specification));r.onBeforeInitialization(),t.initialize(r),r.onAfterInitialization(),e.graphicsComponents.setComponent(t)}},1941:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkGraphicsComponents=void 0;const d=r(8078);r(6630);t.linkGraphicsComponents=function(r){if(!(r.length<2)){const o=new Map,s=new Map;for(let e=0,t=r.length;e<t;++e){const c=r[e];var n=c.getLinkableBinders();1===n.length&&d._Map.push(s,n[0].linkId,c);for(let e=0,t=n.length;e<t;++e){var i=n[e];d._Map.push(o,i.linkId,i)}}for(const e of o.values()){const t=e.pop();t.link(e)}for(const l of s.values()){var a=l[0].transform.groupId;for(let e=1,t=l.length;e<t;++e)l[e].transform.setGroupId(a)}}}},9435:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertBinder=void 0;r(8078);t.assertBinder=function(e,t){}},1018:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoTransformProvider=void 0;const n=r(8078);t.NoTransformProvider=class{constructor(){this.groupId=n._Identifier.getNextIncrementingId(),this.transformComponent=null}getTransformBinder(){return null}updateTransform(){}setOutputBuffers(){}setGroupId(e){}}},9275:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransformComponentStore=void 0;const i=r(8078);t.TransformComponentStore=class{constructor(){this.transforms=new Map}getTransform(e,t){const r=this.transforms.get(e);if(null!=r)return r.get(t)}setTransform(e,t,r){const n=i._Map.initializeGet(this.transforms,e,()=>new Map);n.has(r)||n.set(t,r)}}},6447:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpriteLookup=void 0;t.SpriteLookup=class{static createOne(e){return new Float32Array(4*e)}static toTypedArray(e){return e}static setSpriteAtIndex(e,t,r,n,i,a){e[t*=4]=r,e[t+1]=n,e[t+2]=i,e[t+3]=a}static getXAtIndex(e,t){return e[4*t]}static getYAtIndex(e,t){return e[4*t+1]}static getWidthAtIndex(e,t){return e[4*t+2]}static getHeightAtIndex(e,t){return e[4*t+3]}}},5281:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpriteProvider=void 0;class r{constructor(e){this.canvasElement=e.addHiddenElement("axis-labels","canvas"),this.context=this.initializeContext()}upscaleCanvas(e,t){t>this.canvasElement.height&&(t=r.nearestPowerOf2(t),this.canvasElement.height=t),e>this.canvasElement.width&&(e=r.nearestPowerOf2(e),this.canvasElement.width=e)}getCanvas(){return this.canvasElement}getContext(){return this.context}initializeContext(){var e=this.canvasElement.getContext("2d");if(null==e)throw new Error("failed to initialize axis canvas");return e}static nearestPowerOf2(e){return 1<<32-Math.clz32(e)}}t.SpriteProvider=r},3460:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasDimensions=void 0;const n=r(8078),i=r(1030),a=r(1538),o=r(7905),s=r(8245);t.CanvasDimensions=class c{constructor(e,t,r,n){this.dpr=e,this.cssDims=t,this.pixelDims=r,this.boundingRect=n,this.transforms=new s.CanvasTransforms(i.fullClipSpaceRange2d.getRangeTransform(r),i.fullClipSpaceRange2d.getRangeTransform(t),r.getRangeTransform(i.fullClipSpaceRange2d),t.getRangeTransform(i.fullClipSpaceRange2d)),this.reverseYTransforms=new s.CanvasTransforms(o.reverseYFullClipSpaceRange2d.getRangeTransform(r),o.reverseYFullClipSpaceRange2d.getRangeTransform(t),r.getRangeTransform(o.reverseYFullClipSpaceRange2d),t.getRangeTransform(o.reverseYFullClipSpaceRange2d)),this.pixelToClipSize=r.getRangeTransform(a.fullClipSpaceSize2d)}static createDefault(){return new c(1,n.Range2d.f32.factory.createOne(0,300,0,300),n.Range2d.f32.factory.createOne(0,300,0,300),n.Range2d.f32.factory.createOne(0,300,0,300))}clone(){return new c(this.dpr,this.pixelDims,this.pixelDims,this.boundingRect)}}},8245:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasTransforms=void 0;t.CanvasTransforms=class{constructor(e,t,r,n){this.clipToPixel=e,this.clipToCss=t,this.pixelToClip=r,this.cssToClip=n}}},6454:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnCanvasMouseEvent=void 0;class a{constructor(e){this.onMouseEvent=e}static registerListener(e,t){return e.getCategory(a).addTemporaryListener(new a(t))}static emit(e,r,n){const i=e.getCategory(a).getTargets();for(let e=0,t=i.length;e<t;++e)i[e].onMouseEvent(r,n)}}(t.OnCanvasMouseEvent=a).callbackKey="onMouseEvent"},7124:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnCanvasPointerEvent=void 0;class a{constructor(e){this.onPointerEvent=e}static registerListener(e,t){return e.getCategory(a).addTemporaryListener(new a(t))}static emit(e,r,n){const i=e.getCategory(a).getTargets();for(let e=0,t=i.length;e<t;++e)i[e].onPointerEvent(r,n)}}(t.OnCanvasPointerEvent=a).callbackKey="onPointerEvent"},1997:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnCanvasResized=void 0;class i{constructor(e){this.onCanvasResized=e}static registerListener(e,t){return e.getCategory(i).addTemporaryListener(new i(t))}static emit(e,r){const n=e.getCategory(i).getTargets();for(let e=0,t=n.length;e<t;++e)n[e].onCanvasResized(r)}}(t.OnCanvasResized=i).callbackKey="onCanvasResized"},3484:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnDprChanged=void 0;class i{constructor(e){this.onDprChanged=e}static registerListener(e,t){return e.getCategory(i).addTemporaryListener(new i(t))}static emit(e,r){const n=e.getCategory(i).getTargets();for(let e=0,t=n.length;e<t;++e)n[e].onDprChanged(r)}}(t.OnDprChanged=i).callbackKey="onDprChanged"},1780:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphAttachPointProvider=void 0;t.GraphAttachPointProvider=class{constructor(e,t=r){(this.attachPointElement=e).innerHTML=t}getCanvasElement(){return this.attachPointElement.getElementsByClassName("ecs-canvas")[0]}getWrapperElement(){return this.attachPointElement.getElementsByClassName("ecs-chart")[0]}getHiddenElement(){return this.attachPointElement.getElementsByClassName("ecs-hidden-element")[0]}};const r=`
<div class="ecs-chart">
    <canvas class="ecs-canvas"></canvas>
    <div class="ecs-hidden-element"></div>
</div>
`},5018:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphAttachPoint=void 0;const i=r(8078),n=r(7287),a=r(4767),o=r(3460),s=r(7124),c=r(6454),l=r(3484);class d extends i.AOnDestroy{constructor(e,t,r,n=window){super(),this.chartEventService=t,this.chartConfig=r,this.$window=n,this.canvasDims=o.CanvasDimensions.createDefault(),this.hiddenElements={},this.chartWrapper=e.getWrapperElement(),this.hiddenElement=e.getHiddenElement(),this.canvasElement=e.getCanvasElement(),this.registerEventHandlers()}resizeCanvas(){var e=0|this.canvasElement.clientWidth,t=0|this.canvasElement.clientHeight;if(this.canvasDims.cssDims.getXMax()===e&&this.canvasDims.cssDims.getYMax()===t)return this.canvasDims;var r=this.$window.devicePixelRatio,n=this.canvasElement.getBoundingClientRect();return this.canvasDims=new o.CanvasDimensions(r,i.Range2d.f32.factory.createOne(0,0|e,0,0|t),i.Range2d.f32.factory.createOne(0,e*r|0,0,t*r|0),i.Range2d.f32.factory.createOne(n.left,n.right,n.top,n.bottom)),this.canvasElement.width=this.canvasDims.pixelDims.getXRange(),this.canvasElement.height=this.canvasDims.pixelDims.getYRange(),this.canvasDims}addHiddenElement(e,t){var r=this.hiddenElements[e];if(null!=r)return r;{const n=this.hiddenElements[e]=this.$window.document.createElement(t);return n.classList.add(e),this.hiddenElement.appendChild(n),n}}removeHiddenElement(e){e=this.hiddenElement.getElementsByClassName(e)[0];null!=e&&this.hiddenElement.removeChild(e)}registerEventHandlers(){this.chartConfig.interactionOptions.disableAllInteraction||(this.onDestroyListener.initializeListener(()=>{const t={once:!0,passive:!0};let r=matchMedia(`(resolution: ${this.$window.devicePixelRatio}dppx)`);const n=()=>{var e=this.$window.devicePixelRatio;r=matchMedia(`(resolution: ${e}dppx)`),r.addEventListener("change",n,t),l.OnDprChanged.emit(this.chartEventService,e)};return r.addEventListener("change",n,t),()=>r.removeEventListener("change",n)}),this.chartConfig.interactionOptions.scrollZooms&&this.onDestroyListener.initializeListener(()=>{const e=e=>{e.stopPropagation(),e.preventDefault(),c.OnCanvasMouseEvent.emit(this.chartEventService,n.EMouseEventType.Wheel,e)};return this.chartConfig.changeDetectionConfig.runOutsideOfChangeDetection(()=>{this.canvasElement.addEventListener("wheel",e,{passive:!1})}),()=>this.canvasElement.removeEventListener("wheel",e)}),this.chartConfig.interactionOptions.disableLongPressContext&&this.onDestroyListener.initializeListener(()=>{const e=e=>{e.stopPropagation(),e.preventDefault()};return this.chartConfig.changeDetectionConfig.runOutsideOfChangeDetection(()=>{this.canvasElement.addEventListener("contextmenu",e,{passive:!1})}),()=>this.canvasElement.removeEventListener("contextmenu",e)}),this.onDestroyListener.initializeListener(()=>{const e=e=>s.OnCanvasPointerEvent.emit(this.chartEventService,a.EPointerEventType.Out,e);return this.chartConfig.changeDetectionConfig.runOutsideOfChangeDetection(()=>{this.canvasElement.addEventListener("pointerout",e,{passive:!0})}),()=>this.canvasElement.removeEventListener("pointerout",e)}),this.onDestroyListener.initializeListener(()=>{const e=e=>s.OnCanvasPointerEvent.emit(this.chartEventService,a.EPointerEventType.Down,e);return this.chartConfig.changeDetectionConfig.runOutsideOfChangeDetection(()=>{this.canvasElement.addEventListener("pointerdown",e,{passive:!0})}),()=>this.canvasElement.removeEventListener("pointerdown",e)}),this.onDestroyListener.initializeListener(()=>{const e=e=>s.OnCanvasPointerEvent.emit(this.chartEventService,a.EPointerEventType.Up,e);return this.chartConfig.changeDetectionConfig.runOutsideOfChangeDetection(()=>{this.canvasElement.addEventListener("pointerup",e,{passive:!0})}),()=>this.canvasElement.removeEventListener("pointerup",e)}),this.onDestroyListener.initializeListener(()=>{const e=e=>s.OnCanvasPointerEvent.emit(this.chartEventService,a.EPointerEventType.Move,e);return this.chartConfig.changeDetectionConfig.runOutsideOfChangeDetection(()=>{this.canvasElement.addEventListener("pointermove",e,{passive:!0})}),()=>this.canvasElement.removeEventListener("pointermove",e)}))}}t.GraphAttachPoint=d},1030:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullClipSpaceRange2d=void 0;const n=r(8078);t.fullClipSpaceRange2d=n.Range2d.f32.factory.createOne(-1,1,-1,1)},1538:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullClipSpaceSize2d=void 0;const n=r(8078);t.fullClipSpaceSize2d=n.Range2d.f32.factory.createOne(0,2,0,2)},7905:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reverseYFullClipSpaceRange2d=void 0;const n=r(8078);t.reverseYFullClipSpaceRange2d=n.Range2d.f32.factory.createOne(-1,1,1,-1)},7018:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EEntityUpdateFlag=void 0,(t=t.EEntityUpdateFlag||(t.EEntityUpdateFlag={}))[t.NoUpdateRequired=0]="NoUpdateRequired",t[t.DrawRequired=1]="DrawRequired",t[t.InteractionHandlerUpdateRequired=2]="InteractionHandlerUpdateRequired",t[t.UpdateAllRequired=3]="UpdateAllRequired"},81:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntityUpdateGrouping=void 0;t.EntityUpdateGrouping=class{constructor(e,t){this.graphicsComponent=e,this.componentRenderer=t}drawUpdateGroup(r,n){const i=this.componentRenderer,a=this.graphicsComponent;i.onBeforeDraw(),a.onBeforeUpdate(i,n);for(let e=0,t=r.length;e<t;++e)a.update(r[e],i,n);i.onAfterDraw()}}},1363:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntityUpdateTransformGrouping=void 0;t.EntityUpdateTransformGrouping=class{constructor(e,t,r,n){this.graphicsComponent=e,this.componentRenderer=t,this.transformComponent=r,this.transformRenderer=n}drawUpdateGroup(r,n){const i=this.transformRenderer,a=this.componentRenderer,o=this.graphicsComponent,s=this.transformComponent;for(let e=0,t=r.length;e<t;++e){var c=r[e];i.onBeforeDraw(),o.transform.setOutputBuffers(c,i),s.performTransform(c,i,n),i.onAfterDraw(),a.onBeforeDraw(),o.onBeforeUpdate(a,n),o.update(c,a,n),a.onAfterDraw()}}}},2513:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateTransformGroupingByEntity=void 0;r(8078);t.UpdateTransformGroupingByEntity=class{constructor(e,t,r,n){this.graphicsComponents=e,this.componentRenderers=t,this.transformComponents=r,this.transformRenderers=n,this.reuseTransform=this.getReuseTransforms(e,r)}drawUpdateGroup(r,n){var i=this.graphicsComponents,a=this.componentRenderers,o=this.transformComponents,s=this.transformRenderers,c=this.reuseTransform;for(let e=0,t=r.length;e<t;++e){var l=r[e];for(let e=0,t=i.length;e<t;++e){const d=i[e],u=a[e],h=o[e],p=s[e];null==h||c[e]||(p.onBeforeDraw(),d.transform.setOutputBuffers(l,p),h.performTransform(l,p,n),p.onAfterDraw()),u.onBeforeDraw(),d.onBeforeUpdate(u,n),d.update(l,u,n),u.onAfterDraw()}}}getReuseTransforms(r,n){const i=new Uint8Array(n.length),a=new Map;for(let e=0,t=n.length;e<t;++e){var o=n[e],s=r[e];null!=o?a.get(o)===s.transform.groupId?i[e]=1:(i[e]=0,a.set(o,s.transform.groupId)):i[e]=0}return i}}},1004:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameProvider=void 0;const i=r(4092);t.FrameProvider=class{constructor(e,t,r,n=window){this.drawCallback=e,this.updateInteractionHandlersCallback=t,this.$window=n,this.onRafCallback=()=>{const e=this.drawCallback,t=this.interactionHandlersToUpdate,r=this.interactionStateUpdater;for(const n of this.plotsToUpdate)e(n),t.has(n)&&r.addPlotToUpdateQueue(n);this.nextFrame=null,this.interactionStateUpdater.updateInteractionHandlers(),this.plotsToUpdate.clear(),this.interactionHandlersToUpdate.clear()},this.plotsToUpdate=new Set,this.interactionHandlersToUpdate=new Set,this.nextFrame=null,this.interactionStateUpdater=new i.InteractionHandlerUpdater(this.updateInteractionHandlersCallback,r)}updateOnNextFrame(e,t){this.plotsToUpdate.add(e),t&&this.interactionHandlersToUpdate.add(e),null==this.nextFrame&&(this.nextFrame=this.$window.requestAnimationFrame(this.onRafCallback))}cancelNextFrame(){null!=this.nextFrame&&(this.$window.cancelAnimationFrame(this.nextFrame),this.nextFrame=null,this.plotsToUpdate.clear(),this.interactionHandlersToUpdate.clear(),this.interactionStateUpdater.cancelAll())}}},4092:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionHandlerUpdater=void 0;const n=r(8078);t.InteractionHandlerUpdater=class{constructor(e,t){this.updateInteractionHandlersCallback=e,this.rollupTime=t,this.updateInteractionHandlersImpl=n._Fp.debounce(this.rollupTime,!1,()=>{this.incrementalUpdater.isUpdating?this.incrementalUpdater.resume():this.incrementalUpdater.beginUpdate()}),this.incrementalUpdater=new n.IncrementalUpdater(this),this.plotsToUpdate=new Set,this.nextPlotsToUpdate=new Set}addPlotToUpdateQueue(e){this.incrementalUpdater.isUpdating?(this.plotsToUpdate.delete(e),this.nextPlotsToUpdate.add(e)):this.plotsToUpdate.add(e)}updateInteractionHandlers(){this.incrementalUpdater.isUpdating&&this.incrementalUpdater.suspend(),this.updateInteractionHandlersImpl()}cancelAll(){this.plotsToUpdate.clear(),this.nextPlotsToUpdate.clear(),this.incrementalUpdater.cancel()}*incrementallyUpdate(){for(var e;;){for(const t of this.plotsToUpdate){const r=this.updateInteractionHandlersCallback(t);for(;(null===(e=r.next().done)||void 0===e||!e)&&(yield,this.plotsToUpdate.has(t)););}if(0===this.nextPlotsToUpdate.size)break;this.swap()}this.plotsToUpdate.clear()}swap(){var e=this.plotsToUpdate;this.plotsToUpdate=this.nextPlotsToUpdate,this.nextPlotsToUpdate=e,this.nextPlotsToUpdate.clear()}}},2739:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderList=void 0;const n=r(8078);t.RenderList=class{constructor(e){this.updateGroupHooks=e,this.groupings=[],this.uniqueEntities=[],this.currentGrouping=null,this.uniqueEntitiesSet=new Set}addGrouping(e){this.currentGrouping=[e,[]],this.groupings.push(this.currentGrouping)}addEntity(e){this.currentGrouping[1].push(e),this.uniqueEntitiesSet.add(e)}build(){this.uniqueEntities=n._Set.valuesToArray(this.uniqueEntitiesSet),this.uniqueEntitiesSet.clear()}}},1271:e=>{var k,t=(k="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(a){var r,o;(a=void 0!==(a=a||{})?a:{}).ready=new Promise(function(e,t){r=e,o=t});var e,t={};for(e in a)a.hasOwnProperty(e)&&(t[e]=a[e]);var n,s=!0,c=!1,i="";(s||c)&&(c?i=self.location.href:"undefined"!=typeof document&&document.currentScript&&(i=document.currentScript.src),i=0!==(i=k?k:i).indexOf("blob:")?i.substr(0,i.replace(/[?#].*/,"").lastIndexOf("/")+1):"",c&&(n=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));a.print||console.log.bind(console);var l,d=a.printErr||console.warn.bind(console);for(e in t)t.hasOwnProperty(e)&&(a[e]=t[e]);t=null,a.arguments&&a.arguments,a.thisProgram&&a.thisProgram,a.quit&&a.quit,a.wasmBinary&&(l=a.wasmBinary);a.noExitRuntime;"object"!=typeof WebAssembly&&M("no native wasm support detected");var u,h,p,f,g=!1;function m(e){u=e,a.HEAP8=h=new Int8Array(e),a.HEAP16=new Int16Array(e),a.HEAP32=f=new Int32Array(e),a.HEAPU8=p=new Uint8Array(e),a.HEAPU16=new Uint16Array(e),a.HEAPU32=new Uint32Array(e),a.HEAPF32=new Float32Array(e),a.HEAPF64=new Float64Array(e)}var y,v=a.INITIAL_MEMORY||8388608,b=a.wasmMemory||new WebAssembly.Memory({initial:v/65536,maximum:32768}),v=(u=b?b.buffer:u).byteLength;m(u);var C=[],P=[],E=[];function _(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)e=a.preRun.shift(),C.unshift(e);var e;G(C)}function O(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)e=a.postRun.shift(),E.unshift(e);var e;G(E)}var T=0,w=null,S=null;function M(e){a.onAbort&&a.onAbort(e),d(e="Aborted("+e+")"),g=!0,e+=". Build with -s ASSERTIONS=1 for more info.";e=new WebAssembly.RuntimeError(e);throw o(e),e}a.preloadedImages={},a.preloadedAudios={};var A,R;function x(e){return e.startsWith("data:application/octet-stream;base64,")}function I(e){try{if(e==A&&l)return new Uint8Array(l);if(n)return n(e);throw"both async and sync fetching of the wasm failed"}catch(e){M(e)}}function G(e){for(;0<e.length;){var t,r=e.shift();"function"!=typeof r?"number"==typeof(t=r.func)?void 0===r.arg?D(t)():D(t)(r.arg):t(void 0===r.arg?null:r.arg):r(a)}}x(A="sandbox-module.wasm")||(R=A,A=a.locateFile?a.locateFile(R,i):i+R);var j=[];function D(e){var t=j[e];return t||(e>=j.length&&(j.length=e+1),j[e]=t=y.get(e)),t}function L(e){this.excPtr=e,this.ptr=e-16,this.set_type=function(e){f[this.ptr+4>>2]=e},this.get_type=function(){return f[this.ptr+4>>2]},this.set_destructor=function(e){f[this.ptr+8>>2]=e},this.get_destructor=function(){return f[this.ptr+8>>2]},this.set_refcount=function(e){f[this.ptr>>2]=e},this.set_caught=function(e){h[this.ptr+12>>0]=e=e?1:0},this.get_caught=function(){return 0!=h[this.ptr+12>>0]},this.set_rethrown=function(e){h[this.ptr+13>>0]=e=e?1:0},this.get_rethrown=function(){return 0!=h[this.ptr+13>>0]},this.init=function(e,t){this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=f[this.ptr>>2];f[this.ptr>>2]=e+1},this.release_ref=function(){var e=f[this.ptr>>2];return f[this.ptr>>2]=e-1,1===e}}var B,U={e:function(e){return F(e+16)+16},d:function(e,t,r){throw new L(e).init(t,r),e},c:function(){M("")},f:function(e,t,r){p.copyWithin(e,t,t+r)},b:function(e){var t=p.length;if(2147483648<(e>>>=0))return!1;for(var r,n=1;n<=4;n*=2){var i=t*(1+.2/n),i=Math.min(i,e+100663296);if(function(e){try{return b.grow(e-u.byteLength+65535>>>16),m(b.buffer),1}catch(e){}}(Math.min(2147483648,(0<(r=Math.max(e,i))%(i=65536)&&(r+=i-r%i),r))))return!0}return!1},a:b},F=(function(){var t={a:U};function r(e,t){e=e.exports;a.asm=e,y=a.asm.O,e=a.asm.g,P.unshift(e),T--,a.monitorRunDependencies&&a.monitorRunDependencies(T),0==T&&(null!==w&&(clearInterval(w),w=null),S&&(e=S,S=null,e()))}function n(e){r(e.instance)}function i(e){return(l||!s&&!c||"function"!=typeof fetch?Promise.resolve().then(function(){return I(A)}):fetch(A,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+A+"'";return e.arrayBuffer()}).catch(function(){return I(A)})).then(function(e){return WebAssembly.instantiate(e,t)}).then(function(e){return e}).then(e,function(e){d("failed to asynchronously prepare wasm: "+e),M(e)})}if(T++,a.monitorRunDependencies&&a.monitorRunDependencies(T),a.instantiateWasm)try{return a.instantiateWasm(t,r)}catch(e){return d("Module.instantiateWasm callback failed with error: "+e)}(l||"function"!=typeof WebAssembly.instantiateStreaming||x(A)||"function"!=typeof fetch?i(n):fetch(A,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,t).then(n,function(e){return d("wasm streaming compile failed: "+e),d("falling back to ArrayBuffer instantiation"),i(n)})})).catch(o)}(),a.___wasm_call_ctors=function(){return(a.___wasm_call_ctors=a.asm.g).apply(null,arguments)},a._f32Interleaved2dLineQuadIndexer_index=function(){return(a._f32Interleaved2dLineQuadIndexer_index=a.asm.h).apply(null,arguments)},a._f64Interleaved2dLineQuadIndexer_index=function(){return(a._f64Interleaved2dLineQuadIndexer_index=a.asm.i).apply(null,arguments)},a._f32Interleaved2dCircleQuadIndexer_index=function(){return(a._f32Interleaved2dCircleQuadIndexer_index=a.asm.j).apply(null,arguments)},a._f64Interleaved2dCircleQuadIndexer_index=function(){return(a._f64Interleaved2dCircleQuadIndexer_index=a.asm.k).apply(null,arguments)},a._f32Interleaved2dQuadIndexer_getOffsets=function(){return(a._f32Interleaved2dQuadIndexer_getOffsets=a.asm.l).apply(null,arguments)},a._f64Interleaved2dQuadIndexer_getOffsets=function(){return(a._f64Interleaved2dQuadIndexer_getOffsets=a.asm.m).apply(null,arguments)},a._f32InterleavedConnector_createOne=function(){return(a._f32InterleavedConnector_createOne=a.asm.n).apply(null,arguments)},a._f32InterleavedConnector_setStart=function(){return(a._f32InterleavedConnector_setStart=a.asm.o).apply(null,arguments)},a._f32InterleavedConnector_setLength=function(){return(a._f32InterleavedConnector_setLength=a.asm.p).apply(null,arguments)},a._f32InterleavedConnector_delete=function(){return(a._f32InterleavedConnector_delete=a.asm.q).apply(null,arguments)},a._f64InterleavedConnector_createOne=function(){return(a._f64InterleavedConnector_createOne=a.asm.r).apply(null,arguments)},a._f64InterleavedConnector_setStart=function(){return(a._f64InterleavedConnector_setStart=a.asm.s).apply(null,arguments)},a._f64InterleavedConnector_setLength=function(){return(a._f64InterleavedConnector_setLength=a.asm.t).apply(null,arguments)},a._f64InterleavedConnector_delete=function(){return(a._f64InterleavedConnector_delete=a.asm.u).apply(null,arguments)},a._f32QuadTree_createTree=function(){return(a._f32QuadTree_createTree=a.asm.v).apply(null,arguments)},a._f32QuadTree_setTopLevel=function(){return(a._f32QuadTree_setTopLevel=a.asm.w).apply(null,arguments)},a._f32QuadTree_queryPoint=function(){return(a._f32QuadTree_queryPoint=a.asm.x).apply(null,arguments)},a._f32QuadTree_insertRange=function(){return(a._f32QuadTree_insertRange=a.asm.y).apply(null,arguments)},a._f32QuadTree_delete=function(){return(a._f32QuadTree_delete=a.asm.z).apply(null,arguments)},a._quadTree_setOptions=function(){return(a._quadTree_setOptions=a.asm.A).apply(null,arguments)},a._quadTree_getResultAddress=function(){return(a._quadTree_getResultAddress=a.asm.B).apply(null,arguments)},a._quadTree_getQuadElementCount=function(){return(a._quadTree_getQuadElementCount=a.asm.C).apply(null,arguments)},a._f32SharedArray_createOne=function(){return(a._f32SharedArray_createOne=a.asm.D).apply(null,arguments)},a._f32SharedArray_getArrayAddress=function(){return(a._f32SharedArray_getArrayAddress=a.asm.E).apply(null,arguments)},a._f32SharedArray_delete=function(){return(a._f32SharedArray_delete=a.asm.F).apply(null,arguments)},a._f64SharedArray_createOne=function(){return(a._f64SharedArray_createOne=a.asm.G).apply(null,arguments)},a._f64SharedArray_getArrayAddress=function(){return(a._f64SharedArray_getArrayAddress=a.asm.H).apply(null,arguments)},a._f64SharedArray_delete=function(){return(a._f64SharedArray_delete=a.asm.I).apply(null,arguments)},a._jsUtilEndProgram=function(){return(a._jsUtilEndProgram=a.asm.J).apply(null,arguments)},a._jsUtilMalloc=function(){return(a._jsUtilMalloc=a.asm.K).apply(null,arguments)},a._jsUtilCalloc=function(){return(a._jsUtilCalloc=a.asm.L).apply(null,arguments)},a._jsUtilFree=function(){return(a._jsUtilFree=a.asm.M).apply(null,arguments)},a._malloc=function(){return(F=a._malloc=a.asm.N).apply(null,arguments)});function V(e){function t(){B||(B=!0,a.calledRun=!0,g||(G(P),r(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),O()))}0<T||(_(),0<T||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),t()},1)):t()))}if(S=function e(){B||V(),B||(S=e)},a.run=V,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return V(),a.ready});e.exports=t}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={exports:{}};return r[e](t,t.exports,a),t.exports}a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};(()=>{"use strict";var e=a(1147),p=a(9547),f=a(7665),g=a(8078);const t={margins:g.Margin2d.f32.factory.createOne(50,20,10,30),unit:f.k$.CssPixel},r=new f.ZP({fontFamilies:["sans-serif"],fontSize:12,maxWidth:50,formatNumber:e=>e.toPrecision(3),textColor:g.RgbaColorPacker.packColor(240,240,240,255),padding:14}),n={traceColor:g.RgbaColorPacker.packColor(0,201,201,255),maxTraceCount:5,traceLinePixelSize:5};function m(e){return new f.m({plotName:e.plotName,plotRange:e.plotRange,gutterOptions:t,plotPosition:e.plotPosition,axisConfig:r,traceOptions:n,updateGroup:new f.nM(e.updateArgProvider),createUpdateStrategy:(e,t)=>new f.Gh(e,t,new f.eF(t),e=>e.userTransform)})}function d(e,t,r,n){var i=255<<r;return(((t&i)>>>r)-((e&i)>>>r))/n}function u(e,t,r){var n=255<<t,r=((e&n)>>>t)+r;return(e&=~n)|r<<t}function y(e,t,r,n){!function(t,e,r){var n=2*Math.PI/(t.getLength()-1),i=e.getXCenter(),a=e.getYCenter(),o=g._Math.min(e.getXRange(),e.getYRange())*r.getNext()*.5;for(let e=t.getStart();e<t.getEnd();++e){var s=n*e;t.setValue(e,t.offsets.x,i+Math.cos(s)*o),t.setValue(e,t.offsets.y,a+Math.sin(s)*o)}}(e,t,n),null!=e.offsets.size&&function(e,r,n){var i=(e.getY()-e.getX())/(r.getLength()-1),a=e.getX();for(let e=r.getStart(),t=r.getEnd();e<t;++e){var o=a+i*e;r.setValue(e,n,o)}}(g.Vec2.f32.factory.createOne(1,100),e,e.offsets.size),null!=e.offsets.color&&function(r,e,n,i){var a=g.ERgbaShift,o=d(r,e,a.R,n.getLength()-1),s=d(r,e,a.G,n.getLength()-1),c=d(r,e,a.B,n.getLength()-1);for(let e=n.getStart(),t=n.getEnd();e<t;++e){var l=u(r,a.R,o*e),l=u(l,a.G,s*e);l=u(l,a.B,c*e),n.setValue(e,i,l)}}(g.RgbaColorPacker.packColor(255*n.getNext(),255*n.getNext(),0,r),g.RgbaColorPacker.packColor(0,255*n.getNext(),255*n.getNext(),r),e,e.offsets.color)}const i=a(1271),v=new g.Mulberry32Generator(79769);window.onload=()=>(0,e.__awaiter)(void 0,void 0,void 0,function*(){var e=yield(0,g.getEmscriptenWrapper)(new WebAssembly.Memory({initial:256,maximum:8192}),i);!function(t){const r=g.Range2d.f64.factory.createOne(1,10,1,10),n=p.CanvasChartFactory.createOne(document.getElementById("canvas-chart"),new p.ChartConfig),i=new f.yY(g.Range1d.f64.factory.createOne(10,20)),a={pointDisplay:new f.tu(5,g.RgbaColorPacker.packColor(130,0,255,255),g.RgbaColorPacker.packColor(0,130,255,255)),pointSizeNormalizer:i.normalization,zIndexAbs:0,zIndexRel:0},o={hitAllowedComponent:new p.HitAlwaysAllowedComponent,hitTestComponent:new f.ae(f.sp.createOneF64(t))};if(null==n)throw new Error("failed to create renderer");const s=new f.Do,c=n.addPlot(f.TG.createOne(n,m({plotName:"plot lower left",plotRange:f.Li.createOneF64({canvasDims:n.attachPoint.canvasDims,userTransform:new f.GT(!1,!0),maxZoom:1,dataRange:r.slice(),maxBounds:r.slice()}),plotPosition:g.Range2d.f32.factory.createOne(-1,0,-1,0),updateArgProvider:new f.O}))),l=new f.er(c,{yieldTime:16});l.setQuadTreeInteractionHandler(t,n);const d=n.addPlot(f.TG.createOne(n,m({plotName:"plot upper right",plotRange:f.Li.createOneF64({canvasDims:n.attachPoint.canvasDims,userTransform:new f.eT,maxZoom:100,dataRange:r.slice(),maxBounds:g.Range2d.f64.factory.createOne(1,100,1,100)}),plotPosition:g.Range2d.f32.factory.createOne(0,1,0,1),updateArgProvider:new f.O}))),e=new f.er(d,{yieldTime:16});e.setQuadTreeInteractionHandler(t,n);for(let e=0;e<50;++e){var u=p.SharedInterleavedConnector.createOneF64(t,180,{offsets:{x:0,y:1,size:2,color:3},blockElementCount:4});y(u,r,255,v);const h=new p.ChartDataEntity(u,a,n.changeIdFactory);h.onHover=function(e,t){return(0,f.fl)(this,e,t),p.EEntityUpdateFlag.DrawRequired},c.dataCategory.addEntity(h,s,i),l.interactionGroups.hoverable.addToGroup(h,o),d.dataCategory.addEntity(new p.ChartDataEntity(u,a,n.changeIdFactory),s,i)}n.updateImmediate(),n.updateInteractionHandlers(),window.addEventListener("resize",g._Fp.debounce(250,!1,()=>{n.updateOnNextFrame()}))}(e),function(t){const r=p.GlChartFactory.createOne(document.getElementById("gl-chart"),p.Gl2ContextAdapter,new p.ChartConfig,new p.GlRendererOptions([],{preserveDrawingBuffer:!0}));if(null==r)throw new Error("failed to create renderer");var e=r.getTransformProvider([f.GT.transformId],!0);f.Qc.factory.addToChart(e),f.vd.factory.addToChart(e);const n=new f.yY(g.Range1d.f32.factory.createOne(10,20)),i={pointDisplay:new f.tu(1,g.RgbaColorPacker.packColor(255,0,0,255),g.RgbaColorPacker.packColor(255,0,255,255)),pointSizeNormalizer:n.normalization,zIndexAbs:0,zIndexRel:0},a={hitAllowedComponent:new p.HitAlwaysAllowedComponent,hitTestComponent:new f.ae(f.sp.createOneF32(t))},o=g.Range2d.f32.factory.createOne(1,10,1,10),s=r.addPlot(f.os.createOne(r,m({plotName:"gl plot",plotRange:f.Li.createOneF32({canvasDims:r.attachPoint.canvasDims,userTransform:new f.GT(!1,!0),maxZoom:1/0,dataRange:o.slice(),maxBounds:g.Range2d.f32.factory.createOne(1,100,1,100)}),plotPosition:g.Range2d.f32.factory.createOne(-1,1,-1,1),updateArgProvider:new f.u6}))),c=new f.er(s,{yieldTime:16});c.setQuadTreeInteractionHandler(t,r);var l={offsets:{x:0,y:1,size:2,color:3},blockElementCount:4},e=p.SharedInterleavedConnector.getDescriptor(l,Float32Array),d=p.CompositeGraphicsComponent.createOneLinked(new f.Yx(new f.oJ,new f.OV(e,{pointsToBind:3}))).addComponent(new f.w1(new f.oJ,new f.OV(e,{pointsToBind:2}))).build();for(let e=0;e<100;++e){var u=p.SharedInterleavedConnector.createOneF32(t,400,l);y(u,o,0,v);const h=new p.ChartDataEntity(u,i,r.changeIdFactory);h.onHover=function(e,t){return(0,f.fl)(this,e,t),p.EEntityUpdateFlag.DrawRequired},(0,p.addEntityToCategory)(s.dataCategory,h,d,n),c.interactionGroups.clickable.addToGroup(h,a),c.interactionGroups.hoverable.addToGroup(h,a)}r.updateImmediate(),r.updateInteractionHandlers(),window.addEventListener("resize",g._Fp.debounce(250,!1,()=>{r.updateOnNextFrame()}))}(e)})})()})();
//# sourceMappingURL=main.js.map